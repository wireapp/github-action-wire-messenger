{"version":3,"sources":["webpack://wireWebApiClient/webpack/bootstrap","webpack://wireWebApiClient/../../src/http/index.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/utils.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/logdown/dist/logdown.min.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/events/events.js","webpack://wireWebApiClient/../../src/main/index.ts","webpack://wireWebApiClient/../../src/auth/index.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/process/browser.js","webpack://wireWebApiClient/../../../src/team/team/TeamAPI.ts","webpack://wireWebApiClient/../../src/user/index.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/index.js","webpack://wireWebApiClient/../src/main/Priority.ts","webpack://wireWebApiClient/../src/APIClient.ts","webpack://wireWebApiClient/../../src/http/BackendErrorLabel.ts","webpack://wireWebApiClient/../../src/client/index.ts","webpack://wireWebApiClient/../../../src/shims/browser/cookie.ts","webpack://wireWebApiClient/../../src/auth/AuthenticationError.ts","webpack://wireWebApiClient/../../src/auth/CookieStore.ts","webpack://wireWebApiClient/../../../src/main/config/CommonConfig.ts","webpack://wireWebApiClient/../../../src/main/util/RandomUtil.ts","webpack://wireWebApiClient/(webpack)/buildin/global.js","webpack://wireWebApiClient/../../src/conversation/index.ts","webpack://wireWebApiClient/../../src/validation/index.ts","webpack://wireWebApiClient/../../src/conversation/ConversationRole.ts","webpack://wireWebApiClient/../../src/team/index.ts","webpack://wireWebApiClient/../../../src/team/team/index.ts","webpack://wireWebApiClient/../../../src/team/invitation/InvitationError.ts","webpack://wireWebApiClient/../../../src/team/member/Permissions.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/bind.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/buildURL.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/cancel/isCancel.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/defaults.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/adapters/xhr.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/createError.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/mergeConfig.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/cancel/Cancel.js","webpack://wireWebApiClient/../../src/user/UserError.ts","webpack://wireWebApiClient/../src/main/Item.ts","webpack://wireWebApiClient/../../src/obfuscation/index.ts","webpack://wireWebApiClient/../../../src/shims/browser/buffer.ts","webpack://wireWebApiClient/../../src/asset/AssetRetentionPolicy.ts","webpack://wireWebApiClient/../../src/asset/AssetUtil.ts","webpack://wireWebApiClient/../../src/tcp/index.ts","webpack://wireWebApiClient/../../src/account/AccountAPI.ts","webpack://wireWebApiClient/../../src/http/BackendError.ts","webpack://wireWebApiClient/../../src/http/BackendErrorMapper.ts","webpack://wireWebApiClient/../../src/auth/AccessTokenStore.ts","webpack://wireWebApiClient/../../src/auth/AuthAPI.ts","webpack://wireWebApiClient/../../src/client/ClientAPI.ts","webpack://wireWebApiClient/../../src/client/ClientClassification.ts","webpack://wireWebApiClient/../../src/client/ClientType.ts","webpack://wireWebApiClient/../../src/auth/Cookie.ts","webpack://wireWebApiClient/../../src/main/LogFactory.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/ansi-regex/index.js","webpack://wireWebApiClient/external \"{}\"","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/os-browserify/browser.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/path-browserify/index.js","webpack://wireWebApiClient/../../../src/main/util/index.ts","webpack://wireWebApiClient/../../../src/main/util/AccentColor.ts","webpack://wireWebApiClient/../../../src/main/util/ArrayUtil.ts","webpack://wireWebApiClient/../../../src/main/util/DateUtil.ts","webpack://wireWebApiClient/../../../src/main/util/StringUtil.ts","webpack://wireWebApiClient/../../../src/main/util/TimeUtil.ts","webpack://wireWebApiClient/../../../src/main/util/UrlUtil.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/url-search-params-polyfill/index.js","webpack://wireWebApiClient/../../../src/main/util/ValidationUtil.ts","webpack://wireWebApiClient/../../../src/main/util/Runtime.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/platform/platform.js","webpack://wireWebApiClient/(webpack)/buildin/module.js","webpack://wireWebApiClient/../../src/conversation/Conversation.ts","webpack://wireWebApiClient/../../src/conversation/ConversationAPI.ts","webpack://wireWebApiClient/../../src/validation/ValidationError.ts","webpack://wireWebApiClient/../../src/conversation/ConversationError.ts","webpack://wireWebApiClient/../../src/conversation/MutedStatus.ts","webpack://wireWebApiClient/../../../src/team/invitation/index.ts","webpack://wireWebApiClient/../../../src/team/invitation/TeamInvitationAPI.ts","webpack://wireWebApiClient/../../../src/team/legalhold/index.ts","webpack://wireWebApiClient/../../../src/team/legalhold/LegalHoldAPI.ts","webpack://wireWebApiClient/../../../src/team/legalhold/LegalHoldData.ts","webpack://wireWebApiClient/../../../src/team/legalhold/LegalHoldMemberStatus.ts","webpack://wireWebApiClient/../../../src/team/property/index.ts","webpack://wireWebApiClient/../../../src/team/property/PropertyAPI.ts","webpack://wireWebApiClient/../../../src/team/member/index.ts","webpack://wireWebApiClient/../../../src/team/member/MemberAPI.ts","webpack://wireWebApiClient/../../../src/team/member/Role.ts","webpack://wireWebApiClient/../../../src/team/payment/index.ts","webpack://wireWebApiClient/../../../src/team/payment/PaymentAPI.ts","webpack://wireWebApiClient/../../../src/team/payment/PaymentData.ts","webpack://wireWebApiClient/../../../src/team/payment/PaymentInterval.ts","webpack://wireWebApiClient/../../../src/team/payment/PaymentPlan.ts","webpack://wireWebApiClient/../../../src/team/payment/PaymentStripeCharge.ts","webpack://wireWebApiClient/../../../src/team/payment/SupportedCurrency.ts","webpack://wireWebApiClient/../../../src/team/service/index.ts","webpack://wireWebApiClient/../../../src/team/service/ServiceAPI.ts","webpack://wireWebApiClient/../../src/team/TeamError.ts","webpack://wireWebApiClient/../../../src/team/identityprovider/index.ts","webpack://wireWebApiClient/../../../src/team/identityprovider/IdentityProviderAPI.ts","webpack://wireWebApiClient/../../../src/team/feature/index.ts","webpack://wireWebApiClient/../../../src/team/feature/FeatureAPI.ts","webpack://wireWebApiClient/../../../src/team/feature/FeatureStatus.ts","webpack://wireWebApiClient/../../../src/team/conversation/index.ts","webpack://wireWebApiClient/../../../src/team/conversation/TeamConversationAPI.ts","webpack://wireWebApiClient/../../src/user/UserAPI.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/axios.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/Axios.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/InterceptorManager.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/dispatchRequest.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/transformData.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/settle.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/enhanceError.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/core/buildFullPath.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/combineURLs.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/parseHeaders.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/cookies.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/cancel/CancelToken.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/axios/lib/helpers/spread.js","webpack://wireWebApiClient/../../src/user/UserAsset.ts","webpack://wireWebApiClient/../../src/http/ConnectionState.ts","webpack://wireWebApiClient/../../src/http/ContentType.ts","webpack://wireWebApiClient/../../src/http/HttpClient.ts","webpack://wireWebApiClient/../src/main/index.ts","webpack://wireWebApiClient/../src/main/PriorityQueue.ts","webpack://wireWebApiClient/../../src/obfuscation/ObfuscationUtil.ts","webpack://wireWebApiClient/../../src/http/NetworkError.ts","webpack://wireWebApiClient/../../src/http/StatusCode.ts","webpack://wireWebApiClient/../../src/http/RequestProgressHandler.ts","webpack://wireWebApiClient/../../src/account/AccountError.ts","webpack://wireWebApiClient/../../src/asset/index.ts","webpack://wireWebApiClient/../../src/asset/AssetAPI.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/spark-md5/spark-md5.js","webpack://wireWebApiClient/../../../src/shims/node/random.ts","webpack://wireWebApiClient/../../src/broadcast/index.ts","webpack://wireWebApiClient/../../src/broadcast/BroadcastAPI.ts","webpack://wireWebApiClient/../../src/connection/index.ts","webpack://wireWebApiClient/../../src/connection/ConnectionAPI.ts","webpack://wireWebApiClient/../../src/connection/ConnectionStatus.ts","webpack://wireWebApiClient/../../src/env/index.ts","webpack://wireWebApiClient/../../src/env/Backend.ts","webpack://wireWebApiClient/../../src/giphy/index.ts","webpack://wireWebApiClient/../../src/giphy/GiphyAPI.ts","webpack://wireWebApiClient/../../src/giphy/GiphyOptions.ts","webpack://wireWebApiClient/../../src/notification/index.ts","webpack://wireWebApiClient/../../src/notification/NotificationAPI.ts","webpack://wireWebApiClient/../../src/self/index.ts","webpack://wireWebApiClient/../../src/self/ConsentType.ts","webpack://wireWebApiClient/../../src/self/Self.ts","webpack://wireWebApiClient/../../src/self/SelfAPI.ts","webpack://wireWebApiClient/../../src/tcp/WebSocketClient.ts","webpack://wireWebApiClient/../../src/tcp/ReconnectingWebsocket.ts","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/reconnecting-websocket/dist/reconnecting-websocket-mjs.js","webpack://wireWebApiClient//home/travis/build/wireapp/wire-web-packages/node_modules/ws/browser.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","toString","isArray","val","isUndefined","isObject","isFunction","forEach","obj","fn","length","isArrayBuffer","isBuffer","constructor","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","window","document","merge","result","assignValue","arguments","deepMerge","extend","a","b","thisArg","trim","str","replace","e","default","f","prefixColors","_setPrefixRegExps","localStorage","getItem","_prefixRegExps","split","substr","_prepareRegExpForPrefixSearch","push","type","regExp","_getNextPrefixColor","_getDecoratedPrefix","this","opts","prefix","prefixColor","_prepareOutput","markdown","parse","text","concat","styles","slice","_isPrefixAlreadyInUse","_getInstanceByPrefix","_normalizeOpts","state","_getInitialState","_decorateLoggerMethods","_instances","transports","RegExp","some","filter","TypeError","Boolean","logger","console","plaintext","isEnabled","_getEnableState","test","keys","join","instance","level","args","msg","apply","Array","renderer","_","x","match","u","tag","pop","indexOf","g","documentElement","style","userAgent","self","global","getGlobal","ob","pb","qb","Function","eval","ReflectOwnKeys","R","Reflect","ReflectApply","target","receiver","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","NumberIsNaN","Number","isNaN","EventEmitter","init","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","$getMaxListeners","that","_addListener","listener","prepend","events","existing","warning","newListener","emit","unshift","warned","w","Error","String","emitter","count","warn","onceWrapper","fired","removeListener","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","arr","ret","unwrapListeners","arrayClone","listenerCount","copy","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","on","prependListener","once","prependOnceListener","list","position","originalListener","shift","index","spliceOne","off","removeAllListeners","rawListeners","eventNames","__exportStar","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","title","browser","env","argv","version","versions","binding","cwd","chdir","dir","umask","BackendErrorLabel","SyntheticErrorLabel","CookieStore","Permissions","utils","encode","encodeURIComponent","url","params","paramsSerializer","serializedParams","parts","v","toISOString","JSON","stringify","hashmarkIndex","__CANCEL__","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","headers","adapter","defaults","XMLHttpRequest","transformRequest","data","transformResponse","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","method","settle","buildURL","buildFullPath","parseHeaders","isURLSameOrigin","createError","config","Promise","resolve","reject","requestData","requestHeaders","request","auth","username","password","Authorization","btoa","fullPath","baseURL","open","toUpperCase","onreadystatechange","readyState","responseURL","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onabort","onerror","ontimeout","timeoutErrorMessage","cookies","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","code","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","prop","axiosKeys","otherKeys","Cancel","RequestCancellationError","AssetRetentionPolicy","ClientClassification","LogFactory","onlyFirst","pattern","endianness","hostname","location","loadavg","uptime","freemem","MAX_VALUE","totalmem","cpus","release","appVersion","networkInterfaces","getNetworkInterfaces","arch","platform","tmpdir","tmpDir","EOL","homedir","normalizeArray","allowAboveRoot","up","last","splice","xs","res","resolvedPath","resolvedAbsolute","path","charAt","normalize","isAbsolute","trailingSlash","paths","relative","from","to","start","end","fromParts","toParts","Math","min","samePartsLength","outputParts","sep","delimiter","dirname","charCodeAt","hasRoot","matchedSlash","basename","ext","extname","startDot","startPart","preDotState","AccentColorID","color","id","TimeInMillis","ampersandTest","nativeURLSearchParams","isSupportObjectConstructor","decodesPlusesCorrectly","__URLSearchParams__","encodesAmpersandsCorrectly","append","URLSearchParamsPolyfill","iterable","iterator","appendTo","dict","has","getAll","query","useProxy","Proxy","construct","USPProto","polyfill","callback","parseToDict","sort","k","j","values","items","item","makeIterator","entries","search","decode","decodeURIComponent","next","done","pairs","OperatingSystem","objectTypes","root","freeExports","freeModule","nodeType","freeGlobal","maxSafeInteger","pow","reOpera","objectProto","capitalize","string","format","forOwn","getClassOf","qualify","reduce","accumulator","each","ua","isCustomContext","nav","isSpecialCasedOS","likeChrome","airRuntimeClass","enviroClass","javaClass","java","phantomClass","rhino","environment","alpha","beta","doc","opera","operamini","operaClass","description","prerelease","useFeatures","layout","guess","exec","label","guesses","getName","getProduct","manufacturer","getManufacturer","os","cleanupOS","getOS","parseFloat","runtime","flash","system","Capabilities","phantom","major","minor","patch","documentMode","toFixed","lang","System","getProperty","require","electron","node","nw","appMinorVersion","external","parseInt","family","architecture","cpuClass","webpackPolyfill","deprecate","children","CONVERSATION_TYPE","CONVERSATION_ACCESS_ROLE","CONVERSATION_ACCESS","allInvitations","LegalHoldMemberStatus","Role","PaymentStatus","PaymentInterval","PaymentPlanID","PaymentStripeChargeStatus","ServiceNotFoundError","Axios","mergeConfig","createInstance","defaultConfig","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","fulfilled","rejected","getUri","handlers","use","eject","h","transformData","throwIfCancellationRequested","throwIfRequested","reason","fns","normalizedName","isAxiosError","toJSON","number","fileName","lineNumber","columnNumber","stack","isAbsoluteURL","combineURLs","requestedURL","relativeURL","ignoreDuplicateOf","parsed","line","originURL","msie","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","host","hash","port","pathname","requestURL","write","expires","domain","secure","cookie","Date","toGMTString","remove","now","executor","resolvePromise","token","source","ConnectionState","StatusCode","hex_chr","md5cycle","md5blk","md5blks","md5blk_array","md51","tail","tmp","lo","hi","substring","rhex","hex","toUtf8","unescape","hexToBinaryString","bytes","fromCharCode","SparkMD5","reset","clamp","max","num","targetArray","sourceArray","byteLength","begin","Uint8Array","appendBinary","contents","_buff","_length","_hash","raw","buff","_finish","getState","setState","destroy","hashBinary","content","first","second","returnUInt8Array","subarray","utf8Str2ArrayBuffer","md51_array","factory","ConnectionStatus","GIPHY_RATING","ManagedSource","extendStatics","setPrototypeOf","__proto__","__extends","__","__read","ar","__spread","Event","ErrorEvent","_super","_this","CloseEvent","wasClean","getGlobalWebSocket","WebSocket","DEFAULT","maxReconnectionDelay","minReconnectionDelay","random","minUptime","reconnectionDelayGrowFactor","connectionTimeout","maxRetries","Infinity","maxEnqueuedMessages","startClosed","debug","ReconnectingWebSocket","protocols","options","close","_retryCount","_shouldReconnect","_connectLock","_binaryType","_closeCalled","_messageQueue","onclose","onmessage","onopen","_handleOpen","event","_debug","_a","_options","_connectTimeout","_uptimeTimeout","_acceptOpen","_ws","binaryType","_callEventListener","_handleMessage","_handleError","_disconnect","_connect","_handleClose","_clearTimeouts","_url","_protocols","configurable","CONNECTING","OPEN","CLOSING","CLOSED","acc","Blob","size","bufferedAmount","extensions","reconnect","dispatchEvent","e_1","listeners_1","__values","listeners_1_1","e_1_1","return","removeEventListener","_i","log","_getNextDelay","_b","_c","_d","delay","_wait","_getNextUrl","urlProvider","_removeListeners","_addListeners","_handleTimeout","handleEvent"],"mappings":"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","file":"api-client.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./BackendError\"), exports);\n__exportStar(require(\"./BackendErrorMapper\"), exports);\n__exportStar(require(\"./BackendErrorLabel\"), exports);\n__exportStar(require(\"./ConnectionState\"), exports);\n__exportStar(require(\"./ContentType\"), exports);\n__exportStar(require(\"./HttpClient\"), exports);\n__exportStar(require(\"./NetworkError\"), exports);\n__exportStar(require(\"./StatusCode\"), exports);\n__exportStar(require(\"./RequestProgressHandler\"), exports);\n__exportStar(require(\"./RequestCancelable\"), exports);\n//# sourceMappingURL=index.js.map","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Function equal to merge with the difference being that no reference\n * to original objects is kept.\n *\n * @see merge\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction deepMerge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = deepMerge(result[key], val);\n    } else if (typeof val === 'object') {\n      result[key] = deepMerge({}, val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  deepMerge: deepMerge,\n  extend: extend,\n  trim: trim\n};\n","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.logdown=e():t.logdown=e()}(window,function(){return function(r){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}return o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,r){var n,o=r(1)(),i=r(3),s=r(5),f=r(8)();o.prefixColors=[\"#F2777A\",\"#F99157\",\"#FFCC66\",\"#99CC99\",\"#66CCCC\",\"#6699CC\",\"#CC99CC\"],o._setPrefixRegExps=function(){try{f.localStorage&&\"string\"==typeof f.localStorage.getItem(\"debug\")&&(o._prefixRegExps=[],f.localStorage.getItem(\"debug\").split(\",\").forEach(function(t){var e=\"enable\";\"-\"===(t=t.trim())[0]&&(t=t.substr(1),e=\"disable\");var r=o._prepareRegExpForPrefixSearch(t);o._prefixRegExps.push({type:e,regExp:r})}))}catch(t){}},o._getNextPrefixColor=(n=0,function(){return n+=1,o.prefixColors[n%o.prefixColors.length]}),o.prototype._getDecoratedPrefix=function(){var t=[];return s()?(t.push(\"%c\"+this.opts.prefix+\"%c \"),t.push(\"color:\"+this.opts.prefixColor+\"; font-weight:bold;\",\"\")):t.push(\"[\"+this.opts.prefix+\"] \"),t},o.prototype._prepareOutput=function(t){var e,r=this._getDecoratedPrefix();return\"string\"==typeof t[0]?this.opts.markdown&&s()?(e=i.parse(t[0]),r[0]=r[0]+e.text,r=r.concat(e.styles)):r[0]=r[0]+t[0]:r.push(t[0]),1<t.length&&(r=r.concat(t.slice(1))),r},o._setPrefixRegExps(),t.exports=o},function(t,e,r){var f=r(2);t.exports=function(){function s(t,e){return this instanceof s?s._isPrefixAlreadyInUse(t)?s._getInstanceByPrefix(t):(this.opts=s._normalizeOpts(t,e),this.state=s._getInitialState(this.opts),s._decorateLoggerMethods(this),s._instances.push(this),this):new s(t,e)}return s.transports=[],s._instances=[],s._prefixRegExps=[],s._prepareRegExpForPrefixSearch=function(t){return new RegExp(\"^\"+t.replace(/\\*/g,\".*?\")+\"$\")},s._isPrefixAlreadyInUse=function(e){return s._instances.some(function(t){return t.opts.prefix===e})},s._getInstanceByPrefix=function(e){return s._instances.filter(function(t){return t.opts.prefix===e})[0]},s._normalizeOpts=function(t,e){if(\"string\"!=typeof t)throw new TypeError(\"prefix must be a string\");var r=void 0===(e=e||{}).markdown||Boolean(e.markdown),n=e.prefixColor||s._getNextPrefixColor();return{logger:e.logger||console,markdown:r,plaintext:Boolean(e.plaintext),prefix:t,prefixColor:n}},s._getInitialState=function(t){return{isEnabled:s._getEnableState(t)}},s._getEnableState=function(e){var r=!1;return s._prefixRegExps.forEach(function(t){\"enable\"===t.type&&t.regExp.test(e.prefix)?r=!0:\"disable\"===t.type&&t.regExp.test(e.prefix)&&(r=!1)}),r},s._decorateLoggerMethods=function(t){var i=t.opts.logger,e=Object.keys(i).filter(function(t){return\"function\"==typeof i[t]});0===e.length&&(e=[\"debug\",\"log\",\"warn\",\"error\",\"info\"]),e.forEach(function(o){t[o]=function(){var e=f(arguments),r=this.opts.prefix;if(s.transports.length){var n=\"[\"+r+\"] \"+e.filter(function(t){return\"object\"!=typeof t}).join(\" \");s.transports.forEach(function(t){t({state:this.state,instance:r,level:o,args:e,msg:n})}.bind(this))}if(this.state.isEnabled){var t=this._prepareOutput(e,o);i[o].apply(i,t)}}})},s}},function(t,e){t.exports=function(t){return Array.prototype.slice.call(t,0)}},function(t,e,r){var n=[];function o(e){return function(t){return n.push(e),n.push(\"\"),\"%c\"+t+\"%c\"}}var i=new(r(4))({renderer:{\"*\":o(\"font-weight:bold;\"),_:o(\"font-style:italic;\"),\"`\":o(\"background-color:rgba(255,204,102, 0.1);color:#FFCC66;padding:2px 5px;border-radius:2px;\")}});t.exports={parse:function(t){var e={text:i.parse(t),styles:[].concat(n)};return n.length=0,e}}},function(t,e){var x=/([_*`\\\\]|[^_*`\\\\]+)/g,r=/[_*`]/;function n(t){this.renderer=t.renderer}function d(t){return r.test(t)}n.prototype.parse=function(t){if(\"\"===t)return\"\";var r,e,n,o=t.match(x),i=this.renderer,s=\"\",f=[],u={},a=0;function p(t){for(var e=\"\";r&&r.tag!==t;)e=r.tag+r.text+e,u[r.tag]=!1,r=f.pop();return e}for(;n=o[a];){if(e=\"\",a++,d(n))if(u[n])e=p(n),e=i[r.tag](r.text+e),u[n]=!1,r=f.pop();else{var c=\"\";if(\"`\"===n){var l=o.indexOf(n,a);-1!==l&&(s+=p(),c=o.slice(a,l).join(\"\"),a=l)}r&&f.push(r),u[n]=!0,r={tag:n,text:c}}else if(\"\\\\\"===(e=n)){var g=o[a];(d(g)||\"\\\\\"===g)&&(e=g,a++)}e&&(r?r.text+=e:s+=e,e=\"\")}return s+p()},t.exports=n},function(t,e,r){var n=r(6),o=r(7);t.exports=function(){return n()||o()}},function(t,e){t.exports=function(){try{return\"WebkitAppearance\"in document.documentElement.style&&!/Edge/.test(navigator.userAgent)}catch(t){return!1}}},function(t,e){t.exports=function(){try{return/firefox\\/(\\d+)/i.test(navigator.userAgent)}catch(t){return!1}}},function(r,t,e){(function(t){function e(t,e){return\"object\"==typeof t&&t.self===t&&t||\"object\"==typeof e&&e.global===e&&e||this}r.exports=e.bind(this,self,t),r.exports.getGlobal=e}).call(this,e(9))},function(ob,pb){var qb;qb=function(){return this}();try{qb=qb||Function(\"return this\")()||eval(\"this\")}catch(ob){\"object\"==typeof window&&(qb=window)}ob.exports=qb}])});\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonConfig = require(\"./config/CommonConfig\");\n__exportStar(require(\"./LogFactory\"), exports);\n__exportStar(require(\"./util/\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AUTH_TABLE_NAME = exports.AUTH_COOKIE_KEY = exports.AUTH_ACCESS_TOKEN_KEY = void 0;\nexports.AUTH_ACCESS_TOKEN_KEY = 'access-token';\nexports.AUTH_COOKIE_KEY = 'cookie';\nexports.AUTH_TABLE_NAME = 'authentication';\n__exportStar(require(\"./AccessTokenData\"), exports);\n__exportStar(require(\"./AccessTokenStore\"), exports);\n__exportStar(require(\"./AuthAPI\"), exports);\n__exportStar(require(\"./AuthenticationError\"), exports);\n__exportStar(require(\"./ClientPreKey\"), exports);\n__exportStar(require(\"./Context\"), exports);\n__exportStar(require(\"./Cookie\"), exports);\n__exportStar(require(\"./CookieStore\"), exports);\n__exportStar(require(\"./LoginCodeResponse\"), exports);\n__exportStar(require(\"./LoginData\"), exports);\n__exportStar(require(\"./PreKey\"), exports);\n__exportStar(require(\"./PreKeyBundle\"), exports);\n__exportStar(require(\"./RegisterData\"), exports);\n__exportStar(require(\"./SendLoginCode\"), exports);\n//# sourceMappingURL=index.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TeamAPI = void 0;\nlet TeamAPI = /** @class */ (() => {\n    class TeamAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        postTeam(team) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: team,\n                    method: 'post',\n                    url: `${TeamAPI.URL.TEAMS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.headers.location;\n            });\n        }\n        putTeam(teamId, teamData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: teamData,\n                    method: 'put',\n                    url: `${TeamAPI.URL.TEAMS}/${teamId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        getTeams() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI.URL.TEAMS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getTeam(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI.URL.TEAMS}/${teamId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteTeam(teamId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'delete',\n                    url: `${TeamAPI.URL.TEAMS}/${teamId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n    }\n    TeamAPI.URL = {\n        TEAMS: '/teams',\n    };\n    return TeamAPI;\n})();\nexports.TeamAPI = TeamAPI;\n//# sourceMappingURL=TeamAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Activate\"), exports);\n__exportStar(require(\"./ActivationResponse\"), exports);\n__exportStar(require(\"./CheckHandles\"), exports);\n__exportStar(require(\"./CompletePasswordReset\"), exports);\n__exportStar(require(\"./Contact\"), exports);\n__exportStar(require(\"./HandleInfo\"), exports);\n__exportStar(require(\"./NewPasswordReset\"), exports);\n__exportStar(require(\"./RTCIceServer\"), exports);\n__exportStar(require(\"./SearchResult\"), exports);\n__exportStar(require(\"./SendActivationCode\"), exports);\n__exportStar(require(\"./User\"), exports);\n__exportStar(require(\"./RichInfo\"), exports);\n__exportStar(require(\"./UserAPI\"), exports);\n__exportStar(require(\"./UserAsset\"), exports);\n__exportStar(require(\"./UserError\"), exports);\n__exportStar(require(\"./UserPreKeyBundleMap\"), exports);\n__exportStar(require(\"./UserUpdate\"), exports);\n__exportStar(require(\"./VerifyDelete\"), exports);\n//# sourceMappingURL=index.js.map","module.exports = require('./lib/axios');","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Priority = void 0;\nvar Priority;\n(function (Priority) {\n    Priority[Priority[\"LOW\"] = 0] = \"LOW\";\n    Priority[Priority[\"MEDIUM\"] = 5] = \"MEDIUM\";\n    Priority[Priority[\"HIGH\"] = 9] = \"HIGH\";\n})(Priority = exports.Priority || (exports.Priority = {}));\n//# sourceMappingURL=Priority.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.APIClient = void 0;\nconst events_1 = require(\"events\");\nconst logdown_1 = __importDefault(require(\"logdown\"));\nconst AccountAPI_1 = require(\"./account/AccountAPI\");\nconst asset_1 = require(\"./asset/\");\nconst auth_1 = require(\"./auth/\");\nconst CookieStore_1 = require(\"./auth/CookieStore\");\nconst broadcast_1 = require(\"./broadcast/\");\nconst client_1 = require(\"./client/\");\nconst connection_1 = require(\"./connection/\");\nconst conversation_1 = require(\"./conversation/\");\nconst env_1 = require(\"./env/\");\nconst giphy_1 = require(\"./giphy/\");\nconst http_1 = require(\"./http/\");\nconst notification_1 = require(\"./notification/\");\nconst obfuscation_1 = require(\"./obfuscation/\");\nconst self_1 = require(\"./self/\");\nconst tcp_1 = require(\"./tcp/\");\nconst team_1 = require(\"./team/\");\nconst user_1 = require(\"./user/\");\nconst { version } = require('../package.json');\nvar TOPIC;\n(function (TOPIC) {\n    TOPIC[\"ACCESS_TOKEN_REFRESH\"] = \"APIClient.TOPIC.ACCESS_TOKEN_REFRESH\";\n    TOPIC[\"COOKIE_REFRESH\"] = \"APIClient.TOPIC.COOKIE_REFRESH\";\n    /** Event being sent when logout is done. */\n    TOPIC[\"ON_LOGOUT\"] = \"APIClient.TOPIC.ON_LOGOUT\";\n})(TOPIC || (TOPIC = {}));\nconst defaultConfig = {\n    urls: env_1.Backend.PRODUCTION,\n};\nlet APIClient = /** @class */ (() => {\n    class APIClient extends events_1.EventEmitter {\n        constructor(config) {\n            super();\n            this.config = Object.assign(Object.assign({}, defaultConfig), config);\n            this.accessTokenStore = new auth_1.AccessTokenStore();\n            this.accessTokenStore.on(auth_1.AccessTokenStore.TOPIC.ACCESS_TOKEN_REFRESH, (accessToken) => this.emit(APIClient.TOPIC.ACCESS_TOKEN_REFRESH, accessToken));\n            CookieStore_1.CookieStore.emitter.on(CookieStore_1.CookieStore.TOPIC.COOKIE_REFRESH, (cookie) => this.emit(APIClient.TOPIC.COOKIE_REFRESH, cookie));\n            this.logger = logdown_1.default('@wireapp/api-client/Client', {\n                logger: console,\n                markdown: false,\n            });\n            const httpClient = new http_1.HttpClient(this.config.urls.rest, this.accessTokenStore);\n            const webSocket = new tcp_1.WebSocketClient(this.config.urls.ws, httpClient);\n            webSocket.on(tcp_1.WebSocketClient.TOPIC.ON_INVALID_TOKEN, (error) => __awaiter(this, void 0, void 0, function* () {\n                this.logger.warn(`Cannot renew access token because cookie is invalid: ${error.message}`, error);\n                yield this.logout();\n                this.emit(APIClient.TOPIC.ON_LOGOUT, error);\n            }));\n            this.transport = {\n                http: httpClient,\n                ws: webSocket,\n            };\n            this.account = {\n                api: new AccountAPI_1.AccountAPI(this.transport.http),\n            };\n            this.asset = {\n                api: new asset_1.AssetAPI(this.transport.http),\n            };\n            this.auth = {\n                api: new auth_1.AuthAPI(this.transport.http),\n            };\n            this.broadcast = {\n                api: new broadcast_1.BroadcastAPI(this.transport.http),\n            };\n            this.client = {\n                api: new client_1.ClientAPI(this.transport.http),\n            };\n            this.connection = {\n                api: new connection_1.ConnectionAPI(this.transport.http),\n            };\n            this.conversation = {\n                api: new conversation_1.ConversationAPI(this.transport.http),\n            };\n            this.giphy = {\n                api: new giphy_1.GiphyAPI(this.transport.http),\n            };\n            this.notification = {\n                api: new notification_1.NotificationAPI(this.transport.http),\n            };\n            this.self = {\n                api: new self_1.SelfAPI(this.transport.http),\n            };\n            this.teams = {\n                conversation: {\n                    api: new team_1.TeamConversationAPI(this.transport.http),\n                },\n                feature: {\n                    api: new team_1.FeatureAPI(this.transport.http),\n                },\n                identityProvider: {\n                    api: new team_1.IdentityProviderAPI(this.transport.http),\n                },\n                invitation: {\n                    api: new team_1.TeamInvitationAPI(this.transport.http),\n                },\n                legalhold: {\n                    api: new team_1.LegalHoldAPI(this.transport.http),\n                },\n                member: {\n                    api: new team_1.MemberAPI(this.transport.http),\n                },\n                payment: {\n                    api: new team_1.PaymentAPI(this.transport.http),\n                },\n                property: {\n                    api: new team_1.PropertyAPI(this.transport.http),\n                },\n                service: {\n                    api: new team_1.ServiceAPI(this.transport.http),\n                },\n                team: {\n                    api: new team_1.TeamAPI(this.transport.http),\n                },\n            };\n            this.user = {\n                api: new user_1.UserAPI(this.transport.http),\n            };\n        }\n        init(clientType = client_1.ClientType.NONE, cookie) {\n            return __awaiter(this, void 0, void 0, function* () {\n                CookieStore_1.CookieStore.setCookie(cookie);\n                const initialAccessToken = yield this.transport.http.refreshAccessToken();\n                const context = this.createContext(initialAccessToken.user, clientType);\n                yield this.accessTokenStore.updateToken(initialAccessToken);\n                return context;\n            });\n        }\n        login(loginData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (this.context) {\n                    yield this.logout({ ignoreError: true });\n                }\n                const accessToken = yield this.auth.api.postLogin(loginData);\n                this.logger.info(`Saved initial access token. It will expire in \"${accessToken.expires_in}\" seconds.`, obfuscation_1.ObfuscationUtil.obfuscateAccessToken(accessToken));\n                yield this.accessTokenStore.updateToken(accessToken);\n                return this.createContext(accessToken.user, loginData.clientType);\n            });\n        }\n        register(userAccount, clientType = client_1.ClientType.PERMANENT) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (this.context) {\n                    yield this.logout({ ignoreError: true });\n                }\n                const user = yield this.auth.api.postRegister(userAccount);\n                yield this.createContext(user.id, clientType);\n                return this.init(clientType, CookieStore_1.CookieStore.getCookie());\n            });\n        }\n        logout(options = { ignoreError: false }) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    this.disconnect('Closed by client logout');\n                    yield this.auth.api.postLogout();\n                }\n                catch (error) {\n                    if (options.ignoreError === true) {\n                        this.logger.error(error);\n                    }\n                    else {\n                        throw error;\n                    }\n                }\n                finally {\n                    CookieStore_1.CookieStore.deleteCookie();\n                }\n                yield this.accessTokenStore.delete();\n                delete this.context;\n            });\n        }\n        connect(onBeforeConnect) {\n            var _a;\n            return this.transport.ws.connect((_a = this.context) === null || _a === void 0 ? void 0 : _a.clientId, onBeforeConnect);\n        }\n        createContext(userId, clientType, clientId) {\n            this.context = this.context ? Object.assign(Object.assign({}, this.context), { clientId, clientType }) : { clientId, clientType, userId };\n            return this.context;\n        }\n        disconnect(reason) {\n            this.transport.ws.disconnect(reason);\n        }\n        get clientId() {\n            var _a;\n            return ((_a = this.context) === null || _a === void 0 ? void 0 : _a.clientId) || undefined;\n        }\n        get userId() {\n            var _a;\n            return ((_a = this.context) === null || _a === void 0 ? void 0 : _a.userId) || undefined;\n        }\n        /** Should be used in cases where the user ID is MANDATORY. */\n        get validatedUserId() {\n            if (this.userId) {\n                return this.userId;\n            }\n            throw new Error('No valid user ID.');\n        }\n        /** Should be used in cases where the client ID is MANDATORY. */\n        get validatedClientId() {\n            if (this.clientId) {\n                return this.clientId;\n            }\n            throw new Error('No valid client ID.');\n        }\n    }\n    APIClient.BACKEND = env_1.Backend;\n    APIClient.TOPIC = TOPIC;\n    APIClient.VERSION = version;\n    return APIClient;\n})();\nexports.APIClient = APIClient;\n//# sourceMappingURL=APIClient.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyntheticErrorLabel = exports.BackendErrorLabel = void 0;\n/* eslint-disable typescript-sort-keys/string-enum */\n/**\n * @note Backend error labels are defined by the backend team and their source code.\n * @see https://github.com/wireapp/wire-server/blob/master/services/galley/src/Galley/API/Error.hs\n */\nvar BackendErrorLabel;\n(function (BackendErrorLabel) {\n    BackendErrorLabel[\"ACCESS_DENIED\"] = \"access-denied\";\n    BackendErrorLabel[\"BAD_REQUEST\"] = \"bad-request\";\n    BackendErrorLabel[\"CLIENT_ERROR\"] = \"client-error\";\n    BackendErrorLabel[\"INSUFFICIENT_PERMISSIONS\"] = \"insufficient-permissions\";\n    BackendErrorLabel[\"INTERNAL_ERROR\"] = \"internal-error\";\n    BackendErrorLabel[\"INVALID_OPERATION\"] = \"invalid-op\";\n    BackendErrorLabel[\"INVALID_PAYLOAD\"] = \"invalid-payload\";\n    BackendErrorLabel[\"INVALID_PERMISSIONS\"] = \"invalid-permissions\";\n    BackendErrorLabel[\"NOT_FOUND\"] = \"not-found\";\n    BackendErrorLabel[\"OPERATION_DENIED\"] = \"operation-denied\";\n    BackendErrorLabel[\"QUEUE_FULL\"] = \"queue-full\";\n    BackendErrorLabel[\"UNAUTHORIZED\"] = \"unauthorized\";\n    // Authentication errors\n    BackendErrorLabel[\"BLACKLISTED_EMAIL\"] = \"blacklisted-email\";\n    BackendErrorLabel[\"BLACKLISTED_PHONE\"] = \"blacklisted-phone\";\n    BackendErrorLabel[\"INVALID_CODE\"] = \"invalid-code\";\n    BackendErrorLabel[\"INVALID_CREDENTIALS\"] = \"invalid-credentials\";\n    BackendErrorLabel[\"INVALID_EMAIL\"] = \"invalid-email\";\n    BackendErrorLabel[\"INVALID_INVITATION_CODE\"] = \"invalid-invitation-code\";\n    BackendErrorLabel[\"INVALID_PHONE\"] = \"invalid-phone\";\n    BackendErrorLabel[\"PHONE_EXISTS\"] = \"phone-exists\";\n    BackendErrorLabel[\"KEY_EXISTS\"] = \"key-exists\";\n    BackendErrorLabel[\"MISSING_AUTH\"] = \"missing-auth\";\n    BackendErrorLabel[\"PASSWORD_EXISTS\"] = \"password-exists\";\n    BackendErrorLabel[\"PENDING_ACTIVATION\"] = \"pending-activation\";\n    BackendErrorLabel[\"PENDING_LOGIN\"] = \"pending-login\";\n    BackendErrorLabel[\"SUSPENDED_ACCOUNT\"] = \"suspended\";\n    // Client errors\n    BackendErrorLabel[\"TOO_MANY_CLIENTS\"] = \"too-many-clients\";\n    BackendErrorLabel[\"UNKNOWN_CLIENT\"] = \"unknown-client\";\n    // Conversation errors\n    BackendErrorLabel[\"TOO_MANY_MEMBERS\"] = \"too-many-members\";\n    BackendErrorLabel[\"NO_CONVERSATION\"] = \"no-conversation\";\n    BackendErrorLabel[\"NO_CONVERSATION_CODE\"] = \"no-conversation-code\";\n    BackendErrorLabel[\"NOT_CONNECTED\"] = \"not-connected\";\n    // Handle errors\n    BackendErrorLabel[\"HANDLE_EXISTS\"] = \"handle-exists\";\n    BackendErrorLabel[\"INVALID_HANDLE\"] = \"invalid-handle\";\n    // Team errors\n    /** @deprecated */\n    BackendErrorLabel[\"NO_OTHER_OWNER\"] = \"no-other-owner\";\n    /** This error is thrown when an owner tries to delete themself */\n    BackendErrorLabel[\"NO_SELF_DELETE_FOR_TEAM_OWNER\"] = \"no-self-delete-for-team-owner\";\n    BackendErrorLabel[\"NO_TEAM\"] = \"no-team\";\n    BackendErrorLabel[\"NO_TEAM_MEMBER\"] = \"no-team-member\";\n    BackendErrorLabel[\"TOO_MANY_TEAM_MEMBERS\"] = \"too-many-team-members\";\n    BackendErrorLabel[\"INVITE_EMAIL_EXISTS\"] = \"email-exists\";\n    BackendErrorLabel[\"BINDING_EXISTS\"] = \"binding-exists\";\n    BackendErrorLabel[\"BINDING_TEAM\"] = \"binding-team\";\n    BackendErrorLabel[\"NON_BINDING_TEAM\"] = \"non-binding-team\";\n    BackendErrorLabel[\"NON_BINDING_TEAM_MEMBERS\"] = \"non-binding-team-members\";\n    BackendErrorLabel[\"INVALID_TEAM_STATUS_UPDATE\"] = \"invalid-team-status-update\";\n    BackendErrorLabel[\"NO_MANAGED_CONVERSATION\"] = \"no-managed-team-conv\";\n    BackendErrorLabel[\"NO_ADD_TO_MANAGED\"] = \"no-add-to-managed\";\n    // Payment errors\n    BackendErrorLabel[\"EXPIRED_CARD\"] = \"expired_card\";\n    // Domain errors\n    BackendErrorLabel[\"CUSTOM_BACKEND_NOT_FOUND\"] = \"custom-backend-not-found\";\n})(BackendErrorLabel = exports.BackendErrorLabel || (exports.BackendErrorLabel = {}));\nvar SyntheticErrorLabel;\n(function (SyntheticErrorLabel) {\n    SyntheticErrorLabel[\"ALREADY_INVITED\"] = \"already-invited\";\n    SyntheticErrorLabel[\"FORBIDDEN_PHONE_NUMBER\"] = \"forbidden-phone-number\";\n    SyntheticErrorLabel[\"HANDLE_TOO_SHORT\"] = \"handle-too-short\";\n    SyntheticErrorLabel[\"INVALID_PHONE_NUMBER\"] = \"invalid-phone-number\";\n    SyntheticErrorLabel[\"REQUEST_CANCELLED\"] = \"request-cancelled\";\n    SyntheticErrorLabel[\"SERVICE_NOT_FOUND\"] = \"service-not-found\";\n    SyntheticErrorLabel[\"SSO_GENERIC_ERROR\"] = \"generic-sso-error\";\n    SyntheticErrorLabel[\"SSO_NO_SSO_CODE\"] = \"no-sso-code-found\";\n    SyntheticErrorLabel[\"SSO_USER_CANCELLED_ERROR\"] = \"user-cancelled-sso-error\";\n    SyntheticErrorLabel[\"UNKNOWN\"] = \"unknown-error\";\n})(SyntheticErrorLabel = exports.SyntheticErrorLabel || (exports.SyntheticErrorLabel = {}));\n//# sourceMappingURL=BackendErrorLabel.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ClientAPI\"), exports);\n__exportStar(require(\"./ClientClassification\"), exports);\n__exportStar(require(\"./ClientType\"), exports);\n__exportStar(require(\"./Location\"), exports);\n__exportStar(require(\"./NewClient\"), exports);\n__exportStar(require(\"./PublicClient\"), exports);\n__exportStar(require(\"./RegisteredClient\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sendRequestWithCookie = exports.retrieveCookie = void 0;\nexports.retrieveCookie = (response) => Promise.resolve(response.data);\nexports.sendRequestWithCookie = (client, config) => client._sendRequest(config);\n//# sourceMappingURL=cookie.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PasswordExistsError = exports.ForbiddenPhoneNumberError = exports.InvalidPhoneNumberError = exports.MissingCookieError = exports.InvalidTokenError = exports.TokenExpiredError = exports.IdentifierExistsError = exports.SuspendedAccountError = exports.InvalidCredentialsError = exports.LoginTooFrequentError = exports.AuthenticationError = void 0;\nconst http_1 = require(\"../http/\");\nclass AuthenticationError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'AuthenticationError';\n    }\n}\nexports.AuthenticationError = AuthenticationError;\nclass LoginTooFrequentError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.CLIENT_ERROR, code = http_1.StatusCode.TOO_MANY_REQUESTS) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'LoginTooFrequentError';\n    }\n}\nexports.LoginTooFrequentError = LoginTooFrequentError;\nclass InvalidCredentialsError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_CREDENTIALS, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvalidCredentialsError';\n    }\n}\nexports.InvalidCredentialsError = InvalidCredentialsError;\nclass SuspendedAccountError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.SUSPENDED_ACCOUNT, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'SuspendedAccountError';\n    }\n}\nexports.SuspendedAccountError = SuspendedAccountError;\nclass IdentifierExistsError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.KEY_EXISTS, code = http_1.StatusCode.CONFLICT) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'IdentifierExistsError';\n    }\n}\nexports.IdentifierExistsError = IdentifierExistsError;\nclass TokenExpiredError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_CREDENTIALS, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'TokenExpiredError';\n    }\n}\nexports.TokenExpiredError = TokenExpiredError;\nclass InvalidTokenError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_CREDENTIALS, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvalidTokenError';\n    }\n}\nexports.InvalidTokenError = InvalidTokenError;\nclass MissingCookieError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_CREDENTIALS, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'MissingCookieError';\n    }\n}\nexports.MissingCookieError = MissingCookieError;\nclass InvalidPhoneNumberError extends AuthenticationError {\n    constructor(message, label = http_1.SyntheticErrorLabel.INVALID_PHONE_NUMBER, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvalidPhoneNumberError';\n    }\n}\nexports.InvalidPhoneNumberError = InvalidPhoneNumberError;\nclass ForbiddenPhoneNumberError extends AuthenticationError {\n    constructor(message, label = http_1.SyntheticErrorLabel.FORBIDDEN_PHONE_NUMBER, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ForbiddenPhoneNumberError';\n    }\n}\nexports.ForbiddenPhoneNumberError = ForbiddenPhoneNumberError;\nclass PasswordExistsError extends AuthenticationError {\n    constructor(message, label = http_1.BackendErrorLabel.PASSWORD_EXISTS, code = http_1.StatusCode.UNAUTHORIZED) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'PasswordExistsError';\n    }\n}\nexports.PasswordExistsError = PasswordExistsError;\n//# sourceMappingURL=AuthenticationError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieStore = void 0;\nconst commons_1 = require(\"@wireapp/commons\");\nconst events_1 = require(\"events\");\nvar TOPIC;\n(function (TOPIC) {\n    TOPIC[\"COOKIE_REFRESH\"] = \"CookieStore.TOPIC.COOKIE_REFRESH\";\n})(TOPIC || (TOPIC = {}));\nlet CookieStore = /** @class */ (() => {\n    class CookieStore {\n        static getCookie() {\n            return CookieStore.cookie;\n        }\n        static emit() {\n            if (commons_1.Runtime.isNode()) {\n                CookieStore.emitter.emit(CookieStore.TOPIC.COOKIE_REFRESH, CookieStore.cookie);\n            }\n        }\n        static setCookie(cookie) {\n            CookieStore.cookie = cookie;\n            CookieStore.emit();\n        }\n        static deleteCookie() {\n            CookieStore.cookie = undefined;\n            CookieStore.emit();\n        }\n    }\n    CookieStore.emitter = new events_1.EventEmitter();\n    CookieStore.TOPIC = TOPIC;\n    return CookieStore;\n})();\nexports.CookieStore = CookieStore;\n//# sourceMappingURL=CookieStore.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TEAMS_SUPPORTED_LANGUAGES = exports.TEAMS_DEFAULT_LANGUAGE = exports.WEBSITE_SUPPORTED_LANGUAGES = exports.WEBSITE_DEFAULT_LANGUAGE = exports.ACCOUNT_PAGES_SUPPORTED_LANGUAGES = exports.ACCOUNT_PAGES_DEFAULT_LANGUAGE = exports.LANGUAGE_QUERY_PARAMETER = exports.WEBAPP_SUPPORTED_BROWSERS = exports.BROWSER = void 0;\nexports.BROWSER = {\n    CHROME: 'chrome',\n    CHROMIUM: 'chromium',\n    EDGE: 'edge',\n    ELECTRON: 'electron',\n    FIREFOX: 'firefox',\n    IE: 'ie',\n    MS_EDGE: 'microsoft edge',\n    OPERA: 'opera',\n    SAFARI: 'safari',\n};\nexports.WEBAPP_SUPPORTED_BROWSERS = {\n    [exports.BROWSER.CHROME]: { major: 56, minor: 0 },\n    [exports.BROWSER.CHROMIUM]: { major: 56, minor: 0 },\n    [exports.BROWSER.FIREFOX]: { major: 60, minor: 0 },\n    [exports.BROWSER.EDGE]: { major: 15, minor: 0 },\n    [exports.BROWSER.MS_EDGE]: { major: 15, minor: 0 },\n    [exports.BROWSER.ELECTRON]: { major: 1, minor: 6 },\n    [exports.BROWSER.OPERA]: { major: 43, minor: 0 },\n};\nexports.LANGUAGE_QUERY_PARAMETER = 'hl';\nexports.ACCOUNT_PAGES_DEFAULT_LANGUAGE = 'en-US';\nexports.ACCOUNT_PAGES_SUPPORTED_LANGUAGES = [exports.ACCOUNT_PAGES_DEFAULT_LANGUAGE, 'de-DE'];\nexports.WEBSITE_DEFAULT_LANGUAGE = 'en';\nexports.WEBSITE_SUPPORTED_LANGUAGES = [exports.WEBSITE_DEFAULT_LANGUAGE, 'de'];\nexports.TEAMS_DEFAULT_LANGUAGE = 'en';\nexports.TEAMS_SUPPORTED_LANGUAGES = [exports.TEAMS_DEFAULT_LANGUAGE, 'de'];\n//# sourceMappingURL=CommonConfig.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.randomInt = exports.randomArrayElement = void 0;\nfunction randomArrayElement(array) {\n    return array[randomInt(array.length - 1)];\n}\nexports.randomArrayElement = randomArrayElement;\nfunction randomInt(max) {\n    return Math.floor(Math.random() * (max + 1));\n}\nexports.randomInt = randomInt;\n//# sourceMappingURL=RandomUtil.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ClientMismatch\"), exports);\n__exportStar(require(\"./Conversation\"), exports);\n__exportStar(require(\"./ConversationAPI\"), exports);\n__exportStar(require(\"./ConversationCode\"), exports);\n__exportStar(require(\"./ConversationError\"), exports);\n__exportStar(require(\"./ConversationIds\"), exports);\n__exportStar(require(\"./ConversationMembers\"), exports);\n__exportStar(require(\"./Conversations\"), exports);\n__exportStar(require(\"./ConversationRole\"), exports);\n__exportStar(require(\"./Invite\"), exports);\n__exportStar(require(\"./Member\"), exports);\n__exportStar(require(\"./MutedStatus\"), exports);\n__exportStar(require(\"./NewConversation\"), exports);\n__exportStar(require(\"./NewOTRMessage\"), exports);\n__exportStar(require(\"./OtherMember\"), exports);\n__exportStar(require(\"./OTRClientMap\"), exports);\n__exportStar(require(\"./OTRRecipients\"), exports);\n__exportStar(require(\"./ServiceRef\"), exports);\n__exportStar(require(\"./UserClients\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ValidationError\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultConversationRoleName = void 0;\nvar DefaultConversationRoleName;\n(function (DefaultConversationRoleName) {\n    DefaultConversationRoleName[\"WIRE_ADMIN\"] = \"wire_admin\";\n    DefaultConversationRoleName[\"WIRE_MEMBER\"] = \"wire_member\";\n})(DefaultConversationRoleName = exports.DefaultConversationRoleName || (exports.DefaultConversationRoleName = {}));\n//# sourceMappingURL=ConversationRole.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar invitation_1 = require(\"./invitation/\");\nObject.defineProperty(exports, \"TeamInvitationAPI\", { enumerable: true, get: function () { return invitation_1.TeamInvitationAPI; } });\nvar legalhold_1 = require(\"./legalhold/\");\nObject.defineProperty(exports, \"LegalHoldAPI\", { enumerable: true, get: function () { return legalhold_1.LegalHoldAPI; } });\nvar property_1 = require(\"./property\");\nObject.defineProperty(exports, \"PropertyAPI\", { enumerable: true, get: function () { return property_1.PropertyAPI; } });\nvar member_1 = require(\"./member/\");\nObject.defineProperty(exports, \"MemberAPI\", { enumerable: true, get: function () { return member_1.MemberAPI; } });\nObject.defineProperty(exports, \"Permissions\", { enumerable: true, get: function () { return member_1.Permissions; } });\nObject.defineProperty(exports, \"Role\", { enumerable: true, get: function () { return member_1.Role; } });\nvar team_1 = require(\"./team/\");\nObject.defineProperty(exports, \"TeamAPI\", { enumerable: true, get: function () { return team_1.TeamAPI; } });\nvar payment_1 = require(\"./payment/\");\nObject.defineProperty(exports, \"PaymentAPI\", { enumerable: true, get: function () { return payment_1.PaymentAPI; } });\nvar service_1 = require(\"./service/\");\nObject.defineProperty(exports, \"ServiceAPI\", { enumerable: true, get: function () { return service_1.ServiceAPI; } });\nvar TeamError_1 = require(\"./TeamError\");\nObject.defineProperty(exports, \"TeamError\", { enumerable: true, get: function () { return TeamError_1.TeamError; } });\nObject.defineProperty(exports, \"InviteEmailInUseError\", { enumerable: true, get: function () { return TeamError_1.InviteEmailInUseError; } });\nObject.defineProperty(exports, \"InvalidInvitationCodeError\", { enumerable: true, get: function () { return TeamError_1.InvalidInvitationCodeError; } });\nObject.defineProperty(exports, \"ServiceNotFoundError\", { enumerable: true, get: function () { return TeamError_1.ServiceNotFoundError; } });\n__exportStar(require(\"./identityprovider/\"), exports);\n__exportStar(require(\"./feature/\"), exports);\n__exportStar(require(\"./conversation\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./NewTeamData\"), exports);\n__exportStar(require(\"./TeamAPI\"), exports);\n__exportStar(require(\"./TeamChunkData\"), exports);\n__exportStar(require(\"./TeamData\"), exports);\n__exportStar(require(\"./TeamInfo\"), exports);\n__exportStar(require(\"./UpdateTeamData\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InvitationPhoneExistsError = exports.InvitationEmailExistsError = exports.InvitationInvalidPhoneError = exports.InvitationInvalidEmailError = exports.InvitationError = void 0;\nconst http_1 = require(\"../../http\");\nclass InvitationError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvitationError';\n    }\n}\nexports.InvitationError = InvitationError;\nclass InvitationInvalidEmailError extends InvitationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_EMAIL, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvitationInvalidEmailError';\n    }\n}\nexports.InvitationInvalidEmailError = InvitationInvalidEmailError;\nclass InvitationInvalidPhoneError extends InvitationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_PHONE, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvitationInvalidPhoneError';\n    }\n}\nexports.InvitationInvalidPhoneError = InvitationInvalidPhoneError;\nclass InvitationEmailExistsError extends InvitationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVITE_EMAIL_EXISTS, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvitationEmailExistsError';\n    }\n}\nexports.InvitationEmailExistsError = InvitationEmailExistsError;\nclass InvitationPhoneExistsError extends InvitationError {\n    constructor(message, label = http_1.BackendErrorLabel.PHONE_EXISTS, code = http_1.StatusCode.CONFLICT) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvitationPhoneExistsError';\n    }\n}\nexports.InvitationPhoneExistsError = InvitationPhoneExistsError;\n//# sourceMappingURL=InvitationError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.combinePermissions = exports.hasPermissions = exports.Permissions = void 0;\nvar Permissions;\n(function (Permissions) {\n    Permissions[Permissions[\"CREATE_CONVERSATION\"] = 1] = \"CREATE_CONVERSATION\";\n    Permissions[Permissions[\"DELETE_CONVERSATION\"] = 2] = \"DELETE_CONVERSATION\";\n    Permissions[Permissions[\"ADD_TEAM_MEMBER\"] = 4] = \"ADD_TEAM_MEMBER\";\n    Permissions[Permissions[\"REMOVE_TEAM_MEMBER\"] = 8] = \"REMOVE_TEAM_MEMBER\";\n    Permissions[Permissions[\"ADD_CONVERSATION_MEMBER\"] = 16] = \"ADD_CONVERSATION_MEMBER\";\n    Permissions[Permissions[\"REMOVE_CONVERSATION_MEMBER\"] = 32] = \"REMOVE_CONVERSATION_MEMBER\";\n    Permissions[Permissions[\"GET_BILLING\"] = 64] = \"GET_BILLING\";\n    Permissions[Permissions[\"SET_BILLING\"] = 128] = \"SET_BILLING\";\n    Permissions[Permissions[\"SET_TEAM_DATA\"] = 256] = \"SET_TEAM_DATA\";\n    Permissions[Permissions[\"GET_MEMBER_PERMISSIONS\"] = 512] = \"GET_MEMBER_PERMISSIONS\";\n    Permissions[Permissions[\"GET_TEAM_CONVERSATIONS\"] = 1024] = \"GET_TEAM_CONVERSATIONS\";\n    Permissions[Permissions[\"DELETE_TEAM\"] = 2048] = \"DELETE_TEAM\";\n    Permissions[Permissions[\"SET_MEMBER_PERMISSIONS\"] = 4096] = \"SET_MEMBER_PERMISSIONS\";\n})(Permissions = exports.Permissions || (exports.Permissions = {}));\nexports.hasPermissions = (permissions, expectedPermissions) => {\n    const validPermissions = Number.isSafeInteger(permissions) && permissions > 0;\n    return validPermissions && (permissions & expectedPermissions) === expectedPermissions;\n};\nexports.combinePermissions = (permissionList) => {\n    return permissionList.reduce((acc, permission) => acc | permission, 0);\n};\n//# sourceMappingURL=Permissions.js.map","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'params', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'url', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress',\n    'maxContentLength', 'validateStatus', 'maxRedirects', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath'\n  ];\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, function mergeDeepProperties(prop) {\n    if (utils.isObject(config2[prop])) {\n      config[prop] = utils.deepMerge(config1[prop], config2[prop]);\n    } else if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (utils.isObject(config1[prop])) {\n      config[prop] = utils.deepMerge(config1[prop]);\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys);\n\n  var otherKeys = Object\n    .keys(config2)\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, function otherKeysDefaultToConfig2(prop) {\n    if (typeof config2[prop] !== 'undefined') {\n      config[prop] = config2[prop];\n    } else if (typeof config1[prop] !== 'undefined') {\n      config[prop] = config1[prop];\n    }\n  });\n\n  return config;\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RequestCancellationError = exports.UnconnectedUserError = exports.UserIsUnknownError = exports.UserError = void 0;\nconst http_1 = require(\"../http/\");\nclass UserError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'UserError';\n    }\n}\nexports.UserError = UserError;\nclass UserIsUnknownError extends UserError {\n    constructor(message, label = http_1.BackendErrorLabel.CLIENT_ERROR, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'UserIsUnknownError';\n    }\n}\nexports.UserIsUnknownError = UserIsUnknownError;\nclass UnconnectedUserError extends UserError {\n    constructor(message, label = http_1.BackendErrorLabel.NOT_CONNECTED, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'UnconnectedUserError';\n    }\n}\nexports.UnconnectedUserError = UnconnectedUserError;\nclass RequestCancellationError extends UserError {\n    constructor(message, label = http_1.SyntheticErrorLabel.REQUEST_CANCELLED, code = http_1.StatusCode.UNKNOWN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'RequestCancellationError';\n    }\n}\nexports.RequestCancellationError = RequestCancellationError;\n//# sourceMappingURL=UserError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Item = void 0;\nconst Priority_1 = require(\"./Priority\");\nclass Item {\n    constructor() {\n        /** original business logic */\n        this.fn = () => { };\n        this.priority = Priority_1.Priority.MEDIUM;\n        /** wrapped `reject` of `fn` */\n        this.reject = () => { };\n        /** wrapped `resolve` of `fn` */\n        this.resolve = () => { };\n        /** number of remaining retries for rejecting Promises */\n        this.retry = Infinity;\n        /** time when the item has been added to the queue */\n        this.timestamp = 0;\n    }\n    toString() {\n        return `\n    label=${this.label},\n    priority=${this.priority},\n    timestamp=${this.timestamp},\n    retry=${this.retry},\n    fn=${this.fn.toString().replace(/(\\r\\n|\\n|\\r|\\s+)/gm, ' ')},`;\n    }\n}\nexports.Item = Item;\n//# sourceMappingURL=Item.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ObfuscationUtil\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concatToBuffer = exports.base64MD5FromBuffer = exports.bufferToString = void 0;\nconst SparkMD5 = __importStar(require(\"spark-md5\"));\n// Note: In favour of 'TextDecoder' which is not supported in MS Edge\nexports.bufferToString = (buffer) => {\n    let binaryString = '';\n    const bytes = new Uint8Array(buffer);\n    for (let index = 0; index < bytes.length; index++) {\n        binaryString += String.fromCharCode(bytes[index]);\n    }\n    return binaryString;\n};\nexports.base64MD5FromBuffer = (buffer) => window.btoa(SparkMD5.ArrayBuffer.hash(buffer, true));\nexports.concatToBuffer = (...items) => new Blob(items);\n//# sourceMappingURL=buffer.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssetRetentionPolicy = void 0;\n/**\n * Policies can be found at:\n * https://github.com/wireapp/wire-server/blob/dc3e9a8af5250c0d045e96a31aa23c255b4e01a3/libs/cargohold-types/src/CargoHold/Types/V3.hs#L156-L177\n */\nvar AssetRetentionPolicy;\n(function (AssetRetentionPolicy) {\n    AssetRetentionPolicy[\"ETERNAL\"] = \"eternal\";\n    AssetRetentionPolicy[\"ETERNAL_INFREQUENT_ACCESS\"] = \"eternal-infrequent_access\";\n    AssetRetentionPolicy[\"EXPIRING\"] = \"expiring\";\n    AssetRetentionPolicy[\"PERSISTENT\"] = \"persistent\";\n    AssetRetentionPolicy[\"VOLATILE\"] = \"volatile\";\n})(AssetRetentionPolicy = exports.AssetRetentionPolicy || (exports.AssetRetentionPolicy = {}));\n//# sourceMappingURL=AssetRetentionPolicy.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidToken = exports.isValidUUID = void 0;\nexports.isValidUUID = (id) => /^[A-Za-z0-9-]+$/.test(id);\nexports.isValidToken = (token) => /^[A-Za-z0-9+/=_\\-]+$/.test(token);\n//# sourceMappingURL=AssetUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./WebSocketClient\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccountAPI = void 0;\nconst http_1 = require(\"../http\");\nconst AccountError_1 = require(\"./AccountError\");\nlet AccountAPI = /** @class */ (() => {\n    class AccountAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Delete account\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/delete\n         */\n        postDeleteAccount(key, code) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        code,\n                        key,\n                    },\n                    method: 'post',\n                    url: AccountAPI.URL.DELETE,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Start password reset flow\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/password-reset\n         */\n        postPasswordReset(email) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        email,\n                    },\n                    method: 'post',\n                    url: AccountAPI.URL.PASSWORD_RESET,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Start bot password reset flow\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/provider/password-reset\n         */\n        postBotPasswordReset(email) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        email,\n                    },\n                    method: 'post',\n                    url: `${AccountAPI.URL.PROVIDER}${AccountAPI.URL.PASSWORD_RESET}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Finish password reset flow\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/password-reset/complete\n         */\n        postPasswordResetComplete(password, key, code) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        code,\n                        key,\n                        password,\n                    },\n                    method: 'post',\n                    url: `${AccountAPI.URL.PASSWORD_RESET}/${AccountAPI.URL.PASSWORD_RESET_COMPLETE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Finish bot password reset flow\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/provider/password-reset/complete\n         */\n        postBotPasswordResetComplete(password, key, code) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        code,\n                        key,\n                        password,\n                    },\n                    method: 'post',\n                    url: `${AccountAPI.URL.PROVIDER}${AccountAPI.URL.PASSWORD_RESET}/${AccountAPI.URL.PASSWORD_RESET_COMPLETE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Verify email address\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/activate\n         */\n        getVerifyEmail(key, code) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        code,\n                        key,\n                    },\n                    url: AccountAPI.URL.ACTIVATE,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Verify service\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/provider/activate\n         */\n        getVerifyBot(key, code) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        code,\n                        key,\n                    },\n                    url: `${AccountAPI.URL.PROVIDER}${AccountAPI.URL.ACTIVATE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        getDomain(domain) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${AccountAPI.URL.CUSTOM_BACKEND}/${AccountAPI.URL.BY_DOMAIN}/${domain}`,\n                };\n                try {\n                    const response = yield this.client.sendJSON(config);\n                    return response.data;\n                }\n                catch (error) {\n                    switch (error.label) {\n                        case http_1.BackendErrorLabel.CUSTOM_BACKEND_NOT_FOUND: {\n                            throw new AccountError_1.CustomBackendNotFoundError(error.message);\n                        }\n                    }\n                    throw error;\n                }\n            });\n        }\n        getSSOSettings() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${AccountAPI.URL.SSO}/${AccountAPI.URL.SETTINGS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Retrieve all TURN server addresses and credentials.\n         * Clients are expected to do a DNS lookup to resolve the IP addresses of the given hostnames\n         *\n         * @param limit Limits the number of ICE-Candidates returned. [1..10]\n         */\n        getCallConfig(limit) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        limit,\n                    },\n                    url: `${AccountAPI.URL.CALLS}/${AccountAPI.URL.CALLS_CONFIG}/${AccountAPI.URL.CALLS_CONFIG_V2}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getConfig() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${AccountAPI.URL.BACKEND_CONFIG}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    AccountAPI.URL = {\n        ACTIVATE: '/activate',\n        BACKEND_CONFIG: '/config.json',\n        BY_DOMAIN: 'by-domain',\n        CALLS: '/calls',\n        CALLS_CONFIG: 'config',\n        CALLS_CONFIG_V2: 'v2',\n        CUSTOM_BACKEND: '/custom-backend',\n        DELETE: '/delete',\n        PASSWORD_RESET: '/password-reset',\n        PASSWORD_RESET_COMPLETE: 'complete',\n        PROVIDER: '/provider',\n        SETTINGS: 'settings',\n        SSO: '/sso',\n    };\n    return AccountAPI;\n})();\nexports.AccountAPI = AccountAPI;\n//# sourceMappingURL=AccountAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BackendError = void 0;\nconst http_1 = require(\"../http/\");\nconst BackendErrorLabel_1 = require(\"./BackendErrorLabel\");\nclass BackendError extends Error {\n    constructor(message, label = BackendErrorLabel_1.SyntheticErrorLabel.UNKNOWN, code = http_1.StatusCode.UNKNOWN) {\n        super(message);\n        this.code = code;\n        this.label = label;\n        this.message = message;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.BackendError = BackendError;\n//# sourceMappingURL=BackendError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BackendErrorMapper = void 0;\nconst auth_1 = require(\"../auth/\");\nconst conversation_1 = require(\"../conversation/\");\nconst team_1 = require(\"../team/\");\nconst user_1 = require(\"../user/\");\nconst _1 = require(\"./\");\nclass BackendErrorMapper {\n    static get ERRORS() {\n        return {\n            [_1.StatusCode.BAD_REQUEST]: {\n                [_1.BackendErrorLabel.CLIENT_ERROR]: {\n                    'Error in $: Failed reading: satisfy': new _1.BackendError('Wrong set of parameters.'),\n                    \"[path] 'cnv' invalid: Failed reading: Invalid UUID\": new conversation_1.ConversationIsUnknownError('Conversation ID is unknown.'),\n                    \"[path] 'usr' invalid: Failed reading: Invalid UUID\": new user_1.UserIsUnknownError('User ID is unknown.'),\n                },\n                [_1.BackendErrorLabel.INVALID_INVITATION_CODE]: {\n                    'Invalid invitation code.': new team_1.InvalidInvitationCodeError('Invalid invitation code.'),\n                },\n            },\n            [_1.StatusCode.FORBIDDEN]: {\n                [_1.BackendErrorLabel.INVALID_CREDENTIALS]: {\n                    'Authentication failed.': new auth_1.InvalidCredentialsError('Authentication failed because of invalid credentials.'),\n                    'Invalid token': new auth_1.InvalidTokenError('Authentication failed because the token is invalid.'),\n                    'Missing cookie': new auth_1.MissingCookieError('Authentication failed because the cookie is missing.'),\n                    'Token expired': new auth_1.TokenExpiredError('Authentication failed because the token is expired.'),\n                },\n                [_1.BackendErrorLabel.NOT_CONNECTED]: {\n                    'Users are not connected': new user_1.UnconnectedUserError('Users are not connected.'),\n                },\n                [_1.BackendErrorLabel.INVALID_OPERATION]: {\n                    'invalid operation for 1:1 conversations': new conversation_1.ConversationOperationError('Cannot leave 1:1 conversation.'),\n                },\n                [_1.BackendErrorLabel.SUSPENDED_ACCOUNT]: {\n                    'Account suspended.': new auth_1.SuspendedAccountError('Account suspended.'),\n                },\n            },\n            [_1.StatusCode.TOO_MANY_REQUESTS]: {\n                [_1.BackendErrorLabel.CLIENT_ERROR]: {\n                    'Logins too frequent': new auth_1.LoginTooFrequentError('Logins too frequent. User login temporarily disabled.'),\n                },\n            },\n            [_1.StatusCode.CONFLICT]: {\n                [_1.BackendErrorLabel.INVITE_EMAIL_EXISTS]: {\n                    'The given e-mail address is in use.': new team_1.InviteEmailInUseError('The given e-mail address is in use.'),\n                },\n                [_1.BackendErrorLabel.KEY_EXISTS]: {\n                    'The given e-mail address or phone number is in use.': new auth_1.IdentifierExistsError('The given e-mail address or phone number is in use.'),\n                },\n            },\n            [_1.StatusCode.NOT_FOUND]: {\n                [_1.BackendErrorLabel.NOT_FOUND]: {\n                    'Service not found': new team_1.ServiceNotFoundError('Service not found'),\n                },\n            },\n        };\n    }\n    static map(error) {\n        try {\n            const mappedError = BackendErrorMapper.ERRORS[Number(error.code)][error.label][error.message];\n            if (mappedError) {\n                return mappedError;\n            }\n            return error;\n        }\n        catch (mappingError) {\n            return error;\n        }\n    }\n}\nexports.BackendErrorMapper = BackendErrorMapper;\n//# sourceMappingURL=BackendErrorMapper.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccessTokenStore = void 0;\nconst events_1 = require(\"events\");\nconst logdown_1 = __importDefault(require(\"logdown\"));\nvar TOPIC;\n(function (TOPIC) {\n    TOPIC[\"ACCESS_TOKEN_REFRESH\"] = \"AccessTokenStore.TOPIC.ACCESS_TOKEN_REFRESH\";\n})(TOPIC || (TOPIC = {}));\nlet AccessTokenStore = /** @class */ (() => {\n    class AccessTokenStore extends events_1.EventEmitter {\n        constructor() {\n            super();\n            this.logger = logdown_1.default('@wireapp/api-client/AccessTokenStore', {\n                logger: console,\n                markdown: false,\n            });\n        }\n        delete() {\n            return __awaiter(this, void 0, void 0, function* () {\n                this.logger.log('Deleting local access token');\n                this.accessToken = undefined;\n            });\n        }\n        updateToken(accessToken) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (this.accessToken !== accessToken) {\n                    this.logger.log('Saving local access token');\n                    this.accessToken = accessToken;\n                    this.emit(AccessTokenStore.TOPIC.ACCESS_TOKEN_REFRESH, this.accessToken);\n                }\n                return this.accessToken;\n            });\n        }\n    }\n    AccessTokenStore.TOPIC = TOPIC;\n    return AccessTokenStore;\n})();\nexports.AccessTokenStore = AccessTokenStore;\n//# sourceMappingURL=AccessTokenStore.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthAPI = void 0;\nconst client_1 = require(\"../client/\");\nconst http_1 = require(\"../http/\");\nconst cookie_1 = require(\"../shims/node/cookie\");\nconst AuthenticationError_1 = require(\"./AuthenticationError\");\nlet AuthAPI = /** @class */ (() => {\n    class AuthAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getCookies(labels) {\n            const config = {\n                method: 'get',\n                params: {},\n                url: AuthAPI.URL.COOKIES,\n            };\n            if (labels) {\n                config.params.labels = labels.join(',');\n            }\n            return this.client.sendRequest(config);\n        }\n        postCookiesRemove(password, labels, ids) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        ids,\n                        labels,\n                        password,\n                    },\n                    method: 'post',\n                    url: `${AuthAPI.URL.COOKIES}/remove`,\n                    withCredentials: true,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postLogin(loginData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const login = Object.assign(Object.assign({}, loginData), { clientType: undefined, password: loginData.password ? String(loginData.password) : undefined });\n                const config = {\n                    data: login,\n                    method: 'post',\n                    params: {\n                        persist: loginData.clientType === client_1.ClientType.PERMANENT,\n                    },\n                    url: AuthAPI.URL.LOGIN,\n                    withCredentials: true,\n                };\n                const response = yield this.client.sendJSON(config);\n                return cookie_1.retrieveCookie(response);\n            });\n        }\n        /**\n         * This operation generates and sends a login code. A login code can be used only once and times out after 10\n         * minutes. Only one login code may be pending at a time.\n         * @param loginRequest Phone number to use for login SMS or voice call.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!/sendLoginCode\n         */\n        postLoginSend(loginRequest) {\n            return __awaiter(this, void 0, void 0, function* () {\n                // https://github.com/zinfra/backend-issues/issues/974\n                const defaultLoginRequest = { force: false };\n                const config = {\n                    data: Object.assign(Object.assign({}, defaultLoginRequest), loginRequest),\n                    method: 'post',\n                    url: `${AuthAPI.URL.LOGIN}/${AuthAPI.URL.SEND}`,\n                };\n                try {\n                    const response = yield this.client.sendJSON(config);\n                    return response.data;\n                }\n                catch (error) {\n                    switch (error.label) {\n                        case http_1.BackendErrorLabel.BAD_REQUEST: {\n                            throw new AuthenticationError_1.InvalidPhoneNumberError(error.message);\n                        }\n                        case http_1.BackendErrorLabel.INVALID_PHONE:\n                        case http_1.BackendErrorLabel.UNAUTHORIZED: {\n                            throw new AuthenticationError_1.ForbiddenPhoneNumberError(error.message);\n                        }\n                        case http_1.BackendErrorLabel.PASSWORD_EXISTS: {\n                            throw new AuthenticationError_1.PasswordExistsError(error.message);\n                        }\n                    }\n                    throw error;\n                }\n            });\n        }\n        postLogout() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'post',\n                    url: `${AuthAPI.URL.ACCESS}/${AuthAPI.URL.LOGOUT}`,\n                    withCredentials: true,\n                };\n                yield cookie_1.sendRequestWithCookie(this.client, config);\n            });\n        }\n        postRegister(userAccount) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: userAccount,\n                    method: 'post',\n                    url: AuthAPI.URL.REGISTER,\n                    withCredentials: true,\n                };\n                const response = yield this.client.sendJSON(config);\n                return cookie_1.retrieveCookie(response);\n            });\n        }\n        headInitiateLogin(ssoCode) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'head',\n                    url: `${AuthAPI.URL.SSO}/${AuthAPI.URL.INITIATE_LOGIN}/${ssoCode}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        headInitiateBind(ssoCode) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'head',\n                    url: `${AuthAPI.URL.INITIATE_BIND}/${ssoCode}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n    }\n    AuthAPI.URL = {\n        ACCESS: '/access',\n        COOKIES: '/cookies',\n        INITIATE_BIND: '/sso-initiate-bind',\n        INITIATE_LOGIN: 'initiate-login',\n        LOGIN: '/login',\n        LOGOUT: 'logout',\n        REGISTER: '/register',\n        SEND: 'send',\n        SSO: '/sso',\n    };\n    return AuthAPI;\n})();\nexports.AuthAPI = AuthAPI;\n//# sourceMappingURL=AuthAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientAPI = void 0;\nlet ClientAPI = /** @class */ (() => {\n    class ClientAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        postClient(newClient) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: newClient,\n                    method: 'post',\n                    url: ClientAPI.URL.CLIENTS,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        putClient(clientId, updatedClient) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: updatedClient,\n                    method: 'put',\n                    url: `${ClientAPI.URL.CLIENTS}/${clientId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        deleteClient(clientId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'delete',\n                    url: `${ClientAPI.URL.CLIENTS}/${clientId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        getClient(clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ClientAPI.URL.CLIENTS}/${clientId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getClients() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: ClientAPI.URL.CLIENTS,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getClientPreKeys(clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ClientAPI.URL.CLIENTS}/${clientId}/prekeys`,\n                };\n                const response = yield this.client.sendJSON(config, true);\n                return response.data;\n            });\n        }\n    }\n    ClientAPI.URL = {\n        CLIENTS: '/clients',\n    };\n    return ClientAPI;\n})();\nexports.ClientAPI = ClientAPI;\n//# sourceMappingURL=ClientAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientClassification = void 0;\nvar ClientClassification;\n(function (ClientClassification) {\n    ClientClassification[\"DESKTOP\"] = \"desktop\";\n    ClientClassification[\"LEGAL_HOLD\"] = \"legalhold\";\n    ClientClassification[\"PHONE\"] = \"phone\";\n    ClientClassification[\"TABLET\"] = \"tablet\";\n})(ClientClassification = exports.ClientClassification || (exports.ClientClassification = {}));\n//# sourceMappingURL=ClientClassification.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientType = void 0;\nvar ClientType;\n(function (ClientType) {\n    /** 'none' is an artificial client type, not sent by the backend */\n    ClientType[\"NONE\"] = \"none\";\n    ClientType[\"PERMANENT\"] = \"permanent\";\n    ClientType[\"TEMPORARY\"] = \"temporary\";\n})(ClientType = exports.ClientType || (exports.ClientType = {}));\n//# sourceMappingURL=ClientType.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Cookie = void 0;\nclass Cookie {\n    constructor(zuid, expiration) {\n        this.expiration = '0';\n        this.zuid = '';\n        this.expiration = expiration;\n        this.zuid = zuid;\n    }\n    get isExpired() {\n        return new Date() > new Date(this.expiration);\n    }\n}\nexports.Cookie = Cookie;\n//# sourceMappingURL=Cookie.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogFactory = void 0;\nconst ansiRegex = require(\"ansi-regex\");\nconst fs = require(\"fs-extra\");\nconst logdown = require(\"logdown\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nlet LogFactory = /** @class */ (() => {\n    class LogFactory {\n        static getColor() {\n            LogFactory.COLOR_CODE.R = (LogFactory.COLOR_CODE.R + LogFactory.COLOR_STEP.R) % 256;\n            LogFactory.COLOR_CODE.G = (LogFactory.COLOR_CODE.G + LogFactory.COLOR_STEP.G) % 256;\n            LogFactory.COLOR_CODE.B = (LogFactory.COLOR_CODE.B + LogFactory.COLOR_STEP.B) % 256;\n            const rHex = Number(LogFactory.COLOR_CODE.R).toString(16).padStart(2, '0');\n            const gHex = LogFactory.COLOR_CODE.G.toString(16).padStart(2, '0');\n            const bHex = LogFactory.COLOR_CODE.B.toString(16).padStart(2, '0');\n            return `#${rHex}${gHex}${bHex}`;\n        }\n        static addTimestamp(logTransport) {\n            const formattedDate = new Date().toISOString().split('.')[0].replace('T', ' ');\n            logTransport.args.unshift(`[${formattedDate}]`);\n        }\n        static writeTransport(logTransport) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const [time] = logTransport.args;\n                const logMessage = `${time} ${logTransport.msg}`;\n                if (this.logFilePath) {\n                    yield LogFactory.writeMessage(logMessage, this.logFilePath);\n                }\n            });\n        }\n        static writeMessage(message, logFilePath) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const withoutColor = message.replace(ansiRegex(), '');\n                yield fs.outputFile(logFilePath, `${withoutColor}${os.EOL}`, { flag: 'a' });\n            });\n        }\n        static createLoggerName(fileName, namespace, separator) {\n            if (typeof window === 'undefined') {\n                fileName = path.basename(fileName, path.extname(fileName));\n            }\n            return [namespace, fileName].filter(Boolean).join(separator);\n        }\n        static getLogger(name, options) {\n            const defaults = {\n                color: LogFactory.getColor(),\n                forceEnable: false,\n                logFilePath: '',\n                namespace: '',\n                separator: '::',\n            };\n            const config = Object.assign(Object.assign({}, defaults), options);\n            if (logdown.transports.length === 0) {\n                logdown.transports.push(LogFactory.addTimestamp.bind({ namespace: config.namespace }));\n                logdown.transports.push(LogFactory.writeTransport.bind({ logFilePath: config.logFilePath }));\n            }\n            const loggerName = this.createLoggerName(name, config.namespace, config.separator);\n            const logger = logdown(loggerName, {\n                logger: console,\n                markdown: false,\n                prefixColor: config.color,\n            });\n            if (config.forceEnable) {\n                logger.state.isEnabled = true;\n            }\n            return logger;\n        }\n    }\n    LogFactory.logFilePath = undefined;\n    LogFactory.COLOR_STEP = {\n        B: 97,\n        G: 79,\n        R: 31,\n    };\n    LogFactory.COLOR_CODE = {\n        B: 0,\n        G: 0,\n        R: 0,\n    };\n    return LogFactory;\n})();\nexports.LogFactory = LogFactory;\n//# sourceMappingURL=LogFactory.js.map","'use strict';\n\nmodule.exports = ({onlyFirst = false} = {}) => {\n\tconst pattern = [\n\t\t'[\\\\u001B\\\\u009B][[\\\\]()#;?]*(?:(?:(?:[a-zA-Z\\\\d]*(?:;[-a-zA-Z\\\\d\\\\/#&.:=?%@~_]*)*)?\\\\u0007)',\n\t\t'(?:(?:\\\\d{1,4}(?:;\\\\d{0,4})*)?[\\\\dA-PR-TZcf-ntqry=><~]))'\n\t].join('|');\n\n\treturn new RegExp(pattern, onlyFirst ? undefined : 'g');\n};\n","module.exports = {};","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AccentColor = require(\"./AccentColor\");\nexports.ArrayUtil = require(\"./ArrayUtil\");\nexports.DateUtil = require(\"./DateUtil\");\nexports.RandomUtil = require(\"./RandomUtil\");\nexports.StringUtil = require(\"./StringUtil\");\nexports.TimeUtil = require(\"./TimeUtil\");\nexports.TypeUtil = require(\"./TypeUtil\");\nexports.UrlUtil = require(\"./UrlUtil\");\nexports.ValidationUtil = require(\"./ValidationUtil\");\n__exportStar(require(\"./Runtime\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEPRECATED_getById = exports.DEPRECATED_ACCENT_COLORS = exports.getRandom = exports.getById = exports.ACCENT_COLORS = exports.VIOLET = exports.SOFT_PINK = exports.BRIGHT_ORANGE = exports.VIVID_RED = exports.DEPRECATED_YELLOW = exports.STRONG_LIME_GREEN = exports.STRONG_BLUE = exports.AccentColorID = void 0;\nconst RandomUtil = require(\"./RandomUtil\");\nvar AccentColorID;\n(function (AccentColorID) {\n    AccentColorID[AccentColorID[\"BRIGHT_ORANGE\"] = 5] = \"BRIGHT_ORANGE\";\n    AccentColorID[AccentColorID[\"SOFT_PINK\"] = 6] = \"SOFT_PINK\";\n    AccentColorID[AccentColorID[\"STRONG_BLUE\"] = 1] = \"STRONG_BLUE\";\n    AccentColorID[AccentColorID[\"STRONG_LIME_GREEN\"] = 2] = \"STRONG_LIME_GREEN\";\n    AccentColorID[AccentColorID[\"VIOLET\"] = 7] = \"VIOLET\";\n    AccentColorID[AccentColorID[\"VIVID_RED\"] = 4] = \"VIVID_RED\";\n    /** @deprecated */\n    AccentColorID[AccentColorID[\"YELLOW\"] = 3] = \"YELLOW\";\n})(AccentColorID = exports.AccentColorID || (exports.AccentColorID = {}));\nexports.STRONG_BLUE = {\n    color: '#2391d3',\n    id: AccentColorID.STRONG_BLUE,\n    name: 'StrongBlue',\n};\nexports.STRONG_LIME_GREEN = {\n    color: '#00c800',\n    id: AccentColorID.STRONG_LIME_GREEN,\n    name: 'StrongLimeGreen',\n};\nexports.DEPRECATED_YELLOW = {\n    color: '#febf02',\n    id: AccentColorID.YELLOW,\n    name: 'Yellow',\n};\nexports.VIVID_RED = {\n    color: '#fb0807',\n    id: AccentColorID.VIVID_RED,\n    name: 'VividRed',\n};\nexports.BRIGHT_ORANGE = {\n    color: '#ff8900',\n    id: AccentColorID.BRIGHT_ORANGE,\n    name: 'BrightOrange',\n};\nexports.SOFT_PINK = {\n    color: '#fe5ebd',\n    id: AccentColorID.SOFT_PINK,\n    name: 'SoftPink',\n};\nexports.VIOLET = {\n    color: '#9c00fe',\n    id: AccentColorID.VIOLET,\n    name: 'Violet',\n};\nexports.ACCENT_COLORS = [\n    exports.BRIGHT_ORANGE,\n    exports.SOFT_PINK,\n    exports.STRONG_BLUE,\n    exports.STRONG_LIME_GREEN,\n    exports.VIOLET,\n    exports.VIVID_RED,\n];\nexports.getById = (id) => exports.ACCENT_COLORS.find(color => color.id === id);\nexports.getRandom = () => RandomUtil.randomArrayElement(exports.ACCENT_COLORS);\n/**\n * Use with caution:\n * This only exists to support deprecated color schemes and\n * is only permitted for usage in a read only manner.\n */\nexports.DEPRECATED_ACCENT_COLORS = [\n    exports.BRIGHT_ORANGE,\n    exports.DEPRECATED_YELLOW,\n    exports.SOFT_PINK,\n    exports.STRONG_BLUE,\n    exports.STRONG_LIME_GREEN,\n    exports.VIOLET,\n    exports.VIVID_RED,\n];\n/**\n * Use with caution:\n * This only exists to support deprecated color schemes and\n * is only permitted for usage in a read only manner.\n *\n * @param id AccentColor ID\n * @returns AccentColor with given ID | undefined\n */\nexports.DEPRECATED_getById = (id) => exports.DEPRECATED_ACCENT_COLORS.find(color => color.id === id);\n//# sourceMappingURL=AccentColor.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.flatten = exports.removeDuplicates = exports.getIntersection = exports.getDifference = exports.getDeduplicatedUnion = exports.chunk = void 0;\nfunction chunk(array, chunkSize) {\n    const chunks = [];\n    for (let index = 0, length = array.length; index < length; index += chunkSize) {\n        chunks.push(array.slice(index, index + chunkSize));\n    }\n    return chunks;\n}\nexports.chunk = chunk;\nfunction getDeduplicatedUnion(array1, array2) {\n    return removeDuplicates(array1.concat(array2));\n}\nexports.getDeduplicatedUnion = getDeduplicatedUnion;\nfunction getDifference(array1, array2) {\n    return array1.filter(value => !array2.includes(value));\n}\nexports.getDifference = getDifference;\nfunction getIntersection(array1, array2) {\n    return array1.filter(value => array2.includes(value));\n}\nexports.getIntersection = getIntersection;\nfunction removeDuplicates(array) {\n    return Array.from(new Set(array));\n}\nexports.removeDuplicates = removeDuplicates;\nexports.flatten = (arrays) => [].concat(...arrays);\n//# sourceMappingURL=ArrayUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isoFormat = void 0;\n/**\n * Converts a date object into two strings of format `YYYY-MM-DD` and `HH:mm:ss`.\n * @param date The date to format\n */\nfunction isoFormat(date) {\n    const isoString = date.toISOString();\n    const dateAndTimeRegex = /(.+)T(.+)\\./;\n    const [, formattedDate, formattedTime] = dateAndTimeRegex.exec(isoString);\n    return { date: formattedDate, time: formattedTime };\n}\nexports.isoFormat = isoFormat;\n//# sourceMappingURL=DateUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pluralize = exports.capitalize = void 0;\nfunction capitalize(text) {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n}\nexports.capitalize = capitalize;\nfunction pluralize(text, times, options) {\n    const postfix = (options === null || options === void 0 ? void 0 : options.postfix) || 's';\n    return `${text}${times === 1 ? '' : postfix}`;\n}\nexports.pluralize = pluralize;\n//# sourceMappingURL=StringUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeInMillis = void 0;\nvar TimeInMillis;\n(function (TimeInMillis) {\n    TimeInMillis[TimeInMillis[\"SECOND\"] = 1000] = \"SECOND\";\n    TimeInMillis[TimeInMillis[\"MINUTE\"] = 60000] = \"MINUTE\";\n    TimeInMillis[TimeInMillis[\"HOUR\"] = 3600000] = \"HOUR\";\n    TimeInMillis[TimeInMillis[\"DAY\"] = 86400000] = \"DAY\";\n    TimeInMillis[TimeInMillis[\"WEEK\"] = 604800000] = \"WEEK\";\n    TimeInMillis[TimeInMillis[\"YEAR\"] = 31536000000] = \"YEAR\";\n})(TimeInMillis = exports.TimeInMillis || (exports.TimeInMillis = {}));\n//# sourceMappingURL=TimeUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasURLParameter = exports.getURLParameter = exports.paramsToRecord = exports.pathWithParams = void 0;\nrequire(\"url-search-params-polyfill\");\nfunction pathWithParams(path, additionalParams, whitelistParams, search = window.location.search) {\n    const params = paramsToRecord(search);\n    if (additionalParams) {\n        Object.assign(params, additionalParams);\n    }\n    if (whitelistParams) {\n        Object.keys(params).forEach(key => {\n            if (!whitelistParams.includes(key)) {\n                delete params[key];\n            }\n        });\n    }\n    const queryString = new URLSearchParams(params).toString();\n    return `${path}${queryString ? `?${queryString}` : ''}`;\n}\nexports.pathWithParams = pathWithParams;\nfunction paramsToRecord(params) {\n    const records = {};\n    new URLSearchParams(params).forEach((value, key) => {\n        records[key] = value;\n    });\n    return records;\n}\nexports.paramsToRecord = paramsToRecord;\nfunction getURLParameter(parameterName, search = window.location.search) {\n    return new URLSearchParams(search).get(parameterName) || '';\n}\nexports.getURLParameter = getURLParameter;\nfunction hasURLParameter(parameterName, search = window.location.search) {\n    return !!new URLSearchParams(search).has(parameterName);\n}\nexports.hasURLParameter = hasURLParameter;\n//# sourceMappingURL=UrlUtil.js.map","/**\n *\n *\n * @author Jerry Bendy <jerry@icewingcc.com>\n * @licence MIT\n *\n */\n\n(function(self) {\n    'use strict';\n\n    var nativeURLSearchParams = (function() {\n            // #41 Fix issue in RN\n            try {\n                if (self.URLSearchParams && (new self.URLSearchParams('foo=bar')).get('foo') === 'bar') {\n                    return self.URLSearchParams;\n                }\n            } catch (e) {}\n            return null;\n        })(),\n        isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n        // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n        decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n        __URLSearchParams__ = \"__URLSearchParams__\",\n        // Fix bug in Edge which cannot encode ' &' correctly\n        encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n            var ampersandTest = new nativeURLSearchParams();\n            ampersandTest.append('s', ' &');\n            return ampersandTest.toString() === 's=+%26';\n        })() : true,\n        prototype = URLSearchParamsPolyfill.prototype,\n        iterable = !!(self.Symbol && self.Symbol.iterator);\n\n    if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n        return;\n    }\n\n\n    /**\n     * Make a URLSearchParams instance\n     *\n     * @param {object|string|URLSearchParams} search\n     * @constructor\n     */\n    function URLSearchParamsPolyfill(search) {\n        search = search || \"\";\n\n        // support construct object with another URLSearchParams instance\n        if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n            search = search.toString();\n        }\n        this [__URLSearchParams__] = parseToDict(search);\n    }\n\n\n    /**\n     * Appends a specified key/value pair as a new search parameter.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.append = function(name, value) {\n        appendTo(this [__URLSearchParams__], name, value);\n    };\n\n    /**\n     * Deletes the given search parameter, and its associated value,\n     * from the list of all search parameters.\n     *\n     * @param {string} name\n     */\n    prototype['delete'] = function(name) {\n        delete this [__URLSearchParams__] [name];\n    };\n\n    /**\n     * Returns the first value associated to the given search parameter.\n     *\n     * @param {string} name\n     * @returns {string|null}\n     */\n    prototype.get = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict[name][0] : null;\n    };\n\n    /**\n     * Returns all the values association with a given search parameter.\n     *\n     * @param {string} name\n     * @returns {Array}\n     */\n    prototype.getAll = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict [name].slice(0) : [];\n    };\n\n    /**\n     * Returns a Boolean indicating if such a search parameter exists.\n     *\n     * @param {string} name\n     * @returns {boolean}\n     */\n    prototype.has = function(name) {\n        return hasOwnProperty(this [__URLSearchParams__], name);\n    };\n\n    /**\n     * Sets the value associated to a given search parameter to\n     * the given value. If there were several values, delete the\n     * others.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.set = function set(name, value) {\n        this [__URLSearchParams__][name] = ['' + value];\n    };\n\n    /**\n     * Returns a string containg a query string suitable for use in a URL.\n     *\n     * @returns {string}\n     */\n    prototype.toString = function() {\n        var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n        for (key in dict) {\n            name = encode(key);\n            for (i = 0, value = dict[key]; i < value.length; i++) {\n                query.push(name + '=' + encode(value[i]));\n            }\n        }\n        return query.join('&');\n    };\n\n    // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n    var forSureUsePolyfill = !decodesPlusesCorrectly;\n    var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n    /*\n     * Apply polifill to global object and append other prototype into it\n     */\n    Object.defineProperty(self, 'URLSearchParams', {\n        value: (useProxy ?\n            // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n            new Proxy(nativeURLSearchParams, {\n                construct: function(target, args) {\n                    return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n                }\n            }) :\n            URLSearchParamsPolyfill)\n    });\n\n    var USPProto = self.URLSearchParams.prototype;\n\n    USPProto.polyfill = true;\n\n    /**\n     *\n     * @param {function} callback\n     * @param {object} thisArg\n     */\n    USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n        var dict = parseToDict(this.toString());\n        Object.getOwnPropertyNames(dict).forEach(function(name) {\n            dict[name].forEach(function(value) {\n                callback.call(thisArg, value, name, this);\n            }, this);\n        }, this);\n    };\n\n    /**\n     * Sort all name-value pairs\n     */\n    USPProto.sort = USPProto.sort || function() {\n        var dict = parseToDict(this.toString()), keys = [], k, i, j;\n        for (k in dict) {\n            keys.push(k);\n        }\n        keys.sort();\n\n        for (i = 0; i < keys.length; i++) {\n            this['delete'](keys[i]);\n        }\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i], values = dict[key];\n            for (j = 0; j < values.length; j++) {\n                this.append(key, values[j]);\n            }\n        }\n    };\n\n    /**\n     * Returns an iterator allowing to go through all keys of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.keys = USPProto.keys || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push(name);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all values of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.values = USPProto.values || function() {\n        var items = [];\n        this.forEach(function(item) {\n            items.push(item);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all key/value\n     * pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.entries = USPProto.entries || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push([name, item]);\n        });\n        return makeIterator(items);\n    };\n\n\n    if (iterable) {\n        USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n    }\n\n\n    function encode(str) {\n        var replace = {\n            '!': '%21',\n            \"'\": '%27',\n            '(': '%28',\n            ')': '%29',\n            '~': '%7E',\n            '%20': '+',\n            '%00': '\\x00'\n        };\n        return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n            return replace[match];\n        });\n    }\n\n    function decode(str) {\n        return str\n            .replace(/[ +]/g, '%20')\n            .replace(/(%[a-f0-9]{2})+/ig, function(match) {\n                return decodeURIComponent(match);\n            });\n    }\n\n    function makeIterator(arr) {\n        var iterator = {\n            next: function() {\n                var value = arr.shift();\n                return {done: value === undefined, value: value};\n            }\n        };\n\n        if (iterable) {\n            iterator[self.Symbol.iterator] = function() {\n                return iterator;\n            };\n        }\n\n        return iterator;\n    }\n\n    function parseToDict(search) {\n        var dict = {};\n\n        if (typeof search === \"object\") {\n            // if `search` is an array, treat it as a sequence\n            if (isArray(search)) {\n                for (var i = 0; i < search.length; i++) {\n                    var item = search[i];\n                    if (isArray(item) && item.length === 2) {\n                        appendTo(dict, item[0], item[1]);\n                    } else {\n                        throw new TypeError(\"Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements\");\n                    }\n                }\n\n            } else {\n                for (var key in search) {\n                    if (search.hasOwnProperty(key)) {\n                        appendTo(dict, key, search[key]);\n                    }\n                }\n            }\n\n        } else {\n            // remove first '?'\n            if (search.indexOf(\"?\") === 0) {\n                search = search.slice(1);\n            }\n\n            var pairs = search.split(\"&\");\n            for (var j = 0; j < pairs.length; j++) {\n                var value = pairs [j],\n                    index = value.indexOf('=');\n\n                if (-1 < index) {\n                    appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n\n                } else {\n                    if (value) {\n                        appendTo(dict, decode(value), '');\n                    }\n                }\n            }\n        }\n\n        return dict;\n    }\n\n    function appendTo(dict, name, value) {\n        var val = typeof value === 'string' ? value : (\n            value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n        );\n\n        // #47 Prevent using `hasOwnProperty` as a property name\n        if (hasOwnProperty(dict, name)) {\n            dict[name].push(val);\n        } else {\n            dict[name] = [val];\n        }\n    }\n\n    function isArray(val) {\n        return !!val && '[object Array]' === Object.prototype.toString.call(val);\n    }\n\n    function hasOwnProperty(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n})(typeof global !== 'undefined' ? global : (typeof window !== 'undefined' ? window : this));\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getNewPasswordPattern = exports.DEFAULT_PASSWORD_MAX_LENGTH = exports.DEFAULT_PASSWORD_MIN_LENGTH = exports.isValidEmail = exports.isUUIDv4 = exports.PATTERN = void 0;\nexports.PATTERN = {\n    EMAIL: \n    // prettier-ignore\n    '\\(\\(\\[\\^<>\\(\\)\\[\\\\\\]\\\\\\\\\\.,;:\\\\s@\"\\]\\+\\(\\\\\\.\\[\\^<>\\(\\)\\[\\\\\\]\\\\\\\\\\.,;:\\\\s@\"\\]\\+\\)\\*\\)\\|\\(\"\\.\\+\"\\)\\)@\\(\\(\\\\\\[\\[0-9\\]\\{1,3\\}\\\\\\.\\[0-9\\]\\{1,3\\}\\\\\\.\\[0-9\\]\\{1,3\\}\\\\\\.\\[0-9\\]\\{1,3\\}\\\\\\]\\)\\|\\(\\(\\[a-zA-Z\\\\-0-9\\]\\+\\\\\\.\\)\\+\\[a-zA-Z\\]\\{2,\\}\\)\\)',\n    UUID_V4: '[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}',\n};\nfunction isUUIDv4(candidate) {\n    const uuidv4Regex = new RegExp(`^${exports.PATTERN.UUID_V4}$`, 'i');\n    return uuidv4Regex.test(candidate);\n}\nexports.isUUIDv4 = isUUIDv4;\nfunction isValidEmail(email) {\n    const regExp = new RegExp(`^${exports.PATTERN.EMAIL}$`, 'i');\n    return regExp.test(email);\n}\nexports.isValidEmail = isValidEmail;\nexports.DEFAULT_PASSWORD_MIN_LENGTH = 8;\nexports.DEFAULT_PASSWORD_MAX_LENGTH = 120;\nfunction getNewPasswordPattern(minLength = exports.DEFAULT_PASSWORD_MIN_LENGTH, maxLength = exports.DEFAULT_PASSWORD_MAX_LENGTH) {\n    return `(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[^0-9a-zA-Z]).{${minLength},${maxLength}}$`;\n}\nexports.getNewPasswordPattern = getNewPasswordPattern;\n//# sourceMappingURL=ValidationUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Runtime = exports.OperatingSystem = void 0;\nconst platform = require(\"platform\");\nconst CommonConfig_1 = require(\"../config/CommonConfig\");\nconst UNKNOWN_PROPERTY = 'unknown';\nvar OperatingSystem;\n(function (OperatingSystem) {\n    OperatingSystem[\"ANDROID\"] = \"OperatingSystem.ANDROID\";\n    OperatingSystem[\"IOS\"] = \"OperatingSystem.IOS\";\n    OperatingSystem[\"LINUX\"] = \"OperatingSystem.LINUX\";\n    OperatingSystem[\"MAC\"] = \"OperatingSystem.MAC\";\n    OperatingSystem[\"WINDOWS\"] = \"OperatingSystem.WINDOWS\";\n})(OperatingSystem = exports.OperatingSystem || (exports.OperatingSystem = {}));\nclass Runtime {\n    static getPlatform() {\n        const unsetPlatform = {};\n        return platform || unsetPlatform;\n    }\n    static getOSFamily() {\n        const family = Runtime.getOS().family.toLowerCase();\n        if (family.includes('windows')) {\n            return OperatingSystem.WINDOWS;\n        }\n        if (family.includes('android')) {\n            return OperatingSystem.ANDROID;\n        }\n        if (family.includes('ios')) {\n            return OperatingSystem.IOS;\n        }\n        if (['os x', 'mac os'].includes(family)) {\n            return OperatingSystem.MAC;\n        }\n        return OperatingSystem.LINUX;\n    }\n    static getBrowserName() {\n        return (Runtime.getPlatform().name || UNKNOWN_PROPERTY).toLowerCase();\n    }\n    static getBrowserVersion() {\n        const [majorVersion, minorVersion] = (Runtime.getPlatform().version || UNKNOWN_PROPERTY).split('.');\n        return { major: parseInt(majorVersion, 10), minor: parseInt(minorVersion, 10) };\n    }\n    static getUserAgent() {\n        return (Runtime.getPlatform().ua || UNKNOWN_PROPERTY).toLowerCase();\n    }\n    static isWebappSupportedBrowser() {\n        if (Runtime.isFranz()) {\n            return false;\n        }\n        return Object.entries(CommonConfig_1.WEBAPP_SUPPORTED_BROWSERS).some(([browser, supportedVersion]) => {\n            const isBrowserSupported = Runtime.getBrowserName() === browser;\n            const currentVersion = Runtime.getBrowserVersion();\n            const isSupportedMajorVersion = currentVersion.major >= supportedVersion.major;\n            const isHigherMajorVersion = currentVersion.major > supportedVersion.major;\n            const isSupportedMinorVersion = isHigherMajorVersion || currentVersion.minor >= supportedVersion.minor;\n            return isBrowserSupported && isSupportedMajorVersion && isSupportedMinorVersion;\n        });\n    }\n    static getOS() {\n        return Object.assign({ architecture: UNKNOWN_PROPERTY, family: UNKNOWN_PROPERTY, version: UNKNOWN_PROPERTY }, platform.os);\n    }\n    static isChrome() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.CHROME;\n    }\n    static isEdge() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.MS_EDGE;\n    }\n    static isFirefox() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.FIREFOX;\n    }\n    static isInternetExplorer() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.IE;\n    }\n    static isOpera() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.OPERA;\n    }\n    static isSafari() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.SAFARI;\n    }\n    static isDesktopOS() {\n        return Runtime.isMacOS() || Runtime.isWindows() || Runtime.isLinux();\n    }\n    static isElectron() {\n        return Runtime.getBrowserName() === CommonConfig_1.BROWSER.ELECTRON;\n    }\n    static isNode() {\n        return typeof process === 'object';\n    }\n    static isDesktopApp() {\n        return Runtime.isElectron() && Runtime.getUserAgent().includes('wire');\n    }\n    static isFranz() {\n        return Runtime.isElectron() && Runtime.getUserAgent().includes('franz');\n    }\n    static isMacOS() {\n        return Runtime.getOSFamily() === OperatingSystem.MAC;\n    }\n    static isWindows() {\n        return Runtime.getOSFamily() === OperatingSystem.WINDOWS;\n    }\n    static isLinux() {\n        return Runtime.getOSFamily() === OperatingSystem.LINUX;\n    }\n    static isMobileOS() {\n        return Runtime.isAndroid() || Runtime.isIOS();\n    }\n    static isAndroid() {\n        return Runtime.getOSFamily() === OperatingSystem.ANDROID;\n    }\n    static isIOS() {\n        return Runtime.getOSFamily() === OperatingSystem.IOS;\n    }\n}\nexports.Runtime = Runtime;\n//# sourceMappingURL=Runtime.js.map","/*!\n * Platform.js <https://mths.be/platform>\n * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>\n * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>\n * Available under MIT license <https://mths.be/mit>\n */\n;(function() {\n  'use strict';\n\n  /** Used to determine if values are of the language type `Object`. */\n  var objectTypes = {\n    'function': true,\n    'object': true\n  };\n\n  /** Used as a reference to the global object. */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Backup possible global object. */\n  var oldRoot = root;\n\n  /** Detect free variable `exports`. */\n  var freeExports = objectTypes[typeof exports] && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root`. */\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /**\n   * Used as the maximum length of an array-like object.\n   * See the [ES6 spec](http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength)\n   * for more details.\n   */\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n\n  /** Regular expression to detect Opera. */\n  var reOpera = /\\bOpera/;\n\n  /** Possible global object. */\n  var thisBinding = this;\n\n  /** Used for native method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check for own properties of an object. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /** Used to resolve the internal `[[Class]]` of values. */\n  var toString = objectProto.toString;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Capitalizes a string value.\n   *\n   * @private\n   * @param {string} string The string to capitalize.\n   * @returns {string} The capitalized string.\n   */\n  function capitalize(string) {\n    string = String(string);\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  /**\n   * A utility function to clean up the OS name.\n   *\n   * @private\n   * @param {string} os The OS name to clean up.\n   * @param {string} [pattern] A `RegExp` pattern matching the OS name.\n   * @param {string} [label] A label for the OS.\n   */\n  function cleanupOS(os, pattern, label) {\n    // Platform tokens are defined at:\n    // http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    // http://web.archive.org/web/20081122053950/http://msdn.microsoft.com/en-us/library/ms537503(VS.85).aspx\n    var data = {\n      '10.0': '10',\n      '6.4':  '10 Technical Preview',\n      '6.3':  '8.1',\n      '6.2':  '8',\n      '6.1':  'Server 2008 R2 / 7',\n      '6.0':  'Server 2008 / Vista',\n      '5.2':  'Server 2003 / XP 64-bit',\n      '5.1':  'XP',\n      '5.01': '2000 SP1',\n      '5.0':  '2000',\n      '4.0':  'NT',\n      '4.90': 'ME'\n    };\n    // Detect Windows version from platform tokens.\n    if (pattern && label && /^Win/i.test(os) && !/^Windows Phone /i.test(os) &&\n        (data = data[/[\\d.]+$/.exec(os)])) {\n      os = 'Windows ' + data;\n    }\n    // Correct character case and cleanup string.\n    os = String(os);\n\n    if (pattern && label) {\n      os = os.replace(RegExp(pattern, 'i'), label);\n    }\n\n    os = format(\n      os.replace(/ ce$/i, ' CE')\n        .replace(/\\bhpw/i, 'web')\n        .replace(/\\bMacintosh\\b/, 'Mac OS')\n        .replace(/_PowerPC\\b/i, ' OS')\n        .replace(/\\b(OS X) [^ \\d]+/i, '$1')\n        .replace(/\\bMac (OS X)\\b/, '$1')\n        .replace(/\\/(\\d)/, ' $1')\n        .replace(/_/g, '.')\n        .replace(/(?: BePC|[ .]*fc[ \\d.]+)$/i, '')\n        .replace(/\\bx86\\.64\\b/gi, 'x86_64')\n        .replace(/\\b(Windows Phone) OS\\b/, '$1')\n        .replace(/\\b(Chrome OS \\w+) [\\d.]+\\b/, '$1')\n        .split(' on ')[0]\n    );\n\n    return os;\n  }\n\n  /**\n   * An iteration utility for arrays and objects.\n   *\n   * @private\n   * @param {Array|Object} object The object to iterate over.\n   * @param {Function} callback The function called per iteration.\n   */\n  function each(object, callback) {\n    var index = -1,\n        length = object ? object.length : 0;\n\n    if (typeof length == 'number' && length > -1 && length <= maxSafeInteger) {\n      while (++index < length) {\n        callback(object[index], index, object);\n      }\n    } else {\n      forOwn(object, callback);\n    }\n  }\n\n  /**\n   * Trim and conditionally capitalize string values.\n   *\n   * @private\n   * @param {string} string The string to format.\n   * @returns {string} The formatted string.\n   */\n  function format(string) {\n    string = trim(string);\n    return /^(?:webOS|i(?:OS|P))/.test(string)\n      ? string\n      : capitalize(string);\n  }\n\n  /**\n   * Iterates over an object's own properties, executing the `callback` for each.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} callback The function executed per own property.\n   */\n  function forOwn(object, callback) {\n    for (var key in object) {\n      if (hasOwnProperty.call(object, key)) {\n        callback(object[key], key, object);\n      }\n    }\n  }\n\n  /**\n   * Gets the internal `[[Class]]` of a value.\n   *\n   * @private\n   * @param {*} value The value.\n   * @returns {string} The `[[Class]]`.\n   */\n  function getClassOf(value) {\n    return value == null\n      ? capitalize(value)\n      : toString.call(value).slice(8, -1);\n  }\n\n  /**\n   * Host objects can return type values that are different from their actual\n   * data type. The objects we are concerned with usually return non-primitive\n   * types of \"object\", \"function\", or \"unknown\".\n   *\n   * @private\n   * @param {*} object The owner of the property.\n   * @param {string} property The property to check.\n   * @returns {boolean} Returns `true` if the property value is a non-primitive, else `false`.\n   */\n  function isHostType(object, property) {\n    var type = object != null ? typeof object[property] : 'number';\n    return !/^(?:boolean|number|string|undefined)$/.test(type) &&\n      (type == 'object' ? !!object[property] : true);\n  }\n\n  /**\n   * Prepares a string for use in a `RegExp` by making hyphens and spaces optional.\n   *\n   * @private\n   * @param {string} string The string to qualify.\n   * @returns {string} The qualified string.\n   */\n  function qualify(string) {\n    return String(string).replace(/([ -])(?!$)/g, '$1?');\n  }\n\n  /**\n   * A bare-bones `Array#reduce` like utility function.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} callback The function called per iteration.\n   * @returns {*} The accumulated result.\n   */\n  function reduce(array, callback) {\n    var accumulator = null;\n    each(array, function(value, index) {\n      accumulator = callback(accumulator, value, index, array);\n    });\n    return accumulator;\n  }\n\n  /**\n   * Removes leading and trailing whitespace from a string.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} The trimmed string.\n   */\n  function trim(string) {\n    return String(string).replace(/^ +| +$/g, '');\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Creates a new platform object.\n   *\n   * @memberOf platform\n   * @param {Object|string} [ua=navigator.userAgent] The user agent string or\n   *  context object.\n   * @returns {Object} A platform object.\n   */\n  function parse(ua) {\n\n    /** The environment context object. */\n    var context = root;\n\n    /** Used to flag when a custom context is provided. */\n    var isCustomContext = ua && typeof ua == 'object' && getClassOf(ua) != 'String';\n\n    // Juggle arguments.\n    if (isCustomContext) {\n      context = ua;\n      ua = null;\n    }\n\n    /** Browser navigator object. */\n    var nav = context.navigator || {};\n\n    /** Browser user agent string. */\n    var userAgent = nav.userAgent || '';\n\n    ua || (ua = userAgent);\n\n    /** Used to flag when `thisBinding` is the [ModuleScope]. */\n    var isModuleScope = isCustomContext || thisBinding == oldRoot;\n\n    /** Used to detect if browser is like Chrome. */\n    var likeChrome = isCustomContext\n      ? !!nav.likeChrome\n      : /\\bChrome\\b/.test(ua) && !/internal|\\n/i.test(toString.toString());\n\n    /** Internal `[[Class]]` value shortcuts. */\n    var objectClass = 'Object',\n        airRuntimeClass = isCustomContext ? objectClass : 'ScriptBridgingProxyObject',\n        enviroClass = isCustomContext ? objectClass : 'Environment',\n        javaClass = (isCustomContext && context.java) ? 'JavaPackage' : getClassOf(context.java),\n        phantomClass = isCustomContext ? objectClass : 'RuntimeObject';\n\n    /** Detect Java environments. */\n    var java = /\\bJava/.test(javaClass) && context.java;\n\n    /** Detect Rhino. */\n    var rhino = java && getClassOf(context.environment) == enviroClass;\n\n    /** A character to represent alpha. */\n    var alpha = java ? 'a' : '\\u03b1';\n\n    /** A character to represent beta. */\n    var beta = java ? 'b' : '\\u03b2';\n\n    /** Browser document object. */\n    var doc = context.document || {};\n\n    /**\n     * Detect Opera browser (Presto-based).\n     * http://www.howtocreate.co.uk/operaStuff/operaObject.html\n     * http://dev.opera.com/articles/view/opera-mini-web-content-authoring-guidelines/#operamini\n     */\n    var opera = context.operamini || context.opera;\n\n    /** Opera `[[Class]]`. */\n    var operaClass = reOpera.test(operaClass = (isCustomContext && opera) ? opera['[[Class]]'] : getClassOf(opera))\n      ? operaClass\n      : (opera = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /** Temporary variable used over the script's lifetime. */\n    var data;\n\n    /** The CPU architecture. */\n    var arch = ua;\n\n    /** Platform description array. */\n    var description = [];\n\n    /** Platform alpha/beta indicator. */\n    var prerelease = null;\n\n    /** A flag to indicate that environment features should be used to resolve the platform. */\n    var useFeatures = ua == userAgent;\n\n    /** The browser/environment version. */\n    var version = useFeatures && opera && typeof opera.version == 'function' && opera.version();\n\n    /** A flag to indicate if the OS ends with \"/ Version\" */\n    var isSpecialCasedOS;\n\n    /* Detectable layout engines (order is important). */\n    var layout = getLayout([\n      { 'label': 'EdgeHTML', 'pattern': 'Edge' },\n      'Trident',\n      { 'label': 'WebKit', 'pattern': 'AppleWebKit' },\n      'iCab',\n      'Presto',\n      'NetFront',\n      'Tasman',\n      'KHTML',\n      'Gecko'\n    ]);\n\n    /* Detectable browser names (order is important). */\n    var name = getName([\n      'Adobe AIR',\n      'Arora',\n      'Avant Browser',\n      'Breach',\n      'Camino',\n      'Electron',\n      'Epiphany',\n      'Fennec',\n      'Flock',\n      'Galeon',\n      'GreenBrowser',\n      'iCab',\n      'Iceweasel',\n      'K-Meleon',\n      'Konqueror',\n      'Lunascape',\n      'Maxthon',\n      { 'label': 'Microsoft Edge', 'pattern': 'Edge' },\n      'Midori',\n      'Nook Browser',\n      'PaleMoon',\n      'PhantomJS',\n      'Raven',\n      'Rekonq',\n      'RockMelt',\n      { 'label': 'Samsung Internet', 'pattern': 'SamsungBrowser' },\n      'SeaMonkey',\n      { 'label': 'Silk', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Sleipnir',\n      'SlimBrowser',\n      { 'label': 'SRWare Iron', 'pattern': 'Iron' },\n      'Sunrise',\n      'Swiftfox',\n      'Waterfox',\n      'WebPositive',\n      'Opera Mini',\n      { 'label': 'Opera Mini', 'pattern': 'OPiOS' },\n      'Opera',\n      { 'label': 'Opera', 'pattern': 'OPR' },\n      'Chrome',\n      { 'label': 'Chrome Mobile', 'pattern': '(?:CriOS|CrMo)' },\n      { 'label': 'Firefox', 'pattern': '(?:Firefox|Minefield)' },\n      { 'label': 'Firefox for iOS', 'pattern': 'FxiOS' },\n      { 'label': 'IE', 'pattern': 'IEMobile' },\n      { 'label': 'IE', 'pattern': 'MSIE' },\n      'Safari'\n    ]);\n\n    /* Detectable products (order is important). */\n    var product = getProduct([\n      { 'label': 'BlackBerry', 'pattern': 'BB10' },\n      'BlackBerry',\n      { 'label': 'Galaxy S', 'pattern': 'GT-I9000' },\n      { 'label': 'Galaxy S2', 'pattern': 'GT-I9100' },\n      { 'label': 'Galaxy S3', 'pattern': 'GT-I9300' },\n      { 'label': 'Galaxy S4', 'pattern': 'GT-I9500' },\n      { 'label': 'Galaxy S5', 'pattern': 'SM-G900' },\n      { 'label': 'Galaxy S6', 'pattern': 'SM-G920' },\n      { 'label': 'Galaxy S6 Edge', 'pattern': 'SM-G925' },\n      { 'label': 'Galaxy S7', 'pattern': 'SM-G930' },\n      { 'label': 'Galaxy S7 Edge', 'pattern': 'SM-G935' },\n      'Google TV',\n      'Lumia',\n      'iPad',\n      'iPod',\n      'iPhone',\n      'Kindle',\n      { 'label': 'Kindle Fire', 'pattern': '(?:Cloud9|Silk-Accelerated)' },\n      'Nexus',\n      'Nook',\n      'PlayBook',\n      'PlayStation Vita',\n      'PlayStation',\n      'TouchPad',\n      'Transformer',\n      { 'label': 'Wii U', 'pattern': 'WiiU' },\n      'Wii',\n      'Xbox One',\n      { 'label': 'Xbox 360', 'pattern': 'Xbox' },\n      'Xoom'\n    ]);\n\n    /* Detectable manufacturers. */\n    var manufacturer = getManufacturer({\n      'Apple': { 'iPad': 1, 'iPhone': 1, 'iPod': 1 },\n      'Archos': {},\n      'Amazon': { 'Kindle': 1, 'Kindle Fire': 1 },\n      'Asus': { 'Transformer': 1 },\n      'Barnes & Noble': { 'Nook': 1 },\n      'BlackBerry': { 'PlayBook': 1 },\n      'Google': { 'Google TV': 1, 'Nexus': 1 },\n      'HP': { 'TouchPad': 1 },\n      'HTC': {},\n      'LG': {},\n      'Microsoft': { 'Xbox': 1, 'Xbox One': 1 },\n      'Motorola': { 'Xoom': 1 },\n      'Nintendo': { 'Wii U': 1,  'Wii': 1 },\n      'Nokia': { 'Lumia': 1 },\n      'Samsung': { 'Galaxy S': 1, 'Galaxy S2': 1, 'Galaxy S3': 1, 'Galaxy S4': 1 },\n      'Sony': { 'PlayStation': 1, 'PlayStation Vita': 1 }\n    });\n\n    /* Detectable operating systems (order is important). */\n    var os = getOS([\n      'Windows Phone',\n      'Android',\n      'CentOS',\n      { 'label': 'Chrome OS', 'pattern': 'CrOS' },\n      'Debian',\n      'Fedora',\n      'FreeBSD',\n      'Gentoo',\n      'Haiku',\n      'Kubuntu',\n      'Linux Mint',\n      'OpenBSD',\n      'Red Hat',\n      'SuSE',\n      'Ubuntu',\n      'Xubuntu',\n      'Cygwin',\n      'Symbian OS',\n      'hpwOS',\n      'webOS ',\n      'webOS',\n      'Tablet OS',\n      'Tizen',\n      'Linux',\n      'Mac OS X',\n      'Macintosh',\n      'Mac',\n      'Windows 98;',\n      'Windows '\n    ]);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Picks the layout engine from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected layout engine.\n     */\n    function getLayout(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the manufacturer from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An object of guesses.\n     * @returns {null|string} The detected manufacturer.\n     */\n    function getManufacturer(guesses) {\n      return reduce(guesses, function(result, value, key) {\n        // Lookup the manufacturer by product or scan the UA for the manufacturer.\n        return result || (\n          value[product] ||\n          value[/^[a-z]+(?: +[a-z]+\\b)*/i.exec(product)] ||\n          RegExp('\\\\b' + qualify(key) + '(?:\\\\b|\\\\w*\\\\d)', 'i').exec(ua)\n        ) && key;\n      });\n    }\n\n    /**\n     * Picks the browser name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected browser name.\n     */\n    function getName(guesses) {\n      return reduce(guesses, function(result, guess) {\n        return result || RegExp('\\\\b' + (\n          guess.pattern || qualify(guess)\n        ) + '\\\\b', 'i').exec(ua) && (guess.label || guess);\n      });\n    }\n\n    /**\n     * Picks the OS name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected OS name.\n     */\n    function getOS(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + '(?:/[\\\\d.]+|[ \\\\w.]*)', 'i').exec(ua)\n            )) {\n          result = cleanupOS(result, pattern, guess.label || guess);\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Picks the product name from an array of guesses.\n     *\n     * @private\n     * @param {Array} guesses An array of guesses.\n     * @returns {null|string} The detected product name.\n     */\n    function getProduct(guesses) {\n      return reduce(guesses, function(result, guess) {\n        var pattern = guess.pattern || qualify(guess);\n        if (!result && (result =\n              RegExp('\\\\b' + pattern + ' *\\\\d+[.\\\\w_]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + ' *\\\\w+-[\\\\w]*', 'i').exec(ua) ||\n              RegExp('\\\\b' + pattern + '(?:; *(?:[a-z]+[_-])?[a-z]+\\\\d+|[^ ();-]*)', 'i').exec(ua)\n            )) {\n          // Split by forward slash and append product version if needed.\n          if ((result = String((guess.label && !RegExp(pattern, 'i').test(guess.label)) ? guess.label : result).split('/'))[1] && !/[\\d.]+/.test(result[0])) {\n            result[0] += ' ' + result[1];\n          }\n          // Correct character case and cleanup string.\n          guess = guess.label || guess;\n          result = format(result[0]\n            .replace(RegExp(pattern, 'i'), guess)\n            .replace(RegExp('; *(?:' + guess + '[_-])?', 'i'), ' ')\n            .replace(RegExp('(' + guess + ')[-_.]?(\\\\w)', 'i'), '$1 $2'));\n        }\n        return result;\n      });\n    }\n\n    /**\n     * Resolves the version using an array of UA patterns.\n     *\n     * @private\n     * @param {Array} patterns An array of UA patterns.\n     * @returns {null|string} The detected version.\n     */\n    function getVersion(patterns) {\n      return reduce(patterns, function(result, pattern) {\n        return result || (RegExp(pattern +\n          '(?:-[\\\\d.]+/|(?: for [\\\\w-]+)?[ /-])([\\\\d.]+[^ ();/_-]*)', 'i').exec(ua) || 0)[1] || null;\n      });\n    }\n\n    /**\n     * Returns `platform.description` when the platform object is coerced to a string.\n     *\n     * @name toString\n     * @memberOf platform\n     * @returns {string} Returns `platform.description` if available, else an empty string.\n     */\n    function toStringPlatform() {\n      return this.description || '';\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Convert layout to an array so we can add extra details.\n    layout && (layout = [layout]);\n\n    // Detect product names that contain their manufacturer's name.\n    if (manufacturer && !product) {\n      product = getProduct([manufacturer]);\n    }\n    // Clean up Google TV.\n    if ((data = /\\bGoogle TV\\b/.exec(product))) {\n      product = data[0];\n    }\n    // Detect simulators.\n    if (/\\bSimulator\\b/i.test(ua)) {\n      product = (product ? product + ' ' : '') + 'Simulator';\n    }\n    // Detect Opera Mini 8+ running in Turbo/Uncompressed mode on iOS.\n    if (name == 'Opera Mini' && /\\bOPiOS\\b/.test(ua)) {\n      description.push('running in Turbo/Uncompressed mode');\n    }\n    // Detect IE Mobile 11.\n    if (name == 'IE' && /\\blike iPhone OS\\b/.test(ua)) {\n      data = parse(ua.replace(/like iPhone OS/, ''));\n      manufacturer = data.manufacturer;\n      product = data.product;\n    }\n    // Detect iOS.\n    else if (/^iP/.test(product)) {\n      name || (name = 'Safari');\n      os = 'iOS' + ((data = / OS ([\\d_]+)/i.exec(ua))\n        ? ' ' + data[1].replace(/_/g, '.')\n        : '');\n    }\n    // Detect Kubuntu.\n    else if (name == 'Konqueror' && !/buntu/i.test(os)) {\n      os = 'Kubuntu';\n    }\n    // Detect Android browsers.\n    else if ((manufacturer && manufacturer != 'Google' &&\n        ((/Chrome/.test(name) && !/\\bMobile Safari\\b/i.test(ua)) || /\\bVita\\b/.test(product))) ||\n        (/\\bAndroid\\b/.test(os) && /^Chrome/.test(name) && /\\bVersion\\//i.test(ua))) {\n      name = 'Android Browser';\n      os = /\\bAndroid\\b/.test(os) ? os : 'Android';\n    }\n    // Detect Silk desktop/accelerated modes.\n    else if (name == 'Silk') {\n      if (!/\\bMobi/i.test(ua)) {\n        os = 'Android';\n        description.unshift('desktop mode');\n      }\n      if (/Accelerated *= *true/i.test(ua)) {\n        description.unshift('accelerated');\n      }\n    }\n    // Detect PaleMoon identifying as Firefox.\n    else if (name == 'PaleMoon' && (data = /\\bFirefox\\/([\\d.]+)\\b/.exec(ua))) {\n      description.push('identifying as Firefox ' + data[1]);\n    }\n    // Detect Firefox OS and products running Firefox.\n    else if (name == 'Firefox' && (data = /\\b(Mobile|Tablet|TV)\\b/i.exec(ua))) {\n      os || (os = 'Firefox OS');\n      product || (product = data[1]);\n    }\n    // Detect false positives for Firefox/Safari.\n    else if (!name || (data = !/\\bMinefield\\b/i.test(ua) && /\\b(?:Firefox|Safari)\\b/.exec(name))) {\n      // Escape the `/` for Firefox 1.\n      if (name && !product && /[\\/,]|^[^(]+?\\)/.test(ua.slice(ua.indexOf(data + '/') + 8))) {\n        // Clear name of false positives.\n        name = null;\n      }\n      // Reassign a generic name.\n      if ((data = product || manufacturer || os) &&\n          (product || manufacturer || /\\b(?:Android|Symbian OS|Tablet OS|webOS)\\b/.test(os))) {\n        name = /[a-z]+(?: Hat)?/i.exec(/\\bAndroid\\b/.test(os) ? os : data) + ' Browser';\n      }\n    }\n    // Add Chrome version to description for Electron.\n    else if (name == 'Electron' && (data = (/\\bChrome\\/([\\d.]+)\\b/.exec(ua) || 0)[1])) {\n      description.push('Chromium ' + data);\n    }\n    // Detect non-Opera (Presto-based) versions (order is important).\n    if (!version) {\n      version = getVersion([\n        '(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\\\d.]+$))',\n        'Version',\n        qualify(name),\n        '(?:Firefox|Minefield|NetFront)'\n      ]);\n    }\n    // Detect stubborn layout engines.\n    if ((data =\n          layout == 'iCab' && parseFloat(version) > 3 && 'WebKit' ||\n          /\\bOpera\\b/.test(name) && (/\\bOPR\\b/.test(ua) ? 'Blink' : 'Presto') ||\n          /\\b(?:Midori|Nook|Safari)\\b/i.test(ua) && !/^(?:Trident|EdgeHTML)$/.test(layout) && 'WebKit' ||\n          !layout && /\\bMSIE\\b/i.test(ua) && (os == 'Mac OS' ? 'Tasman' : 'Trident') ||\n          layout == 'WebKit' && /\\bPlayStation\\b(?! Vita\\b)/i.test(name) && 'NetFront'\n        )) {\n      layout = [data];\n    }\n    // Detect Windows Phone 7 desktop mode.\n    if (name == 'IE' && (data = (/; *(?:XBLWP|ZuneWP)(\\d+)/i.exec(ua) || 0)[1])) {\n      name += ' Mobile';\n      os = 'Windows Phone ' + (/\\+$/.test(data) ? data : data + '.x');\n      description.unshift('desktop mode');\n    }\n    // Detect Windows Phone 8.x desktop mode.\n    else if (/\\bWPDesktop\\b/i.test(ua)) {\n      name = 'IE Mobile';\n      os = 'Windows Phone 8.x';\n      description.unshift('desktop mode');\n      version || (version = (/\\brv:([\\d.]+)/.exec(ua) || 0)[1]);\n    }\n    // Detect IE 11 identifying as other browsers.\n    else if (name != 'IE' && layout == 'Trident' && (data = /\\brv:([\\d.]+)/.exec(ua))) {\n      if (name) {\n        description.push('identifying as ' + name + (version ? ' ' + version : ''));\n      }\n      name = 'IE';\n      version = data[1];\n    }\n    // Leverage environment features.\n    if (useFeatures) {\n      // Detect server-side environments.\n      // Rhino has a global function while others have a global object.\n      if (isHostType(context, 'global')) {\n        if (java) {\n          data = java.lang.System;\n          arch = data.getProperty('os.arch');\n          os = os || data.getProperty('os.name') + ' ' + data.getProperty('os.version');\n        }\n        if (rhino) {\n          try {\n            version = context.require('ringo/engine').version.join('.');\n            name = 'RingoJS';\n          } catch(e) {\n            if ((data = context.system) && data.global.system == context.system) {\n              name = 'Narwhal';\n              os || (os = data[0].os || null);\n            }\n          }\n          if (!name) {\n            name = 'Rhino';\n          }\n        }\n        else if (\n          typeof context.process == 'object' && !context.process.browser &&\n          (data = context.process)\n        ) {\n          if (typeof data.versions == 'object') {\n            if (typeof data.versions.electron == 'string') {\n              description.push('Node ' + data.versions.node);\n              name = 'Electron';\n              version = data.versions.electron;\n            } else if (typeof data.versions.nw == 'string') {\n              description.push('Chromium ' + version, 'Node ' + data.versions.node);\n              name = 'NW.js';\n              version = data.versions.nw;\n            }\n          }\n          if (!name) {\n            name = 'Node.js';\n            arch = data.arch;\n            os = data.platform;\n            version = /[\\d.]+/.exec(data.version);\n            version = version ? version[0] : null;\n          }\n        }\n      }\n      // Detect Adobe AIR.\n      else if (getClassOf((data = context.runtime)) == airRuntimeClass) {\n        name = 'Adobe AIR';\n        os = data.flash.system.Capabilities.os;\n      }\n      // Detect PhantomJS.\n      else if (getClassOf((data = context.phantom)) == phantomClass) {\n        name = 'PhantomJS';\n        version = (data = data.version || null) && (data.major + '.' + data.minor + '.' + data.patch);\n      }\n      // Detect IE compatibility modes.\n      else if (typeof doc.documentMode == 'number' && (data = /\\bTrident\\/(\\d+)/i.exec(ua))) {\n        // We're in compatibility mode when the Trident version + 4 doesn't\n        // equal the document mode.\n        version = [version, doc.documentMode];\n        if ((data = +data[1] + 4) != version[1]) {\n          description.push('IE ' + version[1] + ' mode');\n          layout && (layout[1] = '');\n          version[1] = data;\n        }\n        version = name == 'IE' ? String(version[1].toFixed(1)) : version[0];\n      }\n      // Detect IE 11 masking as other browsers.\n      else if (typeof doc.documentMode == 'number' && /^(?:Chrome|Firefox)\\b/.test(name)) {\n        description.push('masking as ' + name + ' ' + version);\n        name = 'IE';\n        version = '11.0';\n        layout = ['Trident'];\n        os = 'Windows';\n      }\n      os = os && format(os);\n    }\n    // Detect prerelease phases.\n    if (version && (data =\n          /(?:[ab]|dp|pre|[ab]\\d+pre)(?:\\d+\\+?)?$/i.exec(version) ||\n          /(?:alpha|beta)(?: ?\\d)?/i.exec(ua + ';' + (useFeatures && nav.appMinorVersion)) ||\n          /\\bMinefield\\b/i.test(ua) && 'a'\n        )) {\n      prerelease = /b/i.test(data) ? 'beta' : 'alpha';\n      version = version.replace(RegExp(data + '\\\\+?$'), '') +\n        (prerelease == 'beta' ? beta : alpha) + (/\\d+\\+?/.exec(data) || '');\n    }\n    // Detect Firefox Mobile.\n    if (name == 'Fennec' || name == 'Firefox' && /\\b(?:Android|Firefox OS)\\b/.test(os)) {\n      name = 'Firefox Mobile';\n    }\n    // Obscure Maxthon's unreliable version.\n    else if (name == 'Maxthon' && version) {\n      version = version.replace(/\\.[\\d.]+/, '.x');\n    }\n    // Detect Xbox 360 and Xbox One.\n    else if (/\\bXbox\\b/i.test(product)) {\n      if (product == 'Xbox 360') {\n        os = null;\n      }\n      if (product == 'Xbox 360' && /\\bIEMobile\\b/.test(ua)) {\n        description.unshift('mobile mode');\n      }\n    }\n    // Add mobile postfix.\n    else if ((/^(?:Chrome|IE|Opera)$/.test(name) || name && !product && !/Browser|Mobi/.test(name)) &&\n        (os == 'Windows CE' || /Mobi/i.test(ua))) {\n      name += ' Mobile';\n    }\n    // Detect IE platform preview.\n    else if (name == 'IE' && useFeatures) {\n      try {\n        if (context.external === null) {\n          description.unshift('platform preview');\n        }\n      } catch(e) {\n        description.unshift('embedded');\n      }\n    }\n    // Detect BlackBerry OS version.\n    // http://docs.blackberry.com/en/developers/deliverables/18169/HTTP_headers_sent_by_BB_Browser_1234911_11.jsp\n    else if ((/\\bBlackBerry\\b/.test(product) || /\\bBB10\\b/.test(ua)) && (data =\n          (RegExp(product.replace(/ +/g, ' *') + '/([.\\\\d]+)', 'i').exec(ua) || 0)[1] ||\n          version\n        )) {\n      data = [data, /BB10/.test(ua)];\n      os = (data[1] ? (product = null, manufacturer = 'BlackBerry') : 'Device Software') + ' ' + data[0];\n      version = null;\n    }\n    // Detect Opera identifying/masking itself as another browser.\n    // http://www.opera.com/support/kb/view/843/\n    else if (this != forOwn && product != 'Wii' && (\n          (useFeatures && opera) ||\n          (/Opera/.test(name) && /\\b(?:MSIE|Firefox)\\b/i.test(ua)) ||\n          (name == 'Firefox' && /\\bOS X (?:\\d+\\.){2,}/.test(os)) ||\n          (name == 'IE' && (\n            (os && !/^Win/.test(os) && version > 5.5) ||\n            /\\bWindows XP\\b/.test(os) && version > 8 ||\n            version == 8 && !/\\bTrident\\b/.test(ua)\n          ))\n        ) && !reOpera.test((data = parse.call(forOwn, ua.replace(reOpera, '') + ';'))) && data.name) {\n      // When \"identifying\", the UA contains both Opera and the other browser's name.\n      data = 'ing as ' + data.name + ((data = data.version) ? ' ' + data : '');\n      if (reOpera.test(name)) {\n        if (/\\bIE\\b/.test(data) && os == 'Mac OS') {\n          os = null;\n        }\n        data = 'identify' + data;\n      }\n      // When \"masking\", the UA contains only the other browser's name.\n      else {\n        data = 'mask' + data;\n        if (operaClass) {\n          name = format(operaClass.replace(/([a-z])([A-Z])/g, '$1 $2'));\n        } else {\n          name = 'Opera';\n        }\n        if (/\\bIE\\b/.test(data)) {\n          os = null;\n        }\n        if (!useFeatures) {\n          version = null;\n        }\n      }\n      layout = ['Presto'];\n      description.push(data);\n    }\n    // Detect WebKit Nightly and approximate Chrome/Safari versions.\n    if ((data = (/\\bAppleWebKit\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n      // Correct build number for numeric comparison.\n      // (e.g. \"532.5\" becomes \"532.05\")\n      data = [parseFloat(data.replace(/\\.(\\d)$/, '.0$1')), data];\n      // Nightly builds are postfixed with a \"+\".\n      if (name == 'Safari' && data[1].slice(-1) == '+') {\n        name = 'WebKit Nightly';\n        prerelease = 'alpha';\n        version = data[1].slice(0, -1);\n      }\n      // Clear incorrect browser versions.\n      else if (version == data[1] ||\n          version == (data[2] = (/\\bSafari\\/([\\d.]+\\+?)/i.exec(ua) || 0)[1])) {\n        version = null;\n      }\n      // Use the full Chrome version when available.\n      data[1] = (/\\bChrome\\/([\\d.]+)/i.exec(ua) || 0)[1];\n      // Detect Blink layout engine.\n      if (data[0] == 537.36 && data[2] == 537.36 && parseFloat(data[1]) >= 28 && layout == 'WebKit') {\n        layout = ['Blink'];\n      }\n      // Detect JavaScriptCore.\n      // http://stackoverflow.com/questions/6768474/how-can-i-detect-which-javascript-engine-v8-or-jsc-is-used-at-runtime-in-androi\n      if (!useFeatures || (!likeChrome && !data[1])) {\n        layout && (layout[1] = 'like Safari');\n        data = (data = data[0], data < 400 ? 1 : data < 500 ? 2 : data < 526 ? 3 : data < 533 ? 4 : data < 534 ? '4+' : data < 535 ? 5 : data < 537 ? 6 : data < 538 ? 7 : data < 601 ? 8 : '8');\n      } else {\n        layout && (layout[1] = 'like Chrome');\n        data = data[1] || (data = data[0], data < 530 ? 1 : data < 532 ? 2 : data < 532.05 ? 3 : data < 533 ? 4 : data < 534.03 ? 5 : data < 534.07 ? 6 : data < 534.10 ? 7 : data < 534.13 ? 8 : data < 534.16 ? 9 : data < 534.24 ? 10 : data < 534.30 ? 11 : data < 535.01 ? 12 : data < 535.02 ? '13+' : data < 535.07 ? 15 : data < 535.11 ? 16 : data < 535.19 ? 17 : data < 536.05 ? 18 : data < 536.10 ? 19 : data < 537.01 ? 20 : data < 537.11 ? '21+' : data < 537.13 ? 23 : data < 537.18 ? 24 : data < 537.24 ? 25 : data < 537.36 ? 26 : layout != 'Blink' ? '27' : '28');\n      }\n      // Add the postfix of \".x\" or \"+\" for approximate versions.\n      layout && (layout[1] += ' ' + (data += typeof data == 'number' ? '.x' : /[.+]/.test(data) ? '' : '+'));\n      // Obscure version for some Safari 1-2 releases.\n      if (name == 'Safari' && (!version || parseInt(version) > 45)) {\n        version = data;\n      }\n    }\n    // Detect Opera desktop modes.\n    if (name == 'Opera' &&  (data = /\\bzbov|zvav$/.exec(os))) {\n      name += ' ';\n      description.unshift('desktop mode');\n      if (data == 'zvav') {\n        name += 'Mini';\n        version = null;\n      } else {\n        name += 'Mobile';\n      }\n      os = os.replace(RegExp(' *' + data + '$'), '');\n    }\n    // Detect Chrome desktop mode.\n    else if (name == 'Safari' && /\\bChrome\\b/.exec(layout && layout[1])) {\n      description.unshift('desktop mode');\n      name = 'Chrome Mobile';\n      version = null;\n\n      if (/\\bOS X\\b/.test(os)) {\n        manufacturer = 'Apple';\n        os = 'iOS 4.3+';\n      } else {\n        os = null;\n      }\n    }\n    // Strip incorrect OS versions.\n    if (version && version.indexOf((data = /[\\d.]+$/.exec(os))) == 0 &&\n        ua.indexOf('/' + data + '-') > -1) {\n      os = trim(os.replace(data, ''));\n    }\n    // Add layout engine.\n    if (layout && !/\\b(?:Avant|Nook)\\b/.test(name) && (\n        /Browser|Lunascape|Maxthon/.test(name) ||\n        name != 'Safari' && /^iOS/.test(os) && /\\bSafari\\b/.test(layout[1]) ||\n        /^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(name) && layout[1])) {\n      // Don't add layout details to description if they are falsey.\n      (data = layout[layout.length - 1]) && description.push(data);\n    }\n    // Combine contextual information.\n    if (description.length) {\n      description = ['(' + description.join('; ') + ')'];\n    }\n    // Append manufacturer to description.\n    if (manufacturer && product && product.indexOf(manufacturer) < 0) {\n      description.push('on ' + manufacturer);\n    }\n    // Append product to description.\n    if (product) {\n      description.push((/^on /.test(description[description.length - 1]) ? '' : 'on ') + product);\n    }\n    // Parse the OS into an object.\n    if (os) {\n      data = / ([\\d.+]+)$/.exec(os);\n      isSpecialCasedOS = data && os.charAt(os.length - data[0].length - 1) == '/';\n      os = {\n        'architecture': 32,\n        'family': (data && !isSpecialCasedOS) ? os.replace(data[0], '') : os,\n        'version': data ? data[1] : null,\n        'toString': function() {\n          var version = this.version;\n          return this.family + ((version && !isSpecialCasedOS) ? ' ' + version : '') + (this.architecture == 64 ? ' 64-bit' : '');\n        }\n      };\n    }\n    // Add browser/OS architecture.\n    if ((data = /\\b(?:AMD|IA|Win|WOW|x86_|x)64\\b/i.exec(arch)) && !/\\bi686\\b/i.test(arch)) {\n      if (os) {\n        os.architecture = 64;\n        os.family = os.family.replace(RegExp(' *' + data), '');\n      }\n      if (\n          name && (/\\bWOW64\\b/i.test(ua) ||\n          (useFeatures && /\\w(?:86|32)$/.test(nav.cpuClass || nav.platform) && !/\\bWin64; x64\\b/i.test(ua)))\n      ) {\n        description.unshift('32-bit');\n      }\n    }\n    // Chrome 39 and above on OS X is always 64-bit.\n    else if (\n        os && /^OS X/.test(os.family) &&\n        name == 'Chrome' && parseFloat(version) >= 39\n    ) {\n      os.architecture = 64;\n    }\n\n    ua || (ua = null);\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The platform object.\n     *\n     * @name platform\n     * @type Object\n     */\n    var platform = {};\n\n    /**\n     * The platform description.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.description = ua;\n\n    /**\n     * The name of the browser's layout engine.\n     *\n     * The list of common layout engines include:\n     * \"Blink\", \"EdgeHTML\", \"Gecko\", \"Trident\" and \"WebKit\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.layout = layout && layout[0];\n\n    /**\n     * The name of the product's manufacturer.\n     *\n     * The list of manufacturers include:\n     * \"Apple\", \"Archos\", \"Amazon\", \"Asus\", \"Barnes & Noble\", \"BlackBerry\",\n     * \"Google\", \"HP\", \"HTC\", \"LG\", \"Microsoft\", \"Motorola\", \"Nintendo\",\n     * \"Nokia\", \"Samsung\" and \"Sony\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.manufacturer = manufacturer;\n\n    /**\n     * The name of the browser/environment.\n     *\n     * The list of common browser names include:\n     * \"Chrome\", \"Electron\", \"Firefox\", \"Firefox for iOS\", \"IE\",\n     * \"Microsoft Edge\", \"PhantomJS\", \"Safari\", \"SeaMonkey\", \"Silk\",\n     * \"Opera Mini\" and \"Opera\"\n     *\n     * Mobile versions of some browsers have \"Mobile\" appended to their name:\n     * eg. \"Chrome Mobile\", \"Firefox Mobile\", \"IE Mobile\" and \"Opera Mobile\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.name = name;\n\n    /**\n     * The alpha/beta release indicator.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.prerelease = prerelease;\n\n    /**\n     * The name of the product hosting the browser.\n     *\n     * The list of common products include:\n     *\n     * \"BlackBerry\", \"Galaxy S4\", \"Lumia\", \"iPad\", \"iPod\", \"iPhone\", \"Kindle\",\n     * \"Kindle Fire\", \"Nexus\", \"Nook\", \"PlayBook\", \"TouchPad\" and \"Transformer\"\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.product = product;\n\n    /**\n     * The browser's user agent string.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.ua = ua;\n\n    /**\n     * The browser/environment version.\n     *\n     * @memberOf platform\n     * @type string|null\n     */\n    platform.version = name && version;\n\n    /**\n     * The name of the operating system.\n     *\n     * @memberOf platform\n     * @type Object\n     */\n    platform.os = os || {\n\n      /**\n       * The CPU architecture the OS is built for.\n       *\n       * @memberOf platform.os\n       * @type number|null\n       */\n      'architecture': null,\n\n      /**\n       * The family of the OS.\n       *\n       * Common values include:\n       * \"Windows\", \"Windows Server 2008 R2 / 7\", \"Windows Server 2008 / Vista\",\n       * \"Windows XP\", \"OS X\", \"Ubuntu\", \"Debian\", \"Fedora\", \"Red Hat\", \"SuSE\",\n       * \"Android\", \"iOS\" and \"Windows Phone\"\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'family': null,\n\n      /**\n       * The version of the OS.\n       *\n       * @memberOf platform.os\n       * @type string|null\n       */\n      'version': null,\n\n      /**\n       * Returns the OS string.\n       *\n       * @memberOf platform.os\n       * @returns {string} The OS string.\n       */\n      'toString': function() { return 'null'; }\n    };\n\n    platform.parse = parse;\n    platform.toString = toStringPlatform;\n\n    if (platform.version) {\n      description.unshift(version);\n    }\n    if (platform.name) {\n      description.unshift(name);\n    }\n    if (os && name && !(os == String(os).split(' ')[0] && (os == name.split(' ')[0] || product))) {\n      description.push(product ? '(' + os + ')' : 'on ' + os);\n    }\n    if (description.length) {\n      platform.description = description.join(' ');\n    }\n    return platform;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export platform.\n  var platform = parse();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose platform on the global object to prevent errors when platform is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    root.platform = platform;\n\n    // Define as an anonymous module so platform can be aliased through path mapping.\n    define(function() {\n      return platform;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\n  else if (freeExports && freeModule) {\n    // Export for CommonJS support.\n    forOwn(platform, function(value, key) {\n      freeExports[key] = value;\n    });\n  }\n  else {\n    // Export to the global object.\n    root.platform = platform;\n  }\n}.call(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CONVERSATION_ACCESS = exports.CONVERSATION_ACCESS_ROLE = exports.CONVERSATION_TYPE = void 0;\nvar CONVERSATION_TYPE;\n(function (CONVERSATION_TYPE) {\n    CONVERSATION_TYPE[CONVERSATION_TYPE[\"REGULAR\"] = 0] = \"REGULAR\";\n    CONVERSATION_TYPE[CONVERSATION_TYPE[\"SELF\"] = 1] = \"SELF\";\n    CONVERSATION_TYPE[CONVERSATION_TYPE[\"ONE_TO_ONE\"] = 2] = \"ONE_TO_ONE\";\n    CONVERSATION_TYPE[CONVERSATION_TYPE[\"CONNECT\"] = 3] = \"CONNECT\";\n})(CONVERSATION_TYPE = exports.CONVERSATION_TYPE || (exports.CONVERSATION_TYPE = {}));\nvar CONVERSATION_ACCESS_ROLE;\n(function (CONVERSATION_ACCESS_ROLE) {\n    CONVERSATION_ACCESS_ROLE[\"ACTIVATED\"] = \"activated\";\n    CONVERSATION_ACCESS_ROLE[\"NON_ACTIVATED\"] = \"non_activated\";\n    CONVERSATION_ACCESS_ROLE[\"PRIVATE\"] = \"private\";\n    CONVERSATION_ACCESS_ROLE[\"TEAM\"] = \"team\";\n})(CONVERSATION_ACCESS_ROLE = exports.CONVERSATION_ACCESS_ROLE || (exports.CONVERSATION_ACCESS_ROLE = {}));\nvar CONVERSATION_ACCESS;\n(function (CONVERSATION_ACCESS) {\n    CONVERSATION_ACCESS[\"CODE\"] = \"code\";\n    CONVERSATION_ACCESS[\"INVITE\"] = \"invite\";\n    CONVERSATION_ACCESS[\"LINK\"] = \"link\";\n    CONVERSATION_ACCESS[\"PRIVATE\"] = \"private\";\n})(CONVERSATION_ACCESS = exports.CONVERSATION_ACCESS || (exports.CONVERSATION_ACCESS = {}));\n//# sourceMappingURL=Conversation.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationAPI = void 0;\nconst validation_1 = require(\"../validation/\");\nconst ConversationRole_1 = require(\"./ConversationRole\");\nlet ConversationAPI = /** @class */ (() => {\n    class ConversationAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Delete a conversation code.\n         * @param conversationId ID of conversation to delete the code for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/deleteConversationCode\n         */\n        deleteConversationCode(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.CODE}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Remove bot from conversation.\n         * @param conversationId The conversation ID to remove the bot from\n         * @param botId The ID of the bot to be removed from the conversation\n         */\n        deleteBot(conversationId, botId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.BOTS}/${botId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Remove member from conversation.\n         * @param conversationId The conversation ID to remove the user from\n         * @param userId The user to remove\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/removeMember\n         */\n        deleteMember(conversationId, userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.MEMBERS}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get all conversations.\n         */\n        getAllConversations() {\n            let allConversations = [];\n            const getConversationChunks = (conversationId) => __awaiter(this, void 0, void 0, function* () {\n                const { conversations, has_more } = yield this.getConversations(conversationId, ConversationAPI.MAX_CHUNK_SIZE);\n                if (conversations.length) {\n                    allConversations = allConversations.concat(conversations);\n                }\n                if (has_more) {\n                    const lastConversation = conversations.pop();\n                    if (lastConversation) {\n                        return getConversationChunks(lastConversation.id);\n                    }\n                }\n                return allConversations;\n            });\n            return getConversationChunks();\n        }\n        /**\n         * Get a conversation code.\n         * @param conversationId ID of conversation to get the code for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/getConversationCode\n         */\n        getConversationCode(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'GET',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.CODE}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a conversation by ID.\n         * @param conversationId The conversation ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/conversation\n         */\n        getConversation(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get all conversation IDs.\n         * @param limit Max. number of IDs to return\n         * @param conversationId Conversation ID to start from (exclusive)\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/conversationIds\n         */\n        getConversationIds(limit, conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start: conversationId,\n                    },\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/ids`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get conversations as chunks.\n         * Note: At most 500 conversations are returned per request.\n         * @param startConversationId Conversation ID to start from (exclusive). Mutually exclusive with `conversationIds`.\n         * @param limit Max. number of conversations to return\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/conversations\n         */\n        getConversations(startConversationId, limit = ConversationAPI.MAX_CHUNK_SIZE) {\n            return this._getConversations(startConversationId, undefined, limit);\n        }\n        /**\n         * Get conversations.\n         * Note: At most 500 conversations are returned per request.\n         * @param conversationId Conversation ID to start from (exclusive). Mutually exclusive with `conversationIds`.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/conversations\n         */\n        getConversationsByIds(filteredConversationIds) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let allConversations = [];\n                const getConversationChunk = (chunkedConversationIds) => __awaiter(this, void 0, void 0, function* () {\n                    const { conversations } = yield this._getConversations(undefined, chunkedConversationIds, ConversationAPI.MAX_CHUNK_SIZE);\n                    return conversations;\n                });\n                for (let index = 0; index < filteredConversationIds.length; index += ConversationAPI.MAX_CHUNK_SIZE) {\n                    const requestChunk = filteredConversationIds.slice(index, index + ConversationAPI.MAX_CHUNK_SIZE);\n                    if (requestChunk.length) {\n                        const conversationChunk = yield getConversationChunk(requestChunk);\n                        if (conversationChunk.length) {\n                            allConversations = allConversations.concat(conversationChunk);\n                        }\n                    }\n                }\n                return allConversations;\n            });\n        }\n        /**\n         * Get conversations.\n         * Note: At most 500 conversations are returned per request.\n         * @param startConversationId Conversation ID to start from (exclusive). Mutually exclusive with `conversationIds`.\n         * @param filteredConversationIds Mutually exclusive with `startConversationId`. At most 32 IDs per request.\n         * @param limit Max. number of conversations to return\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/conversations\n         */\n        _getConversations(startConversationId, filteredConversationIds, limit = ConversationAPI.MAX_CHUNK_SIZE) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start: startConversationId,\n                    },\n                    url: `${ConversationAPI.URL.CONVERSATIONS}`,\n                };\n                if (filteredConversationIds) {\n                    config.params.ids = filteredConversationIds.join(',');\n                }\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get existing roles available for the given conversation.\n         * @param conversationId The Conversation ID to get roles for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/getConversationsRoles\n         */\n        getRoles(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.ROLES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get self membership properties.\n         * @param conversationId The Conversation ID to get properties for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/getSelf\n         */\n        getMembershipProperties(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/self`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Create a 1:1-conversation.\n         * @param conversationData The new conversation\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/createOne2OneConversation\n         */\n        post1to1(conversationData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: conversationData,\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/one2one`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Add users to an existing conversation.\n         * @param conversationId The conversation ID\n         * @param invitationData The new conversation\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/addMembers\n         */\n        postAddMembers(conversationId, invitationData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: invitationData,\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.MEMBERS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Add a bot to an existing conversation.\n         * @param conversationId ID of the conversation to add bots to\n         * @param providerId ID of the bot provider\n         * @param serviceId ID of the service provider\n         */\n        postBot(conversationId, providerId, serviceId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        provider: providerId,\n                        service: serviceId,\n                    },\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.BOTS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Create a new conversation\n         * @param conversationData The new conversation\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/createGroupConversation\n         */\n        postConversation(conversationData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: conversationData,\n                    method: 'post',\n                    url: ConversationAPI.URL.CONVERSATIONS,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Create or recreate a conversation code.\n         * @param conversationId ID of conversation to request the code for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/createConversationCode\n         */\n        postConversationCodeRequest(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.CODE}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Validate a conversation code.\n         * @param conversationCode The conversation code\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/checkConversationCode\n         */\n        postConversationCodeCheck(conversationCode) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: conversationCode,\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}${ConversationAPI.URL.CODE_CHECK}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Join a conversation by conversation code.\n         * @param conversationCode The conversation code\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/joinConversationByCode\n         */\n        postJoinByCode(conversationCode) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: conversationCode,\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}${ConversationAPI.URL.JOIN}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Join a conversation.\n         * @param conversationId The conversation ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/joinConversation\n         */\n        postJoin(conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Post an encrypted message to a conversation.\n         * @param clientId The sender's client ID\n         * @param conversationId The conversation ID\n         * @param messageData The message content\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/postOtrMessage\n         */\n        postOTRMessage(clientId, conversationId, messageData, params) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!clientId) {\n                    throw new validation_1.ValidationError('Unable to send OTR message without client ID.');\n                }\n                if (!messageData) {\n                    messageData = {\n                        recipients: {},\n                        sender: clientId,\n                    };\n                }\n                const config = {\n                    data: messageData,\n                    method: 'post',\n                    params: Object.assign({ ignore_missing: !!messageData.data }, params),\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.OTR}/${ConversationAPI.URL.MESSAGES}`,\n                };\n                const response = typeof messageData.recipients === 'object'\n                    ? yield this.client.sendJSON(config, true)\n                    : yield this.client.sendProtocolBuffer(config, true);\n                return response.data;\n            });\n        }\n        postForClients(clientId, conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    yield this.postOTRMessage(clientId, conversationId);\n                    throw new Error(`Expected backend to throw error.`);\n                }\n                catch (error) {\n                    return error.response.data;\n                }\n            });\n        }\n        /**\n         * Create a self-conversation.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/createSelfConversation\n         */\n        postSelf() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/self`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Send typing notifications.\n         * @param conversationId The Conversation ID to send notifications in\n         * @param typingData The typing status\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/isTyping\n         */\n        postTyping(conversationId, typingData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: typingData,\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.TYPING}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Update access modes for a conversation.\n         * @param conversationId The conversation ID to update the access mode of\n         * @param accessData The new access data\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateConversationAccess\n         */\n        putAccess(conversationId, accessData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: accessData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.ACCESS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Update conversation properties.\n         * @param conversationId The conversation ID to update properties of\n         * @param conversationNameData The new conversation name\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateConversation\n         */\n        putConversation(conversationId, conversationNameData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: conversationNameData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.NAME}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Update the message timer for a conversation.\n         * @param conversationId The conversation ID\n         * @param conversationData The new message timer\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateConversationMessageTimer\n         */\n        putConversationMessageTimer(conversationId, messageTimerData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: messageTimerData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.MESSAGE_TIMER}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Update the receipt mode for a conversation.\n         * @param conversationId The conversation ID\n         * @param receiptModeData The new receipt mode\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateConversationReceiptMode\n         */\n        putConversationReceiptMode(conversationId, receiptModeData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: receiptModeData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.RECEIPT_MODE}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Add users to an existing conversation.\n         * @param conversationId The conversation ID to add the users to\n         * @param userIds List of user IDs to add to a conversation\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/addMembers\n         */\n        postMembers(conversationId, userIds) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        conversation_role: ConversationRole_1.DefaultConversationRoleName.WIRE_MEMBER,\n                        users: userIds,\n                    },\n                    method: 'post',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.MEMBERS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Update membership of the specified user in a certain conversation\n         * @param userId The user ID\n         * @param conversationId The conversation ID to change the user's membership in\n         * @param memberUpdateData The new member data\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateOtherMember\n         */\n        putOtherMember(userId, conversationId, memberUpdateData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: memberUpdateData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.MEMBERS}/${userId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Update self membership properties.\n         * @param conversationId The Conversation ID\n         * @param memberData The new conversation\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/conversations/updateSelf\n         */\n        putMembershipProperties(conversationId, memberData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: memberData,\n                    method: 'put',\n                    url: `${ConversationAPI.URL.CONVERSATIONS}/${conversationId}/${ConversationAPI.URL.SELF}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n    }\n    ConversationAPI.MAX_CHUNK_SIZE = 500;\n    ConversationAPI.URL = {\n        ACCESS: 'access',\n        BOTS: 'bots',\n        CLIENTS: '/clients',\n        CODE: 'code',\n        CODE_CHECK: '/code-check',\n        CONVERSATIONS: '/conversations',\n        JOIN: '/join',\n        MEMBERS: 'members',\n        MESSAGES: 'messages',\n        MESSAGE_TIMER: 'message-timer',\n        NAME: 'name',\n        OTR: 'otr',\n        RECEIPT_MODE: 'receipt-mode',\n        ROLES: 'roles',\n        SELF: 'self',\n        TYPING: 'typing',\n    };\n    return ConversationAPI;\n})();\nexports.ConversationAPI = ConversationAPI;\n//# sourceMappingURL=ConversationAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValidationError = void 0;\nclass ValidationError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.ValidationError = ValidationError;\n//# sourceMappingURL=ValidationError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationOperationError = exports.ConversationIsUnknownError = exports.ConversationError = void 0;\nconst http_1 = require(\"../http/\");\nclass ConversationError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ConversationError';\n    }\n}\nexports.ConversationError = ConversationError;\nclass ConversationIsUnknownError extends ConversationError {\n    constructor(message, label = http_1.BackendErrorLabel.CLIENT_ERROR, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ConversationIsUnknownError';\n    }\n}\nexports.ConversationIsUnknownError = ConversationIsUnknownError;\nclass ConversationOperationError extends ConversationError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_OPERATION, code = http_1.StatusCode.FORBIDDEN) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ConversationOperationError';\n    }\n}\nexports.ConversationOperationError = ConversationOperationError;\n//# sourceMappingURL=ConversationError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MutedStatus = void 0;\nvar MutedStatus;\n(function (MutedStatus) {\n    MutedStatus[MutedStatus[\"ALL_NOTIFICATIONS\"] = 0] = \"ALL_NOTIFICATIONS\";\n    MutedStatus[MutedStatus[\"ONLY_MENTIONS\"] = 1] = \"ONLY_MENTIONS\";\n    MutedStatus[MutedStatus[\"NO_NOTIFICATIONS\"] = 3] = \"NO_NOTIFICATIONS\";\n})(MutedStatus = exports.MutedStatus || (exports.MutedStatus = {}));\n//# sourceMappingURL=MutedStatus.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./NewTeamInvitation\"), exports);\n__exportStar(require(\"./TeamInvitationAPI\"), exports);\n__exportStar(require(\"./InvitationError\"), exports);\n__exportStar(require(\"./TeamInvitationChunk\"), exports);\n__exportStar(require(\"./TeamInvitation\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TeamInvitationAPI = void 0;\nconst http_1 = require(\"../../http/\");\nconst team_1 = require(\"../team/\");\nconst InvitationError_1 = require(\"./InvitationError\");\nlet TeamInvitationAPI = /** @class */ (() => {\n    class TeamInvitationAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getInvitation(teamId, invitationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${team_1.TeamAPI.URL.TEAMS}/${teamId}/${TeamInvitationAPI.URL.INVITATIONS}/${invitationId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getAllInvitations(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let allInvitations = [];\n                let invitationChunk = yield this.getInvitations(teamId, undefined);\n                allInvitations = allInvitations.concat(invitationChunk.invitations);\n                while (invitationChunk.has_more) {\n                    const invitations = invitationChunk.invitations;\n                    const lastInvitation = invitations[invitations.length - 1] || {};\n                    const lastChunkId = lastInvitation.id;\n                    invitationChunk = yield this.getInvitations(teamId, lastChunkId);\n                    allInvitations = allInvitations.concat(invitationChunk.invitations);\n                }\n                return allInvitations;\n            });\n        }\n        getInvitations(teamId, startId, limit = TeamInvitationAPI.MAX_CHUNK_SIZE) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start: startId,\n                    },\n                    url: `${team_1.TeamAPI.URL.TEAMS}/${teamId}/${TeamInvitationAPI.URL.INVITATIONS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteInvitation(teamId, invitationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${team_1.TeamAPI.URL.TEAMS}/${teamId}/${TeamInvitationAPI.URL.INVITATIONS}/${invitationId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postInvitation(teamId, invitation) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: invitation,\n                    method: 'post',\n                    url: `${team_1.TeamAPI.URL.TEAMS}/${teamId}/${TeamInvitationAPI.URL.INVITATIONS}`,\n                };\n                try {\n                    const response = yield this.client.sendJSON(config);\n                    return response.data;\n                }\n                catch (error) {\n                    switch (error.label) {\n                        case http_1.BackendErrorLabel.INVITE_EMAIL_EXISTS: {\n                            throw new InvitationError_1.InvitationEmailExistsError(error.message);\n                        }\n                        case http_1.BackendErrorLabel.BAD_REQUEST: {\n                            throw new InvitationError_1.InvitationInvalidPhoneError(error.message);\n                        }\n                        case http_1.BackendErrorLabel.INVALID_EMAIL: {\n                            throw new InvitationError_1.InvitationInvalidEmailError(error.message);\n                        }\n                        case http_1.BackendErrorLabel.PHONE_EXISTS: {\n                            throw new InvitationError_1.InvitationPhoneExistsError(error.message);\n                        }\n                    }\n                    throw error;\n                }\n            });\n        }\n        getInvitationFromCode(invitationCode) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        code: invitationCode,\n                    },\n                    url: `${team_1.TeamAPI.URL.TEAMS}/${TeamInvitationAPI.URL.INVITATIONS}/${TeamInvitationAPI.URL.INFO}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    TeamInvitationAPI.MAX_CHUNK_SIZE = 100;\n    TeamInvitationAPI.URL = {\n        INFO: 'info',\n        INVITATIONS: 'invitations',\n    };\n    return TeamInvitationAPI;\n})();\nexports.TeamInvitationAPI = TeamInvitationAPI;\n//# sourceMappingURL=TeamInvitationAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./LegalHoldAPI\"), exports);\n__exportStar(require(\"./LegalHoldData\"), exports);\n__exportStar(require(\"./LegalHoldMemberStatus\"), exports);\n__exportStar(require(\"./NewLegalHoldData\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LegalHoldAPI = void 0;\nconst TeamAPI_1 = require(\"../team/TeamAPI\");\nlet LegalHoldAPI = /** @class */ (() => {\n    class LegalHoldAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getMemberLegalHold(teamId, userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteMemberLegalHold(teamId, userId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'delete',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${userId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postMemberLegalHold(teamId, userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'post',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${userId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        putMemberApproveLegalHold(teamId, userId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'put',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${userId}/${LegalHoldAPI.URL.APPROVE_LEGAL_HOLD}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        getSettings(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${LegalHoldAPI.URL.SETTINGS_LEGAL_HOLD}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteSettings(teamId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'delete',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${LegalHoldAPI.URL.SETTINGS_LEGAL_HOLD}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postSettings(teamId, legalHoldData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: legalHoldData,\n                    method: 'post',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${LegalHoldAPI.URL.LEGAL_HOLD}/${LegalHoldAPI.URL.SETTINGS_LEGAL_HOLD}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    LegalHoldAPI.URL = {\n        APPROVE_LEGAL_HOLD: 'approve',\n        LEGAL_HOLD: 'legalhold',\n        SETTINGS_LEGAL_HOLD: 'settings',\n    };\n    return LegalHoldAPI;\n})();\nexports.LegalHoldAPI = LegalHoldAPI;\n//# sourceMappingURL=LegalHoldAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LegalHoldStatus = void 0;\nvar LegalHoldStatus;\n(function (LegalHoldStatus) {\n    LegalHoldStatus[\"DISABLED\"] = \"disabled\";\n    LegalHoldStatus[\"ENABLED_CONFIGURED\"] = \"configured\";\n    LegalHoldStatus[\"ENABLED_NOT_CONFIGURED\"] = \"not_configured\";\n})(LegalHoldStatus = exports.LegalHoldStatus || (exports.LegalHoldStatus = {}));\n//# sourceMappingURL=LegalHoldData.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LegalHoldMemberStatus = void 0;\nvar LegalHoldMemberStatus;\n(function (LegalHoldMemberStatus) {\n    LegalHoldMemberStatus[\"DISABLED\"] = \"disabled\";\n    LegalHoldMemberStatus[\"ENABLED\"] = \"enabled\";\n    LegalHoldMemberStatus[\"PENDING\"] = \"pending\";\n})(LegalHoldMemberStatus = exports.LegalHoldMemberStatus || (exports.LegalHoldMemberStatus = {}));\n//# sourceMappingURL=LegalHoldMemberStatus.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./PropertyAPI\"), exports);\n__exportStar(require(\"./PropertyData\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PropertyAPI = void 0;\nlet PropertyAPI = /** @class */ (() => {\n    class PropertyAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getPropertyData(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PropertyAPI.URL.SIGNATURES}/${teamId}/${PropertyAPI.URL.PROPERTIES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    PropertyAPI.URL = {\n        PROPERTIES: 'properties',\n        SIGNATURES: '/signatures',\n    };\n    return PropertyAPI;\n})();\nexports.PropertyAPI = PropertyAPI;\n//# sourceMappingURL=PropertyAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./MemberAPI\"), exports);\n__exportStar(require(\"./MemberData\"), exports);\n__exportStar(require(\"./Members\"), exports);\n__exportStar(require(\"./Permissions\"), exports);\n__exportStar(require(\"./PermissionsData\"), exports);\n__exportStar(require(\"./Role\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MemberAPI = void 0;\nconst TeamAPI_1 = require(\"../team/TeamAPI\");\nconst commons_1 = require(\"@wireapp/commons\");\nlet MemberAPI = /** @class */ (() => {\n    class MemberAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getMember(teamId, userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteMember(teamId, userId, password) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        password,\n                    },\n                    method: 'delete',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS}/${userId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postMembers(teamId, member) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        member: member,\n                    },\n                    method: 'post',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        putMembers(teamId, member) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: {\n                        member: member,\n                    },\n                    method: 'put',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * This endpoint returns all members of the a team unless it's a large team (>2000 team member).\n         * If the queried team is a large team the `hasMore` flag will switch to `true`.\n         */\n        getAllMembers(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getMembers(teamId, parameters, limit = MemberAPI.DEFAULT_MEMBERS_CHUNK_SIZE) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { ids } = parameters;\n                if (ids.length) {\n                    const uniqueIds = commons_1.ArrayUtil.removeDuplicates(ids);\n                    const idChunks = commons_1.ArrayUtil.chunk(uniqueIds, limit);\n                    const resolvedTasks = yield Promise.all(idChunks.map((idChunk) => __awaiter(this, void 0, void 0, function* () {\n                        const result = yield this._getMembers(teamId, { ids: idChunk });\n                        return result.members;\n                    })));\n                    return commons_1.ArrayUtil.flatten(resolvedTasks);\n                }\n                return [];\n            });\n        }\n        _getMembers(teamId, parameters) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: { user_ids: parameters.ids },\n                    method: 'post',\n                    url: `${TeamAPI_1.TeamAPI.URL.TEAMS}/${teamId}/${MemberAPI.URL.MEMBERS_BY_ID_LIST}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    // Maximum 1600 due to \"413 Request Entity Too Large\" response\n    MemberAPI.DEFAULT_MEMBERS_CHUNK_SIZE = 1600;\n    MemberAPI.URL = {\n        MEMBERS: 'members',\n        MEMBERS_BY_ID_LIST: 'get-members-by-ids-using-post',\n    };\n    return MemberAPI;\n})();\nexports.MemberAPI = MemberAPI;\n//# sourceMappingURL=MemberAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isAtLeastEqual = exports.isAtLeastAdmin = exports.isAtLeastMember = exports.isAtLeastPartner = exports.isOwner = exports.isAdmin = exports.isMember = exports.isPartner = exports.permissionsToRole = exports.roleToPermissions = exports.Role = void 0;\nconst Permissions_1 = require(\"./Permissions\");\nvar Role;\n(function (Role) {\n    Role[\"ADMIN\"] = \"admin\";\n    Role[\"EXTERNAL\"] = \"partner\";\n    Role[\"MEMBER\"] = \"member\";\n    Role[\"OWNER\"] = \"owner\";\n})(Role = exports.Role || (exports.Role = {}));\nexports.roleToPermissions = (role) => {\n    switch (role.toLowerCase()) {\n        case Role.OWNER: {\n            return Permissions_1.combinePermissions([\n                exports.roleToPermissions(Role.ADMIN),\n                Permissions_1.Permissions.DELETE_TEAM,\n                Permissions_1.Permissions.GET_BILLING,\n                Permissions_1.Permissions.SET_BILLING,\n            ]);\n        }\n        case Role.ADMIN: {\n            return Permissions_1.combinePermissions([\n                exports.roleToPermissions(Role.MEMBER),\n                Permissions_1.Permissions.ADD_TEAM_MEMBER,\n                Permissions_1.Permissions.REMOVE_TEAM_MEMBER,\n                Permissions_1.Permissions.SET_MEMBER_PERMISSIONS,\n                Permissions_1.Permissions.SET_TEAM_DATA,\n            ]);\n        }\n        case Role.MEMBER: {\n            return Permissions_1.combinePermissions([\n                exports.roleToPermissions(Role.EXTERNAL),\n                Permissions_1.Permissions.ADD_CONVERSATION_MEMBER,\n                Permissions_1.Permissions.DELETE_CONVERSATION,\n                Permissions_1.Permissions.GET_MEMBER_PERMISSIONS,\n                Permissions_1.Permissions.REMOVE_CONVERSATION_MEMBER,\n            ]);\n        }\n        case Role.EXTERNAL: {\n            return Permissions_1.combinePermissions([Permissions_1.Permissions.CREATE_CONVERSATION, Permissions_1.Permissions.GET_TEAM_CONVERSATIONS]);\n        }\n        default: {\n            return 0;\n        }\n    }\n};\nexports.permissionsToRole = (permissions) => {\n    if (Permissions_1.hasPermissions(permissions.self, exports.roleToPermissions(Role.OWNER))) {\n        return Role.OWNER;\n    }\n    if (Permissions_1.hasPermissions(permissions.self, exports.roleToPermissions(Role.ADMIN))) {\n        return Role.ADMIN;\n    }\n    if (Permissions_1.hasPermissions(permissions.self, exports.roleToPermissions(Role.MEMBER))) {\n        return Role.MEMBER;\n    }\n    if (Permissions_1.hasPermissions(permissions.self, exports.roleToPermissions(Role.EXTERNAL))) {\n        return Role.EXTERNAL;\n    }\n    return undefined;\n};\nexports.isPartner = (permissions) => {\n    return !!(permissions && exports.permissionsToRole(permissions) === Role.EXTERNAL);\n};\nexports.isMember = (permissions) => {\n    return !!(permissions && exports.permissionsToRole(permissions) === Role.MEMBER);\n};\nexports.isAdmin = (permissions) => {\n    return !!(permissions && exports.permissionsToRole(permissions) === Role.ADMIN);\n};\nexports.isOwner = (permissions) => {\n    return !!(permissions && exports.permissionsToRole(permissions) === Role.OWNER);\n};\nexports.isAtLeastPartner = (permissions) => {\n    return exports.isPartner(permissions) || exports.isMember(permissions) || exports.isAdmin(permissions) || exports.isOwner(permissions);\n};\nexports.isAtLeastMember = (permissions) => {\n    return exports.isMember(permissions) || exports.isAdmin(permissions) || exports.isOwner(permissions);\n};\nexports.isAtLeastAdmin = (permissions) => {\n    return exports.isAdmin(permissions) || exports.isOwner(permissions);\n};\nexports.isAtLeastEqual = (permissions, otherPermissions) => {\n    return ((exports.isOwner(permissions) && exports.isOwner(otherPermissions)) ||\n        (exports.isAtLeastAdmin(permissions) && exports.isAdmin(otherPermissions)) ||\n        (exports.isAtLeastMember(permissions) && exports.isMember(otherPermissions)) ||\n        (exports.isAtLeastPartner(permissions) && exports.isPartner(otherPermissions)));\n};\n//# sourceMappingURL=Role.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./InvoiceData\"), exports);\n__exportStar(require(\"./PaymentAPI\"), exports);\n__exportStar(require(\"./PaymentBillingData\"), exports);\n__exportStar(require(\"./PaymentData\"), exports);\n__exportStar(require(\"./PaymentDataUpdate\"), exports);\n__exportStar(require(\"./PaymentInterval\"), exports);\n__exportStar(require(\"./PaymentPlan\"), exports);\n__exportStar(require(\"./PaymentStripeCharge\"), exports);\n__exportStar(require(\"./PaymentStripeInvoice\"), exports);\n__exportStar(require(\"./PaymentStripeInvoices\"), exports);\n__exportStar(require(\"./PaymentStripePlan\"), exports);\n__exportStar(require(\"./SupportedCurrency\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PaymentAPI = void 0;\nlet PaymentAPI = /** @class */ (() => {\n    class PaymentAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        putPaymentData(teamId, paymentData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: paymentData,\n                    method: 'put',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getPaymentData(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deletePaymentData(teamId, paymentData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: paymentData,\n                    method: 'delete',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        putPaymentBilling(teamId, billingInfo) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: billingInfo,\n                    method: 'put',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.INFO}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getPaymentBilling(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.INFO}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        putPaymentPlan(teamId, plan) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: plan,\n                    method: 'put',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.PLAN}/${plan.id}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        getPlans(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.PLANS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getCharges(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.CHARGES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getInvoices(teamId, limit = PaymentAPI.DEFAULT_INVOICES_CHUNK_SIZE, startAfterInvoiceId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start: startAfterInvoiceId,\n                    },\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.INVOICES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getSupportedCurrencies(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${PaymentAPI.URL.TEAMS}/${teamId}/${PaymentAPI.URL.BILLING}/${PaymentAPI.URL.CURRENCIES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    PaymentAPI.DEFAULT_INVOICES_CHUNK_SIZE = 10;\n    PaymentAPI.URL = {\n        BILLING: 'billing',\n        CHARGES: 'charges',\n        CURRENCIES: 'currencies',\n        INFO: 'info',\n        INVOICES: 'invoices',\n        PLAN: 'plan',\n        PLANS: 'plans',\n        TEAMS: '/teams',\n    };\n    return PaymentAPI;\n})();\nexports.PaymentAPI = PaymentAPI;\n//# sourceMappingURL=PaymentAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PaymentStatus = void 0;\nvar PaymentStatus;\n(function (PaymentStatus) {\n    PaymentStatus[\"ACTIVE\"] = \"active\";\n    PaymentStatus[\"CANCELED\"] = \"canceled\";\n    PaymentStatus[\"PAST_DUE\"] = \"past_due\";\n    PaymentStatus[\"TRAILING\"] = \"trialing\";\n    PaymentStatus[\"UNPAID\"] = \"unpaid\";\n})(PaymentStatus = exports.PaymentStatus || (exports.PaymentStatus = {}));\n//# sourceMappingURL=PaymentData.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PaymentInterval = void 0;\n/* eslint-disable typescript-sort-keys/string-enum */\nvar PaymentInterval;\n(function (PaymentInterval) {\n    PaymentInterval[\"DAY\"] = \"day\";\n    PaymentInterval[\"WEEK\"] = \"week\";\n    PaymentInterval[\"MONTH\"] = \"month\";\n    PaymentInterval[\"YEAR\"] = \"year\";\n})(PaymentInterval = exports.PaymentInterval || (exports.PaymentInterval = {}));\n//# sourceMappingURL=PaymentInterval.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PaymentPlanID = void 0;\nvar PaymentPlanID;\n(function (PaymentPlanID) {\n    PaymentPlanID[\"ANNUAL\"] = \"wire_annual_plan\";\n    PaymentPlanID[\"MONTHLY\"] = \"wire_monthly_plan\";\n})(PaymentPlanID = exports.PaymentPlanID || (exports.PaymentPlanID = {}));\n//# sourceMappingURL=PaymentPlan.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PaymentStripeChargeStatus;\n(function (PaymentStripeChargeStatus) {\n    PaymentStripeChargeStatus[\"FAILED\"] = \"failed\";\n    PaymentStripeChargeStatus[\"PENDING\"] = \"pending\";\n    PaymentStripeChargeStatus[\"SUCCEEDED\"] = \"succeeded\";\n})(PaymentStripeChargeStatus || (PaymentStripeChargeStatus = {}));\n//# sourceMappingURL=PaymentStripeCharge.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SupportedCurrency = void 0;\nvar SupportedCurrency;\n(function (SupportedCurrency) {\n    SupportedCurrency[\"CHF\"] = \"CHF\";\n    SupportedCurrency[\"EUR\"] = \"EUR\";\n    SupportedCurrency[\"USD\"] = \"USD\";\n})(SupportedCurrency = exports.SupportedCurrency || (exports.SupportedCurrency = {}));\n//# sourceMappingURL=SupportedCurrency.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ServiceAPI\"), exports);\n__exportStar(require(\"./Service\"), exports);\n__exportStar(require(\"./Provider\"), exports);\n__exportStar(require(\"./ServiceWhitelistData\"), exports);\n__exportStar(require(\"./Services\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceAPI = void 0;\nlet ServiceAPI = /** @class */ (() => {\n    class ServiceAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getServices(limit = 100, start, tags) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start,\n                        tags,\n                    },\n                    url: `/${ServiceAPI.URL.SERVICES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getTeamServices(teamId, limit = 100) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        prefix: undefined,\n                        size: limit,\n                        start: undefined,\n                    },\n                    url: `${ServiceAPI.URL.TEAMS}/${teamId}/${ServiceAPI.URL.SERVICES}/${ServiceAPI.URL.WHITELISTED}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getProvider(providerId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ServiceAPI.URL.PROVIDERS}/${providerId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getProviderServices(providerId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ServiceAPI.URL.PROVIDERS}/${providerId}/${ServiceAPI.URL.SERVICES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getService(providerId, serviceId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ServiceAPI.URL.PROVIDERS}/${providerId}/${ServiceAPI.URL.SERVICES}/${serviceId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        postServiceWhitelist(teamId, whitelistData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: whitelistData,\n                    method: 'post',\n                    url: `${ServiceAPI.URL.TEAMS}/${teamId}/${ServiceAPI.URL.SERVICES}/${ServiceAPI.URL.WHITELIST}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    ServiceAPI.URL = {\n        PROVIDERS: '/providers',\n        SERVICES: 'services',\n        TEAMS: '/teams',\n        WHITELIST: 'whitelist',\n        WHITELISTED: 'whitelisted',\n    };\n    return ServiceAPI;\n})();\nexports.ServiceAPI = ServiceAPI;\n//# sourceMappingURL=ServiceAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceNotFoundError = exports.InvalidInvitationCodeError = exports.InviteEmailInUseError = exports.TeamError = void 0;\nconst http_1 = require(\"../http/\");\nclass TeamError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ConversationError';\n    }\n}\nexports.TeamError = TeamError;\nclass InviteEmailInUseError extends TeamError {\n    constructor(message, label = http_1.BackendErrorLabel.INVITE_EMAIL_EXISTS, code = http_1.StatusCode.CONFLICT) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InviteEmailInUseError';\n    }\n}\nexports.InviteEmailInUseError = InviteEmailInUseError;\nclass InvalidInvitationCodeError extends TeamError {\n    constructor(message, label = http_1.BackendErrorLabel.INVALID_INVITATION_CODE, code = http_1.StatusCode.BAD_REQUEST) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'InvalidInvitationCodeError';\n    }\n}\nexports.InvalidInvitationCodeError = InvalidInvitationCodeError;\nclass ServiceNotFoundError extends TeamError {\n    constructor(message, label = http_1.SyntheticErrorLabel.SERVICE_NOT_FOUND, code = http_1.StatusCode.NOT_FOUND) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'ServiceNotFoundError';\n    }\n}\nexports.ServiceNotFoundError = ServiceNotFoundError;\n//# sourceMappingURL=TeamError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./IdentityProvider\"), exports);\n__exportStar(require(\"./IdentityProviderAPI\"), exports);\n__exportStar(require(\"./IdentityProviders\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdentityProviderAPI = void 0;\nlet IdentityProviderAPI = /** @class */ (() => {\n    class IdentityProviderAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getIdentityProvider(identityProviderId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${IdentityProviderAPI.URL.PROVIDER}/${identityProviderId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        getIdentityProviders() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${IdentityProviderAPI.URL.PROVIDER}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        deleteIdentityProvider(identityProviderId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${IdentityProviderAPI.URL.PROVIDER}/${identityProviderId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        postIdentityProvider(identityData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: identityData,\n                    method: 'post',\n                    url: `${IdentityProviderAPI.URL.PROVIDER}`,\n                };\n                const response = yield this.client.sendXML(config);\n                return response.data;\n            });\n        }\n        getMetadata() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${IdentityProviderAPI.URL.SSO}/${IdentityProviderAPI.URL.METADATA}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    IdentityProviderAPI.URL = {\n        METADATA: 'metadata',\n        PROVIDER: '/identity-providers',\n        SSO: '/sso',\n    };\n    return IdentityProviderAPI;\n})();\nexports.IdentityProviderAPI = IdentityProviderAPI;\n//# sourceMappingURL=IdentityProviderAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./FeatureAPI\"), exports);\n__exportStar(require(\"./FeatureStatus\"), exports);\n__exportStar(require(\"./IdentityProviderStatus\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FeatureAPI = void 0;\nlet FeatureAPI = /** @class */ (() => {\n    class FeatureAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getIdentityProviderStatus(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${FeatureAPI.URL.TEAMS}/${teamId}/${FeatureAPI.URL.FEATURES}/${FeatureAPI.URL.SSO}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    FeatureAPI.URL = {\n        FEATURES: 'features',\n        SSO: 'sso',\n        TEAMS: '/teams',\n    };\n    return FeatureAPI;\n})();\nexports.FeatureAPI = FeatureAPI;\n//# sourceMappingURL=FeatureAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FeatureStatus = void 0;\nvar FeatureStatus;\n(function (FeatureStatus) {\n    FeatureStatus[\"DISABLED\"] = \"disabled\";\n    FeatureStatus[\"ENABLED\"] = \"enabled\";\n})(FeatureStatus = exports.FeatureStatus || (exports.FeatureStatus = {}));\n//# sourceMappingURL=FeatureStatus.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./TeamConversation\"), exports);\n__exportStar(require(\"./TeamConversationAPI\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TeamConversationAPI = void 0;\nlet TeamConversationAPI = /** @class */ (() => {\n    class TeamConversationAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Remove a team conversation.\n         * @param teamId ID of the team to remove the conversation from\n         * @param conversationId ID of the conversation to remove\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!//deleteTeamConversation\n         */\n        deleteConversation(teamId, conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${TeamConversationAPI.URL.TEAMS}/${teamId}/${TeamConversationAPI.URL.CONVERSATIONS}/${conversationId}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Get one team conversation.\n         * @param teamId ID of the team to get the conversation from\n         * @param conversationId ID of the conversation to get\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!//getTeamConversation\n         */\n        getConversation(teamId, conversationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamConversationAPI.URL.TEAMS}/${teamId}/${TeamConversationAPI.URL.CONVERSATIONS}/${conversationId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get team conversations.\n         * @param teamId ID of the team to get conversations for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!//getTeamConversations\n         */\n        getConversations(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamConversationAPI.URL.TEAMS}/${teamId}/${TeamConversationAPI.URL.CONVERSATIONS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get existing roles available for the given team.\n         * @param teamId ID of the team to get the roles for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!//getTeamConversationsRoles\n         */\n        getRoles(teamId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${TeamConversationAPI.URL.TEAMS}/${teamId}/${TeamConversationAPI.URL.CONVERSATIONS}/${TeamConversationAPI.URL.ROLES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    TeamConversationAPI.URL = {\n        CONVERSATIONS: 'conversations',\n        ROLES: 'roles',\n        TEAMS: '/teams',\n    };\n    return TeamConversationAPI;\n})();\nexports.TeamConversationAPI = TeamConversationAPI;\n//# sourceMappingURL=TeamConversationAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserAPI = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst commons_1 = require(\"@wireapp/commons\");\nconst http_1 = require(\"../http/\");\nconst UserError_1 = require(\"./UserError\");\nlet UserAPI = /** @class */ (() => {\n    class UserAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Clear all properties.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/clearProperties\n         */\n        deleteProperties() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: UserAPI.URL.PROPERTIES,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Delete a property.\n         * @param propertyKey The property key to delete\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/deleteProperty\n         */\n        deleteProperty(propertyKey) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${UserAPI.URL.PROPERTIES}/${propertyKey}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Activate (i.e. confirm) an email address or phone number.\n         * @param activationCode Activation code\n         * @param activationKey Activation key\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/activate\n         */\n        getActivation(activationCode, activationKey) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        code: activationCode,\n                        key: activationKey,\n                    },\n                    url: UserAPI.URL.ACTIVATE,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Retrieve TURN server addresses and credentials.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getCallsConfig\n         */\n        getCallsConfiguration() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.CALLS}/config`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a specific client of a user.\n         * @param userId The user ID\n         * @param clientId The client ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getUserClient\n         */\n        getClient(userId, clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}/${UserAPI.URL.CLIENTS}/${clientId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a prekey for a specific client of a user.\n         * @param userId The user ID\n         * @param clientId The client ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getPrekey\n         */\n        getClientPreKey(userId, clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}/${UserAPI.URL.PRE_KEYS}/${clientId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get all of a user's clients.\n         * @param userId The user ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getUserClients\n         */\n        getClients(userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}/${UserAPI.URL.CLIENTS}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get information on a user handle.\n         * @param handle The user's handle\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getUserHandleInfo\n         */\n        getHandle(handle) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${UserAPI.URL.HANDLES}/${handle}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * List all property keys.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/listPropertyKeys\n         */\n        getProperties() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: UserAPI.URL.PROPERTIES,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a property value.\n         * @param propertyKey The property key to get\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getProperty\n         */\n        getProperty(propertyKey) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.PROPERTIES}/${propertyKey}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Search for users.\n         * @param query The search query\n         * @param limit Number of results to return\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/search\n         */\n        getSearchContacts(query, limit) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const cancelSource = axios_1.default.CancelToken.source();\n                const config = {\n                    cancelToken: cancelSource.token,\n                    method: 'get',\n                    params: {\n                        q: query,\n                    },\n                    url: `${UserAPI.URL.SEARCH}/${UserAPI.URL.CONTACTS}`,\n                };\n                if (limit) {\n                    config.params.size = limit;\n                }\n                const handleRequest = () => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const response = yield this.client.sendJSON(config);\n                        return response.data;\n                    }\n                    catch (error) {\n                        if (error.message === http_1.SyntheticErrorLabel.REQUEST_CANCELLED) {\n                            throw new UserError_1.RequestCancellationError('Search request got cancelled');\n                        }\n                        throw error;\n                    }\n                });\n                return {\n                    cancel: () => cancelSource.cancel(http_1.SyntheticErrorLabel.REQUEST_CANCELLED),\n                    response: handleRequest(),\n                };\n            });\n        }\n        /**\n         * Get a user by ID.\n         * @note If you want to get all properties (`sso_id`, `managed_by`, etc.) for your own user, use \"/self\". Otherwise you will get a user payload with a limited set of properties (what's publicly available).\n         * @param userId The user ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/user\n         */\n        getUser(userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a prekey for each client of a user.\n         * @param userId\n         */\n        getUserPreKeys(userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}/${UserAPI.URL.PRE_KEYS}`,\n                };\n                const response = yield this.client.sendJSON(config, true);\n                return response.data;\n            });\n        }\n        getUsers(parameters, limit = UserAPI.DEFAULT_USERS_CHUNK_SIZE) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { handles, ids } = parameters;\n                if (handles === null || handles === void 0 ? void 0 : handles.length) {\n                    const uniqueHandles = commons_1.ArrayUtil.removeDuplicates(handles);\n                    const handleChunks = commons_1.ArrayUtil.chunk(uniqueHandles, limit);\n                    const resolvedTasks = yield Promise.all(handleChunks.map(handleChunk => this._getUsers({ handles: handleChunk })));\n                    return commons_1.ArrayUtil.flatten(resolvedTasks);\n                }\n                if (ids === null || ids === void 0 ? void 0 : ids.length) {\n                    const uniqueIds = commons_1.ArrayUtil.removeDuplicates(ids);\n                    const idChunks = commons_1.ArrayUtil.chunk(uniqueIds, limit);\n                    const resolvedTasks = yield Promise.all(idChunks.map(idChunk => this._getUsers({ ids: idChunk })));\n                    return commons_1.ArrayUtil.flatten(resolvedTasks);\n                }\n                return [];\n            });\n        }\n        _getUsers(parameters) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {},\n                    url: UserAPI.URL.USERS,\n                };\n                if (parameters.handles) {\n                    config.params.handles = parameters.handles.join(',');\n                }\n                else if (parameters.ids) {\n                    config.params.ids = parameters.ids.join(',');\n                }\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * DEPRECATED: List users.\n         * @deprecated\n         * @param userIds Multiple user's IDs\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/users\n         */\n        getUsersByIds(userIds) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const maxChunkSize = 100;\n                return this.getUsers({ ids: userIds }, maxChunkSize);\n            });\n        }\n        /**\n         * Activate (i.e. confirm) an email address or phone number.\n         * Note: Activation only succeeds once and the number of failed attempts for a valid key is limited.\n         * @param activationData Data to activate an account\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/activate_0\n         */\n        postActivation(activationData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: activationData,\n                    method: 'post',\n                    url: UserAPI.URL.ACTIVATE,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Send (or resend) an email or phone activation code.\n         * @param activationCodeData Data to send an activation code\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/sendActivationCode\n         */\n        postActivationCode(activationCodeData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: activationCodeData,\n                    method: 'post',\n                    url: `${UserAPI.URL.ACTIVATE}/${UserAPI.URL.SEND}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Verify account deletion with a code.\n         * @param verificationData Data to verify the account deletion\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/verifyDeleteUser\n         */\n        postDelete(verificationData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: verificationData,\n                    method: 'post',\n                    url: UserAPI.URL.DELETE,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Check availability of user handles.\n         * @param handles The handles to check\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/checkUserHandles\n         */\n        postHandles(handles) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: handles,\n                    method: 'post',\n                    url: `${UserAPI.URL.USERS}/${UserAPI.URL.HANDLES}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Check availability of a single user handle.\n         * @param handle The handle to check\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/checkUserHandle\n         */\n        headHandle(handle) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'head',\n                    url: `${UserAPI.URL.USERS}/${UserAPI.URL.HANDLES}/${handle}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Get a user by handle.\n         * @param handle The handle of a user to search for\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getUserByHandle\n         */\n        getUserByHandle(handle) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${UserAPI.URL.HANDLES}/${handle}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        _postMultiPreKeyBundlesChunk(userClientMap) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: userClientMap,\n                    method: 'post',\n                    url: `${UserAPI.URL.USERS}/${UserAPI.URL.PRE_KEYS}`,\n                };\n                const response = yield this.client.sendJSON(config, true);\n                return response.data;\n            });\n        }\n        /**\n         * Given a map of user IDs to client IDs return a prekey for each one.\n         * @param userClientMap A map of the user's clients\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getMultiPrekeyBundles\n         */\n        postMultiPreKeyBundles(userClientMap, limit = UserAPI.DEFAULT_USERS_PREKEY_BUNDLE_CHUNK_SIZE) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const userIdChunks = commons_1.ArrayUtil.chunk(Object.keys(userClientMap), limit);\n                const userPreKeyBundleMapChunks = yield Promise.all(userIdChunks.map(userIdChunk => this._postMultiPreKeyBundlesChunk(userIdChunk.reduce((chunkedUserClientMap, userId) => (Object.assign(Object.assign({}, chunkedUserClientMap), { [userId]: userClientMap[userId] })), {}))));\n                return userPreKeyBundleMapChunks.reduce((userPreKeyBundleMap, userPreKeyBundleMapChunk) => (Object.assign(Object.assign({}, userPreKeyBundleMap), userPreKeyBundleMapChunk)), {});\n            });\n        }\n        /**\n         * Initiate or complete a password reset.\n         * @param resetData The data needed to initiate or complete the reset\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/beginPasswordReset\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/completePasswordReset\n         */\n        postPasswordReset(resetData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: resetData,\n                    method: 'post',\n                    url: UserAPI.URL.PASSWORDRESET,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Set a user property.\n         * @param propertyKey The property key to set\n         * @param propertyData The property data to set\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/setProperty\n         */\n        putProperty(propertyKey, propertyData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: propertyData,\n                    method: 'put',\n                    url: `${UserAPI.URL.PROPERTIES}/${propertyKey}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Get rich info of a user\n         * @param userId The user ID\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/getRichInfo\n         */\n        getRichInfo(userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${UserAPI.URL.USERS}/${userId}/${UserAPI.URL.RICH_INFO}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    UserAPI.DEFAULT_USERS_CHUNK_SIZE = 50;\n    UserAPI.DEFAULT_USERS_PREKEY_BUNDLE_CHUNK_SIZE = 128;\n    UserAPI.URL = {\n        ACTIVATE: '/activate',\n        CALLS: '/calls',\n        CLIENTS: 'clients',\n        CONTACTS: 'contacts',\n        DELETE: '/delete',\n        HANDLES: 'handles',\n        PASSWORDRESET: '/password-reset',\n        PRE_KEYS: 'prekeys',\n        PROPERTIES: '/properties',\n        RICH_INFO: 'rich-info',\n        SEARCH: '/search',\n        SEND: 'send',\n        USERS: '/users',\n    };\n    return UserAPI;\n})();\nexports.UserAPI = UserAPI;\n//# sourceMappingURL=UserAPI.js.map","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserAssetType = void 0;\nvar UserAssetType;\n(function (UserAssetType) {\n    UserAssetType[\"COMPLETE\"] = \"complete\";\n    UserAssetType[\"PREVIEW\"] = \"preview\";\n})(UserAssetType = exports.UserAssetType || (exports.UserAssetType = {}));\n//# sourceMappingURL=UserAsset.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionState = void 0;\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[\"CONNECTED\"] = \"NetworkState.CONNECTED\";\n    ConnectionState[\"CONNECTING\"] = \"NetworkState.CONNECTING\";\n    ConnectionState[\"DISCONNECTED\"] = \"NetworkState.DISCONNECTED\";\n    ConnectionState[\"UNDEFINED\"] = \"NetworkState.UNDEFINED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n//# sourceMappingURL=ConnectionState.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContentType = void 0;\nvar ContentType;\n(function (ContentType) {\n    ContentType[\"APPLICATION_JSON\"] = \"application/json;charset=UTF-8\";\n    ContentType[\"APPLICATION_PROTOBUF\"] = \"application/x-protobuf\";\n    ContentType[\"APPLICATION_XML\"] = \"application/xml\";\n})(ContentType = exports.ContentType || (exports.ContentType = {}));\n//# sourceMappingURL=ContentType.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpClient = void 0;\nconst commons_1 = require(\"@wireapp/commons\");\nconst priority_queue_1 = require(\"@wireapp/priority-queue\");\nconst axios_1 = __importDefault(require(\"axios\"));\nconst events_1 = require(\"events\");\nconst logdown_1 = __importDefault(require(\"logdown\"));\nconst auth_1 = require(\"../auth/\");\nconst http_1 = require(\"../http/\");\nconst obfuscation_1 = require(\"../obfuscation/\");\nconst cookie_1 = require(\"../shims/node/cookie\");\nvar TOPIC;\n(function (TOPIC) {\n    TOPIC[\"ON_CONNECTION_STATE_CHANGE\"] = \"HttpClient.TOPIC.ON_CONNECTION_STATE_CHANGE\";\n})(TOPIC || (TOPIC = {}));\nlet HttpClient = /** @class */ (() => {\n    class HttpClient extends events_1.EventEmitter {\n        constructor(baseUrl, accessTokenStore) {\n            super();\n            this.baseUrl = baseUrl;\n            this.accessTokenStore = accessTokenStore;\n            this.connectionState = http_1.ConnectionState.UNDEFINED;\n            this.logger = logdown_1.default('@wireapp/api-client/http/HttpClient', {\n                logger: console,\n                markdown: false,\n            });\n            this.requestQueue = new priority_queue_1.PriorityQueue({\n                maxRetries: 0,\n                retryDelay: commons_1.TimeUtil.TimeInMillis.SECOND,\n            });\n            // Log all failing HTTP requests\n            axios_1.default.interceptors.response.use(undefined, (error) => {\n                let backendResponse = '';\n                if (error.response) {\n                    try {\n                        backendResponse = JSON.stringify(error.response.data);\n                    }\n                    finally {\n                        this.logger.error(`HTTP Error (${error.response.status}) on '${error.response.config.url}': ${error.message} (${backendResponse})`);\n                    }\n                }\n                return Promise.reject(error);\n            });\n        }\n        updateConnectionState(state) {\n            if (this.connectionState !== state) {\n                this.connectionState = state;\n                this.emit(HttpClient.TOPIC.ON_CONNECTION_STATE_CHANGE, this.connectionState);\n            }\n        }\n        _sendRequest(config, tokenAsParam = false, firstTry = true) {\n            var _a;\n            return __awaiter(this, void 0, void 0, function* () {\n                config.baseURL = this.baseUrl;\n                if (this.accessTokenStore.accessToken) {\n                    const { token_type, access_token } = this.accessTokenStore.accessToken;\n                    if (tokenAsParam) {\n                        config.params = Object.assign(Object.assign({}, config.params), { access_token });\n                    }\n                    else {\n                        config.headers = Object.assign(Object.assign({}, config.headers), { Authorization: `${token_type} ${access_token}` });\n                    }\n                }\n                try {\n                    const response = yield axios_1.default.request(Object.assign(Object.assign({}, config), { maxContentLength: 104857600 }));\n                    this.updateConnectionState(http_1.ConnectionState.CONNECTED);\n                    return response;\n                }\n                catch (error) {\n                    const { response, request } = error;\n                    // Map Axios errors\n                    const isNetworkError = !response && request && !Object.keys(request).length;\n                    if (isNetworkError) {\n                        const message = `Cannot do \"${error.config.method}\" request to \"${error.config.url}\".`;\n                        const networkError = new http_1.NetworkError(message);\n                        this.updateConnectionState(http_1.ConnectionState.DISCONNECTED);\n                        throw networkError;\n                    }\n                    if (response) {\n                        const { data: errorData, status: errorStatus } = response;\n                        const isBackendError = (errorData === null || errorData === void 0 ? void 0 : errorData.code) && (errorData === null || errorData === void 0 ? void 0 : errorData.label) && (errorData === null || errorData === void 0 ? void 0 : errorData.message);\n                        if (isBackendError) {\n                            error = http_1.BackendErrorMapper.map(errorData);\n                        }\n                        else {\n                            const isUnauthorized = errorStatus === http_1.StatusCode.UNAUTHORIZED;\n                            const hasAccessToken = !!((_a = this.accessTokenStore) === null || _a === void 0 ? void 0 : _a.accessToken);\n                            if (isUnauthorized && hasAccessToken && firstTry) {\n                                yield this.refreshAccessToken();\n                                return this._sendRequest(config, tokenAsParam, false);\n                            }\n                        }\n                    }\n                    throw error;\n                }\n            });\n        }\n        refreshAccessToken() {\n            var _a;\n            return __awaiter(this, void 0, void 0, function* () {\n                let expiredAccessToken;\n                if ((_a = this.accessTokenStore.accessToken) === null || _a === void 0 ? void 0 : _a.access_token) {\n                    expiredAccessToken = this.accessTokenStore.accessToken;\n                }\n                const accessToken = yield this.postAccess(expiredAccessToken);\n                this.logger.info(`Received updated access token. It will expire in \"${accessToken.expires_in}\" seconds.`, obfuscation_1.ObfuscationUtil.obfuscateAccessToken(accessToken));\n                return this.accessTokenStore.updateToken(accessToken);\n            });\n        }\n        postAccess(expiredAccessToken) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    headers: {},\n                    method: 'post',\n                    url: `${auth_1.AuthAPI.URL.ACCESS}`,\n                    withCredentials: true,\n                };\n                if (expiredAccessToken === null || expiredAccessToken === void 0 ? void 0 : expiredAccessToken.access_token) {\n                    config.headers.Authorization = `${expiredAccessToken.token_type} ${decodeURIComponent(expiredAccessToken.access_token)}`;\n                }\n                const response = yield cookie_1.sendRequestWithCookie(this, config);\n                return response.data;\n            });\n        }\n        sendRequest(config, tokenAsParam = false, isSynchronousRequest = false) {\n            return __awaiter(this, void 0, void 0, function* () {\n                return isSynchronousRequest\n                    ? this.requestQueue.add(() => this._sendRequest(config, tokenAsParam))\n                    : this._sendRequest(config, tokenAsParam);\n            });\n        }\n        sendJSON(config, isSynchronousRequest = false) {\n            config.headers = Object.assign(Object.assign({}, config.headers), { 'Content-Type': http_1.ContentType.APPLICATION_JSON });\n            return this.sendRequest(config, isSynchronousRequest);\n        }\n        sendXML(config, isSynchronousRequest = false) {\n            config.headers = Object.assign(Object.assign({}, config.headers), { 'Content-Type': http_1.ContentType.APPLICATION_XML });\n            return this.sendRequest(config, isSynchronousRequest);\n        }\n        sendProtocolBuffer(config, isSynchronousRequest = false) {\n            config.headers['Content-Type'] = http_1.ContentType.APPLICATION_PROTOBUF;\n            return this.sendRequest(config, isSynchronousRequest);\n        }\n    }\n    HttpClient.TOPIC = TOPIC;\n    return HttpClient;\n})();\nexports.HttpClient = HttpClient;\n//# sourceMappingURL=HttpClient.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Item\"), exports);\n__exportStar(require(\"./Priority\"), exports);\n__exportStar(require(\"./PriorityQueue\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PriorityQueue = void 0;\nconst logdown_1 = __importDefault(require(\"logdown\"));\nconst Item_1 = require(\"./Item\");\nconst Priority_1 = require(\"./Priority\");\nclass PriorityQueue {\n    constructor(config) {\n        this.logger = logdown_1.default('@wireapp/priority-queue/PriorityQueue', {\n            logger: console,\n            markdown: false,\n        });\n        this.config = {\n            comparator: (a, b) => {\n                if (a.priority === b.priority) {\n                    return a.timestamp - b.timestamp;\n                }\n                return b.priority - a.priority;\n            },\n            maxRetries: 0,\n            maxRetryDelay: Number.MAX_SAFE_INTEGER,\n            retryDelay: 1000,\n            retryGrowthFactor: 1.3,\n        };\n        this.isRunning = false;\n        this.queue = [];\n        this.config = Object.assign(Object.assign({}, this.config), config);\n    }\n    add(thunkedPromise, priority = Priority_1.Priority.MEDIUM, label) {\n        return new Promise((resolve, reject) => {\n            const queueObject = new Item_1.Item();\n            queueObject.fn = thunkedPromise;\n            queueObject.label = label;\n            queueObject.priority = priority;\n            queueObject.reject = reject;\n            queueObject.resolve = resolve;\n            queueObject.retry = 0;\n            queueObject.timestamp = Date.now() + this.size;\n            this.queue.push(queueObject);\n            this.queue.sort(this.config.comparator);\n            if (!this.isRunning) {\n                this.isRunning = true;\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this.processList();\n            }\n        });\n    }\n    delete(label) {\n        this.queue = this.queue.filter(item => item.label !== label);\n    }\n    deleteAll() {\n        this.queue = [];\n    }\n    get all() {\n        return this.queue;\n    }\n    get first() {\n        return this.queue[0];\n    }\n    get last() {\n        return this.queue[this.queue.length - 1];\n    }\n    get size() {\n        return this.queue.length;\n    }\n    processList() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const queueObject = this.first;\n            if (!queueObject) {\n                this.isRunning = false;\n                return;\n            }\n            try {\n                queueObject.resolve(yield queueObject.fn());\n                this.queue.shift();\n                // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                this.processList();\n            }\n            catch (error) {\n                if (queueObject.retry >= this.config.maxRetries) {\n                    this.queue.shift();\n                    queueObject.reject(error);\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    this.processList();\n                }\n                else {\n                    this.logger.log(`Retrying item \"${queueObject}\"`);\n                    setTimeout(() => this.processList(), this.getGrowingDelay(queueObject.retry));\n                    queueObject.retry++;\n                }\n            }\n        });\n    }\n    getGrowingDelay(currentRetry) {\n        const delay = currentRetry < 1 ? this.config.retryDelay : this.config.retryDelay * currentRetry * this.config.retryGrowthFactor;\n        return Math.min(delay, this.config.maxRetryDelay);\n    }\n    toString() {\n        return this.queue\n            .map((item, index) => {\n            return `\"${index}\": ${item.toString()}`;\n        })\n            .join('\\r\\n');\n    }\n}\nexports.PriorityQueue = PriorityQueue;\n//# sourceMappingURL=PriorityQueue.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ObfuscationUtil = void 0;\nconst obfuscationLengthLimit = 20;\nconst obfuscateAccessToken = (accessToken, enabled = true) => {\n    if (enabled) {\n        return Object.assign(Object.assign({}, accessToken), { access_token: `${accessToken.access_token.substr(0, obfuscationLengthLimit)}...` });\n    }\n    return accessToken;\n};\nconst obfuscateCookie = (cookie, enabled = true) => {\n    if (enabled) {\n        const obfuscatedCookie = cookie.clone();\n        obfuscatedCookie.value = `${cookie.value.substr(0, obfuscationLengthLimit)}...`;\n        return obfuscatedCookie;\n    }\n    return cookie;\n};\nexports.ObfuscationUtil = {\n    obfuscateAccessToken,\n    obfuscateCookie,\n};\n//# sourceMappingURL=ObfuscationUtil.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NetworkError = void 0;\nclass NetworkError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        Object.setPrototypeOf(this, new.target.prototype);\n        this.name = 'NetworkError';\n        this.stack = new Error().stack;\n    }\n}\nexports.NetworkError = NetworkError;\n//# sourceMappingURL=NetworkError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusCode = void 0;\nvar StatusCode;\n(function (StatusCode) {\n    StatusCode[StatusCode[\"ACCEPTED\"] = 202] = \"ACCEPTED\";\n    StatusCode[StatusCode[\"BAD_GATEWAY\"] = 502] = \"BAD_GATEWAY\";\n    StatusCode[StatusCode[\"BAD_REQUEST\"] = 400] = \"BAD_REQUEST\";\n    StatusCode[StatusCode[\"CONFLICT\"] = 409] = \"CONFLICT\";\n    StatusCode[StatusCode[\"CONNECTIVITY_PROBLEM\"] = 0] = \"CONNECTIVITY_PROBLEM\";\n    StatusCode[StatusCode[\"CREATED\"] = 201] = \"CREATED\";\n    StatusCode[StatusCode[\"FORBIDDEN\"] = 403] = \"FORBIDDEN\";\n    StatusCode[StatusCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    StatusCode[StatusCode[\"NO_CONTENT\"] = 204] = \"NO_CONTENT\";\n    StatusCode[StatusCode[\"NOT_FOUND\"] = 404] = \"NOT_FOUND\";\n    StatusCode[StatusCode[\"OK\"] = 200] = \"OK\";\n    StatusCode[StatusCode[\"PRECONDITION_FAILED\"] = 412] = \"PRECONDITION_FAILED\";\n    StatusCode[StatusCode[\"REQUEST_TIMEOUT\"] = 408] = \"REQUEST_TIMEOUT\";\n    StatusCode[StatusCode[\"REQUEST_TOO_LARGE\"] = 413] = \"REQUEST_TOO_LARGE\";\n    StatusCode[StatusCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    StatusCode[StatusCode[\"UNAUTHORIZED\"] = 401] = \"UNAUTHORIZED\";\n    StatusCode[StatusCode[\"UNKNOWN\"] = -1] = \"UNKNOWN\";\n})(StatusCode = exports.StatusCode || (exports.StatusCode = {}));\n//# sourceMappingURL=StatusCode.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handleProgressEvent = void 0;\nexports.handleProgressEvent = (progressCallback) => {\n    return (progressCallback &&\n        ((progressEvent) => {\n            progressCallback(progressEvent.loaded / progressEvent.total);\n        }));\n};\n//# sourceMappingURL=RequestProgressHandler.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2020 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CustomBackendNotFoundError = exports.AccountError = void 0;\nconst http_1 = require(\"../http\");\nclass AccountError extends http_1.BackendError {\n    constructor(message, label, code) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, AccountError.prototype);\n        this.name = 'AccountError';\n    }\n}\nexports.AccountError = AccountError;\nclass CustomBackendNotFoundError extends AccountError {\n    constructor(message, label = http_1.BackendErrorLabel.CUSTOM_BACKEND_NOT_FOUND, code = http_1.StatusCode.NOT_FOUND) {\n        super(message, label, code);\n        Object.setPrototypeOf(this, CustomBackendNotFoundError.prototype);\n        this.name = 'CustomBackendNotFoundError';\n    }\n}\nexports.CustomBackendNotFoundError = CustomBackendNotFoundError;\n//# sourceMappingURL=AccountError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./AssetAPI\"), exports);\n__exportStar(require(\"./AssetRetentionPolicy\"), exports);\n__exportStar(require(\"./AssetUploadData\"), exports);\n__exportStar(require(\"./AssetUtil\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssetAPI = void 0;\nconst axios_1 = __importDefault(require(\"axios\"));\nconst http_1 = require(\"../http/\");\nconst buffer_1 = require(\"../shims/node/buffer\");\nconst random_1 = require(\"../shims/node/random\");\nconst user_1 = require(\"../user\");\nconst AssetRetentionPolicy_1 = require(\"./AssetRetentionPolicy\");\nconst AssetUtil_1 = require(\"./AssetUtil\");\nlet AssetAPI = /** @class */ (() => {\n    class AssetAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        getAssetV1(assetId, conversationId, forceCaching = false, progressCallback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!AssetUtil_1.isValidUUID(assetId)) {\n                    throw new TypeError(`Expected asset ID \"${assetId}\" to only contain alphanumeric values and dashes.`);\n                }\n                if (!AssetUtil_1.isValidUUID(conversationId)) {\n                    throw new TypeError(`Expected conversation ID \"${conversationId}\" to only contain alphanumeric values and dashes.`);\n                }\n                const cancelSource = axios_1.default.CancelToken.source();\n                const config = {\n                    cancelToken: cancelSource.token,\n                    method: 'get',\n                    onDownloadProgress: http_1.handleProgressEvent(progressCallback),\n                    onUploadProgress: http_1.handleProgressEvent(progressCallback),\n                    params: {\n                        conv_id: conversationId,\n                    },\n                    responseType: 'arraybuffer',\n                    url: `${AssetAPI.ASSET_V1_URL}/${assetId}`,\n                };\n                if (forceCaching) {\n                    config.params.forceCaching = forceCaching;\n                }\n                const handleRequest = () => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const response = yield this.client.sendRequest(config, true);\n                        return {\n                            buffer: response.data,\n                            mimeType: response.headers['content-type'],\n                        };\n                    }\n                    catch (error) {\n                        if (error.message === http_1.SyntheticErrorLabel.REQUEST_CANCELLED) {\n                            throw new user_1.RequestCancellationError('Asset download got cancelled.');\n                        }\n                        throw error;\n                    }\n                });\n                return {\n                    cancel: () => cancelSource.cancel(http_1.SyntheticErrorLabel.REQUEST_CANCELLED),\n                    response: handleRequest(),\n                };\n            });\n        }\n        getAssetV2(assetId, conversationId, forceCaching = false, progressCallback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!AssetUtil_1.isValidUUID(assetId)) {\n                    throw new TypeError(`Expected asset ID \"${assetId}\" to only contain alphanumeric values and dashes.`);\n                }\n                if (!AssetUtil_1.isValidUUID(conversationId)) {\n                    throw new TypeError(`Expected conversation ID \"${conversationId}\" to only contain alphanumeric values and dashes.`);\n                }\n                const cancelSource = axios_1.default.CancelToken.source();\n                const config = {\n                    cancelToken: cancelSource.token,\n                    method: 'get',\n                    onDownloadProgress: http_1.handleProgressEvent(progressCallback),\n                    onUploadProgress: http_1.handleProgressEvent(progressCallback),\n                    params: {},\n                    responseType: 'arraybuffer',\n                    url: `${AssetAPI.ASSET_V2_CONVERSATION_URL}/${conversationId}${AssetAPI.ASSET_V2_URL}/${assetId}`,\n                };\n                if (forceCaching) {\n                    config.params.forceCaching = forceCaching;\n                }\n                const handleRequest = () => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const response = yield this.client.sendRequest(config, true);\n                        return {\n                            buffer: response.data,\n                            mimeType: response.headers['content-type'],\n                        };\n                    }\n                    catch (error) {\n                        if (error.message === http_1.SyntheticErrorLabel.REQUEST_CANCELLED) {\n                            throw new user_1.RequestCancellationError('Asset download got cancelled.');\n                        }\n                        throw error;\n                    }\n                });\n                return {\n                    cancel: () => cancelSource.cancel(http_1.SyntheticErrorLabel.REQUEST_CANCELLED),\n                    response: handleRequest(),\n                };\n            });\n        }\n        getAssetV3(assetId, token, forceCaching = false, progressCallback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!AssetUtil_1.isValidUUID(assetId)) {\n                    throw new TypeError(`Expected asset ID \"${assetId}\" to only contain alphanumeric values and dashes.`);\n                }\n                if (token && !AssetUtil_1.isValidToken(token)) {\n                    throw new TypeError(`Expected token \"${token.substr(0, 5)}...\" (redacted) to be base64 encoded string.`);\n                }\n                const cancelSource = axios_1.default.CancelToken.source();\n                const config = {\n                    cancelToken: cancelSource.token,\n                    method: 'get',\n                    onDownloadProgress: http_1.handleProgressEvent(progressCallback),\n                    onUploadProgress: http_1.handleProgressEvent(progressCallback),\n                    params: {},\n                    responseType: 'arraybuffer',\n                    url: `${AssetAPI.ASSET_V3_URL}/${assetId}`,\n                };\n                if (token) {\n                    config.params.asset_token = token;\n                }\n                if (forceCaching) {\n                    config.params.forceCaching = forceCaching;\n                }\n                const handleRequest = () => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const response = yield this.client.sendRequest(config, true);\n                        return {\n                            buffer: response.data,\n                            mimeType: response.headers['content-type'],\n                        };\n                    }\n                    catch (error) {\n                        if (error.message === http_1.SyntheticErrorLabel.REQUEST_CANCELLED) {\n                            throw new user_1.RequestCancellationError('Asset download got cancelled.');\n                        }\n                        throw error;\n                    }\n                });\n                return {\n                    cancel: () => cancelSource.cancel(http_1.SyntheticErrorLabel.REQUEST_CANCELLED),\n                    response: handleRequest(),\n                };\n            });\n        }\n        postAsset(asset, options, progressCallback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const BOUNDARY = `Frontier${random_1.unsafeAlphanumeric()}`;\n                const metadata = JSON.stringify(Object.assign({ public: true, retention: AssetRetentionPolicy_1.AssetRetentionPolicy.PERSISTENT }, options));\n                let body = '';\n                body += `--${BOUNDARY}\\r\\n`;\n                body += 'Content-Type: application/json;charset=utf-8\\r\\n';\n                body += `Content-length: ${metadata.length}\\r\\n`;\n                body += '\\r\\n';\n                body += `${metadata}\\r\\n`;\n                body += `--${BOUNDARY}\\r\\n`;\n                body += 'Content-Type: application/octet-stream\\r\\n';\n                body += `Content-length: ${asset.length}\\r\\n`;\n                body += `Content-MD5: ${buffer_1.base64MD5FromBuffer(asset.buffer)}\\r\\n`;\n                body += '\\r\\n';\n                const footer = `\\r\\n--${BOUNDARY}--\\r\\n`;\n                const cancelSource = axios_1.default.CancelToken.source();\n                const config = {\n                    cancelToken: cancelSource.token,\n                    data: buffer_1.concatToBuffer(body, asset, footer),\n                    headers: {\n                        'Content-Type': `multipart/mixed; boundary=${BOUNDARY}`,\n                    },\n                    method: 'post',\n                    onDownloadProgress: http_1.handleProgressEvent(progressCallback),\n                    onUploadProgress: http_1.handleProgressEvent(progressCallback),\n                    url: AssetAPI.ASSET_V3_URL,\n                };\n                const handleRequest = () => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const response = yield this.client.sendRequest(config);\n                        return response.data;\n                    }\n                    catch (error) {\n                        if (error.message === http_1.SyntheticErrorLabel.REQUEST_CANCELLED) {\n                            throw new user_1.RequestCancellationError('Asset upload got cancelled.');\n                        }\n                        throw error;\n                    }\n                });\n                return {\n                    cancel: () => cancelSource.cancel(http_1.SyntheticErrorLabel.REQUEST_CANCELLED),\n                    response: handleRequest(),\n                };\n            });\n        }\n    }\n    AssetAPI.ASSET_V3_URL = '/assets/v3';\n    AssetAPI.ASSET_V2_URL = '/otr/assets';\n    AssetAPI.ASSET_V2_CONVERSATION_URL = '/conversations';\n    AssetAPI.ASSET_V1_URL = '/assets';\n    return AssetAPI;\n})();\nexports.AssetAPI = AssetAPI;\n//# sourceMappingURL=AssetAPI.js.map","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash.slice()\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} [raw] True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} [raw]     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     [raw] True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unsafeAlphanumeric = void 0;\nexports.unsafeAlphanumeric = (length = 32) => {\n    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const range = Array.from(Array(length).keys());\n    return range.reduce((acc, index) => acc + chars[Math.floor(Math.random() * chars.length)], '');\n};\n//# sourceMappingURL=random.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./BroadcastAPI\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BroadcastAPI = void 0;\nconst validation_1 = require(\"../validation/\");\nlet BroadcastAPI = /** @class */ (() => {\n    class BroadcastAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Broadcast an encrypted message to all team members and all contacts (accepts Protobuf).\n         * @param clientId The sender's client ID\n         * @param messageData The message content\n         * @param ignoreMissing Whether to report missing clients or not:\n         * `false`: Report about all missing clients\n         * `true`: Ignore all missing clients and force sending\n         * `undefined`: Default to setting of `report_missing` in `NewOTRMessage`\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/tab.html#!/postOtrBroadcast\n         */\n        postBroadcastMessage(clientId, messageData, ignoreMissing) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!clientId) {\n                    throw new validation_1.ValidationError('Unable to send OTR message without client ID.');\n                }\n                const config = {\n                    data: messageData,\n                    method: 'post',\n                    url: BroadcastAPI.URL.BROADCAST,\n                };\n                if (typeof ignoreMissing === 'boolean') {\n                    config.params = { ignore_missing: ignoreMissing };\n                }\n                const response = typeof messageData.recipients === 'object'\n                    ? yield this.client.sendJSON(config)\n                    : yield this.client.sendProtocolBuffer(config);\n                return response.data;\n            });\n        }\n    }\n    BroadcastAPI.URL = {\n        BROADCAST: '/broadcast/otr/messages',\n    };\n    return BroadcastAPI;\n})();\nexports.BroadcastAPI = BroadcastAPI;\n//# sourceMappingURL=BroadcastAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Connection\"), exports);\n__exportStar(require(\"./ConnectionAPI\"), exports);\n__exportStar(require(\"./ConnectionRequest\"), exports);\n__exportStar(require(\"./ConnectionStatus\"), exports);\n__exportStar(require(\"./ConnectionUpdate\"), exports);\n__exportStar(require(\"./UserConnectionList\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionAPI = void 0;\nlet ConnectionAPI = /** @class */ (() => {\n    class ConnectionAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Get an existing connection to another user.\n         * @param userId The ID of the other user\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/connection\n         */\n        getConnection(userId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${ConnectionAPI.URL.CONNECTIONS}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * List the connections to other users.\n         * @param limit Number of results to return (default 100, max 500)\n         * @param connectionId The connection ID to start from\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/connections\n         */\n        getConnections(connectionId, limit = 100) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        size: limit,\n                        start: connectionId,\n                    },\n                    url: ConnectionAPI.URL.CONNECTIONS,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get all connections to other users.\n         */\n        getAllConnections() {\n            let allConnections = [];\n            const getConnectionChunks = (connectionId) => __awaiter(this, void 0, void 0, function* () {\n                const connectionsPerRequest = 500;\n                const { connections, has_more } = yield this.getConnections(connectionId, connectionsPerRequest);\n                if (connections.length) {\n                    allConnections = allConnections.concat(connections);\n                }\n                if (has_more) {\n                    const lastConnection = connections.pop();\n                    if (lastConnection) {\n                        return getConnectionChunks(lastConnection.to);\n                    }\n                }\n                return allConnections;\n            });\n            return getConnectionChunks();\n        }\n        /**\n         * Create a connection to another user.\n         * Note: You can have no more than 1000 connections in accepted or sent state.\n         * @param connectionRequestData: The connection request\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/createConnection\n         */\n        postConnection(connectionRequestData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: connectionRequestData,\n                    method: 'post',\n                    url: ConnectionAPI.URL.CONNECTIONS,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Update a connection.\n         * Note: You can have no more than 1000 connections in accepted or sent state.\n         * @param userId The ID of the other user\n         * @param updatedConnection: The updated connection\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/updateConnection\n         */\n        putConnection(userId, updatedConnection) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: updatedConnection,\n                    method: 'put',\n                    url: `${ConnectionAPI.URL.CONNECTIONS}/${userId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    ConnectionAPI.URL = {\n        CONNECTIONS: '/connections',\n    };\n    return ConnectionAPI;\n})();\nexports.ConnectionAPI = ConnectionAPI;\n//# sourceMappingURL=ConnectionAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionStatus = void 0;\nvar ConnectionStatus;\n(function (ConnectionStatus) {\n    ConnectionStatus[\"ACCEPTED\"] = \"accepted\";\n    ConnectionStatus[\"BLOCKED\"] = \"blocked\";\n    ConnectionStatus[\"CANCELLED\"] = \"cancelled\";\n    ConnectionStatus[\"IGNORED\"] = \"ignored\";\n    ConnectionStatus[\"PENDING\"] = \"pending\";\n    ConnectionStatus[\"SENT\"] = \"sent\";\n    ConnectionStatus[\"UNKNOWN\"] = \"unknown\";\n})(ConnectionStatus = exports.ConnectionStatus || (exports.ConnectionStatus = {}));\n//# sourceMappingURL=ConnectionStatus.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Backend\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Backend = void 0;\nconst PRODUCTION = {\n    name: 'production',\n    rest: 'https://prod-nginz-https.wire.com',\n    ws: 'wss://prod-nginz-ssl.wire.com',\n};\nconst STAGING = {\n    name: 'staging',\n    rest: 'https://staging-nginz-https.zinfra.io',\n    ws: 'wss://staging-nginz-ssl.zinfra.io',\n};\nexports.Backend = {\n    PRODUCTION,\n    STAGING,\n};\n//# sourceMappingURL=Backend.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./GiphyAPI\"), exports);\n__exportStar(require(\"./GiphyOptions\"), exports);\n__exportStar(require(\"./GiphyResult\"), exports);\n__exportStar(require(\"./GiphyImage\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GiphyAPI = void 0;\nlet GiphyAPI = /** @class */ (() => {\n    class GiphyAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Get multiple Giphy images by IDs.\n         * @see https://developers.giphy.com/docs/api/endpoint#get-gifs-by-id\n         */\n        getGiphyByIds(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const allIds = options.ids.join(',');\n                delete options.ids;\n                const config = {\n                    method: 'get',\n                    params: options,\n                    url: `${GiphyAPI.URL.PROXY}/${GiphyAPI.URL.GIPHY}/${allIds}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a Giphy image by its ID.\n         * @see https://developers.giphy.com/docs/api/endpoint#get-gif-by-id\n         */\n        getGiphyById(id) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${GiphyAPI.URL.PROXY}/${GiphyAPI.URL.GIPHY}/${id}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get a random GIF from Giphy.\n         * @see https://developers.giphy.com/docs/api/endpoint#random\n         */\n        getGiphyRandom(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: options,\n                    url: `${GiphyAPI.URL.PROXY}/${GiphyAPI.URL.GIPHY}/${GiphyAPI.URL.RANDOM}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get GIF search results from Giphy.\n         * @see https://developers.giphy.com/docs/api/endpoint#search\n         */\n        getGiphySearch(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: options,\n                    url: `${GiphyAPI.URL.PROXY}/${GiphyAPI.URL.GIPHY}/${GiphyAPI.URL.SEARCH}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get GIF trending results from Giphy.\n         * @see https://developers.giphy.com/docs/api/endpoint#trending\n         */\n        getGiphyTrending(options) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: options,\n                    url: `${GiphyAPI.URL.PROXY}/${GiphyAPI.URL.GIPHY}/${GiphyAPI.URL.TRENDING}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    GiphyAPI.URL = {\n        GIPHY: 'giphy/v1/gifs',\n        PROXY: '/proxy',\n        RANDOM: 'random',\n        SEARCH: 'search',\n        TRENDING: 'trending',\n    };\n    return GiphyAPI;\n})();\nexports.GiphyAPI = GiphyAPI;\n//# sourceMappingURL=GiphyAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GIPHY_RATING = void 0;\n/** @see https://developers.giphy.com/docs/optional-settings/#rating */\nvar GIPHY_RATING;\n(function (GIPHY_RATING) {\n    GIPHY_RATING[\"ALL_AGES_AND_PEOPLE\"] = \"g\";\n    GIPHY_RATING[\"MILD_SUBSTANCE\"] = \"pg-13\";\n    GIPHY_RATING[\"REQUIRE_PARENTAL_PREVIEW\"] = \"pg\";\n    GIPHY_RATING[\"STRONG_LANGUAGE\"] = \"r\";\n})(GIPHY_RATING = exports.GIPHY_RATING || (exports.GIPHY_RATING = {}));\n//# sourceMappingURL=GiphyOptions.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./Notification\"), exports);\n__exportStar(require(\"./NotificationAPI\"), exports);\n__exportStar(require(\"./NotificationList\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotificationAPI = exports.NOTIFICATION_SIZE_MAXIMUM = void 0;\nexports.NOTIFICATION_SIZE_MAXIMUM = 10000;\nlet NotificationAPI = /** @class */ (() => {\n    class NotificationAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Fetch the last notification.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/push/getLastNotification\n         */\n        getLastNotification(clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        client: clientId,\n                    },\n                    url: `${NotificationAPI.URL.NOTIFICATION}/${NotificationAPI.URL.LAST}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Fetch paged notifications.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/push/fetchNotifications\n         */\n        getNotifications(clientId, size = exports.NOTIFICATION_SIZE_MAXIMUM, since) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        client: clientId,\n                        since,\n                        size,\n                    },\n                    url: NotificationAPI.URL.NOTIFICATION,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Fetch all notifications.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/push/fetchNotifications\n         */\n        getAllNotifications(clientId, lastNotificationId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                let notificationList = [];\n                const getNotificationChunks = (clientId, lastNotificationId) => __awaiter(this, void 0, void 0, function* () {\n                    const { notifications, has_more } = yield this.getNotifications(clientId, exports.NOTIFICATION_SIZE_MAXIMUM, lastNotificationId);\n                    if (notifications.length) {\n                        notificationList = notificationList.concat(notifications);\n                    }\n                    if (has_more) {\n                        const lastNotification = notifications[notifications.length - 1];\n                        if (lastNotification) {\n                            return getNotificationChunks(clientId, lastNotification.id);\n                        }\n                    }\n                    return notificationList;\n                });\n                return getNotificationChunks(clientId, lastNotificationId);\n            });\n        }\n        /**\n         * Fetch a notification by ID.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/push/getNotification\n         */\n        getNotification(notificationId, clientId) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    params: {\n                        client: clientId,\n                    },\n                    url: `${NotificationAPI.URL.NOTIFICATION}/${notificationId}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n    }\n    NotificationAPI.URL = {\n        LAST: 'last',\n        NOTIFICATION: '/notifications',\n    };\n    return NotificationAPI;\n})();\nexports.NotificationAPI = NotificationAPI;\n//# sourceMappingURL=NotificationAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ChangePassword\"), exports);\n__exportStar(require(\"./Consent\"), exports);\n__exportStar(require(\"./ConsentType\"), exports);\n__exportStar(require(\"./Delete\"), exports);\n__exportStar(require(\"./Picture\"), exports);\n__exportStar(require(\"./Self\"), exports);\n__exportStar(require(\"./SelfAPI\"), exports);\n__exportStar(require(\"./SSOSignature\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsentType = void 0;\nvar ConsentType;\n(function (ConsentType) {\n    ConsentType[ConsentType[\"TERMS_OF_USE\"] = 1] = \"TERMS_OF_USE\";\n    ConsentType[ConsentType[\"MARKETING\"] = 2] = \"MARKETING\";\n})(ConsentType = exports.ConsentType || (exports.ConsentType = {}));\n//# sourceMappingURL=ConsentType.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ManagedSource = void 0;\nvar ManagedSource;\n(function (ManagedSource) {\n    ManagedSource[\"SCIM\"] = \"scim\";\n    ManagedSource[\"WIRE\"] = \"wire\";\n})(ManagedSource = exports.ManagedSource || (exports.ManagedSource = {}));\n//# sourceMappingURL=Self.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfAPI = void 0;\nlet SelfAPI = /** @class */ (() => {\n    class SelfAPI {\n        constructor(client) {\n            this.client = client;\n        }\n        /**\n         * Remove your email address.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/removeEmail\n         */\n        deleteEmail() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.EMAIL}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Remove your phone number.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/removePhone\n         */\n        deletePhone() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'delete',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.PHONE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Initiate account deletion.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/deleteUser\n         */\n        deleteSelf(deleteData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: deleteData,\n                    method: 'delete',\n                    url: SelfAPI.URL.SELF,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Get your profile name.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/selfName\n         */\n        getName() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.NAME}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Get your consents.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/consent\n         */\n        getConsents() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.CONSENT}`,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Put your consent.\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/consent\n         */\n        putConsent(consent) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: consent,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.CONSENT}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Get your profile\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/self\n         */\n        getSelf() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    method: 'get',\n                    url: SelfAPI.URL.SELF,\n                };\n                const response = yield this.client.sendJSON(config);\n                return response.data;\n            });\n        }\n        /**\n         * Change your email address.\n         * @param emailData The new email address\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/changeEmail\n         */\n        putEmail(emailData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: emailData,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.EMAIL}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Change your handle.\n         * @param handleData The new handle\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/changeHandle\n         */\n        putHandle(handleData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: handleData,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.HANDLE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Change your locale.\n         * @param localeData The new locale\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/changeLocale\n         */\n        putLocale(localeData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: localeData,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.LOCALE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Change your password.\n         * @param passwordData The new password\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/changePassword\n         */\n        putPassword(passwordData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: passwordData,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.PASSWORD}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Change your phone number.\n         * @param phoneData The new phone number (E.164 format)\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/changePhone\n         */\n        putPhone(phoneData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: phoneData,\n                    method: 'put',\n                    url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.PHONE}`,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Update your profile.\n         * @param profileData The new profile data\n         * @see https://staging-nginz-https.zinfra.io/swagger-ui/#!/users/updateSelf\n         */\n        putSelf(profileData) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const config = {\n                    data: profileData,\n                    method: 'put',\n                    url: SelfAPI.URL.SELF,\n                };\n                yield this.client.sendJSON(config);\n            });\n        }\n        /**\n         * Check if password is set.\n         */\n        headPassword() {\n            const config = {\n                method: 'head',\n                url: `${SelfAPI.URL.SELF}/${SelfAPI.URL.PASSWORD}`,\n            };\n            return this.client.sendJSON(config);\n        }\n    }\n    SelfAPI.URL = {\n        CONSENT: 'consent',\n        EMAIL: 'email',\n        HANDLE: 'handle',\n        LOCALE: 'locale',\n        NAME: 'name',\n        PASSWORD: 'password',\n        PHONE: 'phone',\n        SELF: '/self',\n    };\n    return SelfAPI;\n})();\nexports.SelfAPI = SelfAPI;\n//# sourceMappingURL=SelfAPI.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketClient = void 0;\nconst events_1 = require(\"events\");\nconst logdown_1 = __importDefault(require(\"logdown\"));\nconst auth_1 = require(\"../auth/\");\nconst http_1 = require(\"../http/\");\nconst ReconnectingWebsocket_1 = require(\"./ReconnectingWebsocket\");\nvar TOPIC;\n(function (TOPIC) {\n    TOPIC[\"ON_ERROR\"] = \"WebSocketClient.TOPIC.ON_ERROR\";\n    TOPIC[\"ON_INVALID_TOKEN\"] = \"WebSocketClient.TOPIC.ON_INVALID_TOKEN\";\n    TOPIC[\"ON_MESSAGE\"] = \"WebSocketClient.TOPIC.ON_MESSAGE\";\n    TOPIC[\"ON_STATE_CHANGE\"] = \"WebSocketClient.TOPIC.ON_STATE_CHANGE\";\n})(TOPIC || (TOPIC = {}));\nlet WebSocketClient = /** @class */ (() => {\n    class WebSocketClient extends events_1.EventEmitter {\n        constructor(baseUrl, client) {\n            super();\n            this.onBeforeConnect = () => Promise.resolve();\n            this.onMessage = (data) => {\n                if (this.isLocked()) {\n                    this.bufferedMessages.push(data);\n                }\n                else {\n                    const notification = JSON.parse(data);\n                    this.emit(WebSocketClient.TOPIC.ON_MESSAGE, notification);\n                }\n            };\n            this.onError = (error) => __awaiter(this, void 0, void 0, function* () {\n                this.onStateChange(this.socket.getState());\n                this.emit(WebSocketClient.TOPIC.ON_ERROR, error);\n                yield this.refreshAccessToken();\n            });\n            this.onReconnect = () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    this.lock();\n                    this.logger.info('Calling \"onBeforeConnect\"');\n                    yield this.onBeforeConnect();\n                }\n                catch (error) {\n                    this.logger.warn(`Error during execution of \"beforeReconnect\"`, error);\n                    this.emit(WebSocketClient.TOPIC.ON_ERROR, error);\n                }\n                finally {\n                    this.unlock();\n                }\n                this.onStateChange(this.socket.getState());\n                return this.buildWebSocketUrl();\n            });\n            this.onOpen = (event) => {\n                this.onStateChange(this.socket.getState());\n            };\n            this.onClose = (event) => {\n                this.onStateChange(this.socket.getState());\n            };\n            /**\n             * Unlocks the websocket.\n             * When unlocking the websocket all buffered messages between\n             * connecting the websocket and the unlocking the websocket will be emitted.\n             */\n            this.unlock = () => {\n                this.logger.info(`Unlocking WebSocket - Emitting \"${this.bufferedMessages.length}\" unprocessed messages`);\n                this.isSocketLocked = false;\n                for (const bufferedMessage of this.bufferedMessages) {\n                    this.onMessage(bufferedMessage);\n                }\n                this.bufferedMessages = [];\n            };\n            /**\n             * Locks the websocket so messages are buffered instead of being emitted.\n             * Once the websocket gets unlocked buffered messages get emitted.\n             * This behaviour is needed in order to not miss any messages\n             * during fetching notifications from the notification stream.\n             */\n            this.lock = () => {\n                this.logger.info('Locking WebSocket');\n                this.isSocketLocked = true;\n            };\n            this.bufferedMessages = [];\n            this.isSocketLocked = false;\n            this.baseUrl = baseUrl;\n            this.client = client;\n            this.isRefreshingAccessToken = false;\n            this.socket = new ReconnectingWebsocket_1.ReconnectingWebsocket(this.onReconnect);\n            this.websocketState = this.socket.getState();\n            this.logger = logdown_1.default('@wireapp/api-client/tcp/WebSocketClient', {\n                logger: console,\n                markdown: false,\n            });\n        }\n        onStateChange(newState) {\n            if (newState !== this.websocketState) {\n                this.websocketState = newState;\n                this.emit(WebSocketClient.TOPIC.ON_STATE_CHANGE, this.websocketState);\n            }\n        }\n        /**\n         * Attaches all listeners to the websocket and establishes the connection.\n         *\n         * @param clientId\n         * When provided the websocket will get messages specific to the client.\n         * If omitted the websocket will receive global messages for the account.\n         *\n         * @param onBeforeConnect\n         * Handler that is executed before the websocket is fully connected.\n         * Essentially the websocket will lock before execution of this function and\n         * unlocks after the execution of the handler and pushes all buffered messages.\n         */\n        connect(clientId, onBeforeConnect) {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (onBeforeConnect) {\n                    this.onBeforeConnect = onBeforeConnect;\n                }\n                this.clientId = clientId;\n                this.socket.setOnMessage(this.onMessage);\n                this.socket.setOnError(this.onError);\n                this.socket.setOnOpen(this.onOpen);\n                this.socket.setOnClose(this.onClose);\n                this.socket.connect();\n                return this;\n            });\n        }\n        refreshAccessToken() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (this.isRefreshingAccessToken) {\n                    return;\n                }\n                this.isRefreshingAccessToken = true;\n                try {\n                    yield this.client.refreshAccessToken();\n                }\n                catch (error) {\n                    if (error instanceof http_1.NetworkError) {\n                        this.logger.warn(error);\n                    }\n                    else {\n                        const mappedError = http_1.BackendErrorMapper.map(error);\n                        // On invalid token the WebSocket is supposed to get closed by the client\n                        this.emit(error instanceof auth_1.InvalidTokenError ? WebSocketClient.TOPIC.ON_INVALID_TOKEN : WebSocketClient.TOPIC.ON_ERROR, mappedError);\n                    }\n                }\n                finally {\n                    this.isRefreshingAccessToken = false;\n                }\n            });\n        }\n        disconnect(reason, keepClosed = true) {\n            if (this.socket) {\n                this.socket.disconnect(reason, keepClosed);\n            }\n        }\n        isLocked() {\n            return this.isSocketLocked;\n        }\n        buildWebSocketUrl() {\n            const store = this.client.accessTokenStore.accessToken;\n            const token = store && store.access_token ? store.access_token : '';\n            if (!token) {\n                this.logger.warn('Reconnecting WebSocket with unset token');\n            }\n            let url = `${this.baseUrl}/await?access_token=${token}`;\n            if (this.clientId) {\n                // Note: If no client ID is given, then the WebSocket connection will receive all notifications for all clients\n                // of the connected user\n                url += `&client=${this.clientId}`;\n            }\n            return url;\n        }\n    }\n    WebSocketClient.TOPIC = TOPIC;\n    return WebSocketClient;\n})();\nexports.WebSocketClient = WebSocketClient;\n//# sourceMappingURL=WebSocketClient.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2019 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReconnectingWebsocket = exports.PingMessage = exports.WEBSOCKET_STATE = exports.CloseEventCode = void 0;\nconst commons_1 = require(\"@wireapp/commons\");\nconst logdown_1 = __importDefault(require(\"logdown\"));\nconst reconnecting_websocket_1 = __importDefault(require(\"reconnecting-websocket\"));\nconst NodeWebSocket = require('ws');\nconst buffer = __importStar(require(\"../shims/node/buffer\"));\nvar CloseEventCode;\n(function (CloseEventCode) {\n    CloseEventCode[CloseEventCode[\"NORMAL_CLOSURE\"] = 1000] = \"NORMAL_CLOSURE\";\n    CloseEventCode[CloseEventCode[\"GOING_AWAY\"] = 1001] = \"GOING_AWAY\";\n    CloseEventCode[CloseEventCode[\"PROTOCOL_ERROR\"] = 1002] = \"PROTOCOL_ERROR\";\n    CloseEventCode[CloseEventCode[\"UNSUPPORTED_DATA\"] = 1003] = \"UNSUPPORTED_DATA\";\n})(CloseEventCode = exports.CloseEventCode || (exports.CloseEventCode = {}));\nvar WEBSOCKET_STATE;\n(function (WEBSOCKET_STATE) {\n    WEBSOCKET_STATE[WEBSOCKET_STATE[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    WEBSOCKET_STATE[WEBSOCKET_STATE[\"OPEN\"] = 1] = \"OPEN\";\n    WEBSOCKET_STATE[WEBSOCKET_STATE[\"CLOSING\"] = 2] = \"CLOSING\";\n    WEBSOCKET_STATE[WEBSOCKET_STATE[\"CLOSED\"] = 3] = \"CLOSED\";\n})(WEBSOCKET_STATE = exports.WEBSOCKET_STATE || (exports.WEBSOCKET_STATE = {}));\nvar PingMessage;\n(function (PingMessage) {\n    PingMessage[\"PING\"] = \"ping\";\n    PingMessage[\"PONG\"] = \"pong\";\n})(PingMessage = exports.PingMessage || (exports.PingMessage = {}));\nlet ReconnectingWebsocket = /** @class */ (() => {\n    class ReconnectingWebsocket {\n        constructor(onReconnect, options = {}) {\n            this.onReconnect = onReconnect;\n            this.PING_INTERVAL = commons_1.TimeUtil.TimeInMillis.SECOND * 20;\n            this.internalOnError = (error) => {\n                this.logger.warn('WebSocket connection error', error);\n                if (this.onError) {\n                    this.onError(error);\n                }\n            };\n            this.internalOnMessage = (event) => {\n                this.logger.debug('Incoming message');\n                const data = buffer.bufferToString(event.data);\n                if (data === PingMessage.PONG) {\n                    this.logger.debug('Received pong from WebSocket');\n                    this.hasUnansweredPing = false;\n                }\n                else if (this.onMessage) {\n                    this.onMessage(data);\n                }\n            };\n            this.internalOnOpen = (event) => {\n                this.logger.debug('WebSocket opened');\n                if (this.socket) {\n                    this.socket.binaryType = 'arraybuffer';\n                }\n                if (this.onOpen) {\n                    this.onOpen(event);\n                }\n            };\n            this.internalOnReconnect = () => __awaiter(this, void 0, void 0, function* () {\n                this.logger.debug('Connecting to WebSocket');\n                // The ping is needed to keep the connection alive as long as possible.\n                // Otherwise the connection would be closed after 1 min of inactivity and re-established.\n                this.startPinging();\n                return this.onReconnect();\n            });\n            this.internalOnClose = (event) => {\n                this.logger.debug('WebSocket closed');\n                this.stopPinging();\n                if (this.onClose) {\n                    this.onClose(event);\n                }\n            };\n            this.sendPing = () => {\n                if (this.socket) {\n                    if (this.hasUnansweredPing) {\n                        this.logger.warn('Ping interval check failed');\n                        this.stopPinging();\n                        return;\n                    }\n                    this.hasUnansweredPing = true;\n                    this.send(PingMessage.PING);\n                }\n            };\n            this.logger = logdown_1.default('@wireapp/api-client/tcp/ReconnectingWebsocket', {\n                logger: console,\n                markdown: false,\n            });\n            if (options.pingInterval) {\n                this.PING_INTERVAL = options.pingInterval;\n            }\n            this.hasUnansweredPing = false;\n        }\n        connect() {\n            this.socket = this.getReconnectingWebsocket();\n            this.socket.onmessage = this.internalOnMessage;\n            this.socket.onerror = this.internalOnError;\n            this.socket.onopen = this.internalOnOpen;\n            this.socket.onclose = this.internalOnClose;\n        }\n        send(message) {\n            if (this.socket) {\n                this.socket.send(message);\n            }\n        }\n        startPinging() {\n            this.stopPinging();\n            this.hasUnansweredPing = false;\n            this.pingerId = setInterval(this.sendPing, this.PING_INTERVAL);\n        }\n        stopPinging() {\n            if (this.pingerId) {\n                clearInterval(this.pingerId);\n            }\n        }\n        getState() {\n            return this.socket ? this.socket.readyState : WEBSOCKET_STATE.CLOSED;\n        }\n        disconnect(reason = 'Closed by client', keepClosed = true) {\n            if (this.socket) {\n                this.logger.info(`Disconnecting from WebSocket (reason: \"${reason}\")`);\n                // TODO: 'any' can be removed once this issue is resolved:\n                // https://github.com/pladaria/reconnecting-websocket/issues/44\n                this.socket.close(CloseEventCode.NORMAL_CLOSURE, reason, {\n                    delay: 0,\n                    fastClose: true,\n                    keepClosed,\n                });\n            }\n        }\n        getReconnectingWebsocket() {\n            return new reconnecting_websocket_1.default(this.internalOnReconnect, undefined, ReconnectingWebsocket.RECONNECTING_OPTIONS);\n        }\n        setOnOpen(onOpen) {\n            this.onOpen = onOpen;\n        }\n        setOnMessage(onMessage) {\n            this.onMessage = onMessage;\n        }\n        setOnError(onError) {\n            this.onError = onError;\n        }\n        setOnClose(onClose) {\n            this.onClose = onClose;\n        }\n    }\n    ReconnectingWebsocket.RECONNECTING_OPTIONS = {\n        WebSocket: typeof window !== 'undefined' ? WebSocket : NodeWebSocket,\n        connectionTimeout: commons_1.TimeUtil.TimeInMillis.SECOND * 4,\n        debug: false,\n        maxReconnectionDelay: commons_1.TimeUtil.TimeInMillis.SECOND * 10,\n        maxRetries: Infinity,\n        minReconnectionDelay: commons_1.TimeUtil.TimeInMillis.SECOND * 4,\n        reconnectionDelayGrowFactor: 1.3,\n    };\n    return ReconnectingWebsocket;\n})();\nexports.ReconnectingWebsocket = ReconnectingWebsocket;\n//# sourceMappingURL=ReconnectingWebsocket.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nfunction __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nfunction __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\n\nvar Event = /** @class */ (function () {\r\n    function Event(type, target) {\r\n        this.target = target;\r\n        this.type = type;\r\n    }\r\n    return Event;\r\n}());\r\nvar ErrorEvent = /** @class */ (function (_super) {\r\n    __extends(ErrorEvent, _super);\r\n    function ErrorEvent(error, target) {\r\n        var _this = _super.call(this, 'error', target) || this;\r\n        _this.message = error.message;\r\n        _this.error = error;\r\n        return _this;\r\n    }\r\n    return ErrorEvent;\r\n}(Event));\r\nvar CloseEvent = /** @class */ (function (_super) {\r\n    __extends(CloseEvent, _super);\r\n    function CloseEvent(code, reason, target) {\r\n        if (code === void 0) { code = 1000; }\r\n        if (reason === void 0) { reason = ''; }\r\n        var _this = _super.call(this, 'close', target) || this;\r\n        _this.wasClean = true;\r\n        _this.code = code;\r\n        _this.reason = reason;\r\n        return _this;\r\n    }\r\n    return CloseEvent;\r\n}(Event));\n\n/*!\r\n * Reconnecting WebSocket\r\n * by Pedro Ladaria <pedro.ladaria@gmail.com>\r\n * https://github.com/pladaria/reconnecting-websocket\r\n * License MIT\r\n */\r\nvar getGlobalWebSocket = function () {\r\n    if (typeof WebSocket !== 'undefined') {\r\n        // @ts-ignore\r\n        return WebSocket;\r\n    }\r\n};\r\n/**\r\n * Returns true if given argument looks like a WebSocket class\r\n */\r\nvar isWebSocket = function (w) { return typeof w !== 'undefined' && !!w && w.CLOSING === 2; };\r\nvar DEFAULT = {\r\n    maxReconnectionDelay: 10000,\r\n    minReconnectionDelay: 1000 + Math.random() * 4000,\r\n    minUptime: 5000,\r\n    reconnectionDelayGrowFactor: 1.3,\r\n    connectionTimeout: 4000,\r\n    maxRetries: Infinity,\r\n    maxEnqueuedMessages: Infinity,\r\n    startClosed: false,\r\n    debug: false,\r\n};\r\nvar ReconnectingWebSocket = /** @class */ (function () {\r\n    function ReconnectingWebSocket(url, protocols, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this._listeners = {\r\n            error: [],\r\n            message: [],\r\n            open: [],\r\n            close: [],\r\n        };\r\n        this._retryCount = -1;\r\n        this._shouldReconnect = true;\r\n        this._connectLock = false;\r\n        this._binaryType = 'blob';\r\n        this._closeCalled = false;\r\n        this._messageQueue = [];\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to CLOSED\r\n         */\r\n        this.onclose = null;\r\n        /**\r\n         * An event listener to be called when an error occurs\r\n         */\r\n        this.onerror = null;\r\n        /**\r\n         * An event listener to be called when a message is received from the server\r\n         */\r\n        this.onmessage = null;\r\n        /**\r\n         * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\r\n         * this indicates that the connection is ready to send and receive data\r\n         */\r\n        this.onopen = null;\r\n        this._handleOpen = function (event) {\r\n            _this._debug('open event');\r\n            var _a = _this._options.minUptime, minUptime = _a === void 0 ? DEFAULT.minUptime : _a;\r\n            clearTimeout(_this._connectTimeout);\r\n            _this._uptimeTimeout = setTimeout(function () { return _this._acceptOpen(); }, minUptime);\r\n            _this._ws.binaryType = _this._binaryType;\r\n            // send enqueued messages (messages sent before websocket open event)\r\n            _this._messageQueue.forEach(function (message) { return _this._ws.send(message); });\r\n            _this._messageQueue = [];\r\n            if (_this.onopen) {\r\n                _this.onopen(event);\r\n            }\r\n            _this._listeners.open.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleMessage = function (event) {\r\n            _this._debug('message event');\r\n            if (_this.onmessage) {\r\n                _this.onmessage(event);\r\n            }\r\n            _this._listeners.message.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._handleError = function (event) {\r\n            _this._debug('error event', event.message);\r\n            _this._disconnect(undefined, event.message === 'TIMEOUT' ? 'timeout' : undefined);\r\n            if (_this.onerror) {\r\n                _this.onerror(event);\r\n            }\r\n            _this._debug('exec error listeners');\r\n            _this._listeners.error.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n            _this._connect();\r\n        };\r\n        this._handleClose = function (event) {\r\n            _this._debug('close event');\r\n            _this._clearTimeouts();\r\n            if (_this._shouldReconnect) {\r\n                _this._connect();\r\n            }\r\n            if (_this.onclose) {\r\n                _this.onclose(event);\r\n            }\r\n            _this._listeners.close.forEach(function (listener) { return _this._callEventListener(event, listener); });\r\n        };\r\n        this._url = url;\r\n        this._protocols = protocols;\r\n        this._options = options;\r\n        if (this._options.startClosed) {\r\n            this._shouldReconnect = false;\r\n        }\r\n        this._connect();\r\n    }\r\n    Object.defineProperty(ReconnectingWebSocket, \"CONNECTING\", {\r\n        get: function () {\r\n            return 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"OPEN\", {\r\n        get: function () {\r\n            return 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSING\", {\r\n        get: function () {\r\n            return 2;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket, \"CLOSED\", {\r\n        get: function () {\r\n            return 3;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CONNECTING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"OPEN\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.OPEN;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSING\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"CLOSED\", {\r\n        get: function () {\r\n            return ReconnectingWebSocket.CLOSED;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"binaryType\", {\r\n        get: function () {\r\n            return this._ws ? this._ws.binaryType : this._binaryType;\r\n        },\r\n        set: function (value) {\r\n            this._binaryType = value;\r\n            if (this._ws) {\r\n                this._ws.binaryType = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"retryCount\", {\r\n        /**\r\n         * Returns the number or connection retries\r\n         */\r\n        get: function () {\r\n            return Math.max(this._retryCount, 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"bufferedAmount\", {\r\n        /**\r\n         * The number of bytes of data that have been queued using calls to send() but not yet\r\n         * transmitted to the network. This value resets to zero once all queued data has been sent.\r\n         * This value does not reset to zero when the connection is closed; if you keep calling send(),\r\n         * this will continue to climb. Read only\r\n         */\r\n        get: function () {\r\n            var bytes = this._messageQueue.reduce(function (acc, message) {\r\n                if (typeof message === 'string') {\r\n                    acc += message.length; // not byte size\r\n                }\r\n                else if (message instanceof Blob) {\r\n                    acc += message.size;\r\n                }\r\n                else {\r\n                    acc += message.byteLength;\r\n                }\r\n                return acc;\r\n            }, 0);\r\n            return bytes + (this._ws ? this._ws.bufferedAmount : 0);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"extensions\", {\r\n        /**\r\n         * The extensions selected by the server. This is currently only the empty string or a list of\r\n         * extensions as negotiated by the connection\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.extensions : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"protocol\", {\r\n        /**\r\n         * A string indicating the name of the sub-protocol the server selected;\r\n         * this will be one of the strings specified in the protocols parameter when creating the\r\n         * WebSocket object\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.protocol : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"readyState\", {\r\n        /**\r\n         * The current state of the connection; this is one of the Ready state constants\r\n         */\r\n        get: function () {\r\n            if (this._ws) {\r\n                return this._ws.readyState;\r\n            }\r\n            return this._options.startClosed\r\n                ? ReconnectingWebSocket.CLOSED\r\n                : ReconnectingWebSocket.CONNECTING;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ReconnectingWebSocket.prototype, \"url\", {\r\n        /**\r\n         * The URL as resolved by the constructor\r\n         */\r\n        get: function () {\r\n            return this._ws ? this._ws.url : '';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt, if any. If the connection is already\r\n     * CLOSED, this method does nothing\r\n     */\r\n    ReconnectingWebSocket.prototype.close = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._closeCalled = true;\r\n        this._shouldReconnect = false;\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            this._debug('close enqueued: no ws instance');\r\n            return;\r\n        }\r\n        if (this._ws.readyState === this.CLOSED) {\r\n            this._debug('close: already closed');\r\n            return;\r\n        }\r\n        this._ws.close(code, reason);\r\n    };\r\n    /**\r\n     * Closes the WebSocket connection or connection attempt and connects again.\r\n     * Resets retry counter;\r\n     */\r\n    ReconnectingWebSocket.prototype.reconnect = function (code, reason) {\r\n        this._shouldReconnect = true;\r\n        this._closeCalled = false;\r\n        this._retryCount = -1;\r\n        if (!this._ws || this._ws.readyState === this.CLOSED) {\r\n            this._connect();\r\n        }\r\n        else {\r\n            this._disconnect(code, reason);\r\n            this._connect();\r\n        }\r\n    };\r\n    /**\r\n     * Enqueue specified data to be transmitted to the server over the WebSocket connection\r\n     */\r\n    ReconnectingWebSocket.prototype.send = function (data) {\r\n        if (this._ws && this._ws.readyState === this.OPEN) {\r\n            this._debug('send', data);\r\n            this._ws.send(data);\r\n        }\r\n        else {\r\n            var _a = this._options.maxEnqueuedMessages, maxEnqueuedMessages = _a === void 0 ? DEFAULT.maxEnqueuedMessages : _a;\r\n            if (this._messageQueue.length < maxEnqueuedMessages) {\r\n                this._debug('enqueue', data);\r\n                this._messageQueue.push(data);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Register an event handler of a specific event type\r\n     */\r\n    ReconnectingWebSocket.prototype.addEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type].push(listener);\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype.dispatchEvent = function (event) {\r\n        var e_1, _a;\r\n        var listeners = this._listeners[event.type];\r\n        if (listeners) {\r\n            try {\r\n                for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\r\n                    var listener = listeners_1_1.value;\r\n                    this._callEventListener(event, listener);\r\n                }\r\n            }\r\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n            finally {\r\n                try {\r\n                    if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\r\n                }\r\n                finally { if (e_1) throw e_1.error; }\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Removes an event listener\r\n     */\r\n    ReconnectingWebSocket.prototype.removeEventListener = function (type, listener) {\r\n        if (this._listeners[type]) {\r\n            // @ts-ignore\r\n            this._listeners[type] = this._listeners[type].filter(function (l) { return l !== listener; });\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._debug = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (this._options.debug) {\r\n            // not using spread because compiled version uses Symbols\r\n            // tslint:disable-next-line\r\n            console.log.apply(console, __spread(['RWS>'], args));\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextDelay = function () {\r\n        var _a = this._options, _b = _a.reconnectionDelayGrowFactor, reconnectionDelayGrowFactor = _b === void 0 ? DEFAULT.reconnectionDelayGrowFactor : _b, _c = _a.minReconnectionDelay, minReconnectionDelay = _c === void 0 ? DEFAULT.minReconnectionDelay : _c, _d = _a.maxReconnectionDelay, maxReconnectionDelay = _d === void 0 ? DEFAULT.maxReconnectionDelay : _d;\r\n        var delay = 0;\r\n        if (this._retryCount > 0) {\r\n            delay =\r\n                minReconnectionDelay * Math.pow(reconnectionDelayGrowFactor, this._retryCount - 1);\r\n            if (delay > maxReconnectionDelay) {\r\n                delay = maxReconnectionDelay;\r\n            }\r\n        }\r\n        this._debug('next delay', delay);\r\n        return delay;\r\n    };\r\n    ReconnectingWebSocket.prototype._wait = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            setTimeout(resolve, _this._getNextDelay());\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._getNextUrl = function (urlProvider) {\r\n        if (typeof urlProvider === 'string') {\r\n            return Promise.resolve(urlProvider);\r\n        }\r\n        if (typeof urlProvider === 'function') {\r\n            var url = urlProvider();\r\n            if (typeof url === 'string') {\r\n                return Promise.resolve(url);\r\n            }\r\n            if (!!url.then) {\r\n                return url;\r\n            }\r\n        }\r\n        throw Error('Invalid URL');\r\n    };\r\n    ReconnectingWebSocket.prototype._connect = function () {\r\n        var _this = this;\r\n        if (this._connectLock || !this._shouldReconnect) {\r\n            return;\r\n        }\r\n        this._connectLock = true;\r\n        var _a = this._options, _b = _a.maxRetries, maxRetries = _b === void 0 ? DEFAULT.maxRetries : _b, _c = _a.connectionTimeout, connectionTimeout = _c === void 0 ? DEFAULT.connectionTimeout : _c, _d = _a.WebSocket, WebSocket = _d === void 0 ? getGlobalWebSocket() : _d;\r\n        if (this._retryCount >= maxRetries) {\r\n            this._debug('max retries reached', this._retryCount, '>=', maxRetries);\r\n            return;\r\n        }\r\n        this._retryCount++;\r\n        this._debug('connect', this._retryCount);\r\n        this._removeListeners();\r\n        if (!isWebSocket(WebSocket)) {\r\n            throw Error('No valid WebSocket class provided');\r\n        }\r\n        this._wait()\r\n            .then(function () { return _this._getNextUrl(_this._url); })\r\n            .then(function (url) {\r\n            // close could be called before creating the ws\r\n            if (_this._closeCalled) {\r\n                return;\r\n            }\r\n            _this._debug('connect', { url: url, protocols: _this._protocols });\r\n            _this._ws = _this._protocols\r\n                ? new WebSocket(url, _this._protocols)\r\n                : new WebSocket(url);\r\n            _this._ws.binaryType = _this._binaryType;\r\n            _this._connectLock = false;\r\n            _this._addListeners();\r\n            _this._connectTimeout = setTimeout(function () { return _this._handleTimeout(); }, connectionTimeout);\r\n        });\r\n    };\r\n    ReconnectingWebSocket.prototype._handleTimeout = function () {\r\n        this._debug('timeout event');\r\n        this._handleError(new ErrorEvent(Error('TIMEOUT'), this));\r\n    };\r\n    ReconnectingWebSocket.prototype._disconnect = function (code, reason) {\r\n        if (code === void 0) { code = 1000; }\r\n        this._clearTimeouts();\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._removeListeners();\r\n        try {\r\n            this._ws.close(code, reason);\r\n            this._handleClose(new CloseEvent(code, reason, this));\r\n        }\r\n        catch (error) {\r\n            // ignore\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._acceptOpen = function () {\r\n        this._debug('accept open');\r\n        this._retryCount = 0;\r\n    };\r\n    ReconnectingWebSocket.prototype._callEventListener = function (event, listener) {\r\n        if ('handleEvent' in listener) {\r\n            // @ts-ignore\r\n            listener.handleEvent(event);\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            listener(event);\r\n        }\r\n    };\r\n    ReconnectingWebSocket.prototype._removeListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('removeListeners');\r\n        this._ws.removeEventListener('open', this._handleOpen);\r\n        this._ws.removeEventListener('close', this._handleClose);\r\n        this._ws.removeEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.removeEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._addListeners = function () {\r\n        if (!this._ws) {\r\n            return;\r\n        }\r\n        this._debug('addListeners');\r\n        this._ws.addEventListener('open', this._handleOpen);\r\n        this._ws.addEventListener('close', this._handleClose);\r\n        this._ws.addEventListener('message', this._handleMessage);\r\n        // @ts-ignore\r\n        this._ws.addEventListener('error', this._handleError);\r\n    };\r\n    ReconnectingWebSocket.prototype._clearTimeouts = function () {\r\n        clearTimeout(this._connectTimeout);\r\n        clearTimeout(this._uptimeTimeout);\r\n    };\r\n    return ReconnectingWebSocket;\r\n}());\n\nexport default ReconnectingWebSocket;\n","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n"],"sourceRoot":""}