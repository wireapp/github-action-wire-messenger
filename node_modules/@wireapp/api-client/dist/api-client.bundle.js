/*! @wireapp/api-client v11.21.2 */
var wireWebApiClient=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(64),t),i(n(65),t),i(n(28),t),i(n(210),t),i(n(211),t),i(n(212),t),i(n(216),t),i(n(217),t),i(n(218),t),i(n(219),t)},function(e,t,n){"use strict";var r=n(43),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},,,,function(module,exports,__webpack_require__){var e;window,e=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r,i=n(1)(),o=n(3),s=n(5),a=n(8)();i.prefixColors=["#F2777A","#F99157","#FFCC66","#99CC99","#66CCCC","#6699CC","#CC99CC"],i._setPrefixRegExps=function(){try{a.localStorage&&"string"==typeof a.localStorage.getItem("debug")&&(i._prefixRegExps=[],a.localStorage.getItem("debug").split(",").forEach((function(e){var t="enable";"-"===(e=e.trim())[0]&&(e=e.substr(1),t="disable");var n=i._prepareRegExpForPrefixSearch(e);i._prefixRegExps.push({type:t,regExp:n})})))}catch(e){}},i._getNextPrefixColor=(r=0,function(){return r+=1,i.prefixColors[r%i.prefixColors.length]}),i.prototype._getDecoratedPrefix=function(){var e=[];return s()?(e.push("%c"+this.opts.prefix+"%c "),e.push("color:"+this.opts.prefixColor+"; font-weight:bold;","")):e.push("["+this.opts.prefix+"] "),e},i.prototype._prepareOutput=function(e){var t,n=this._getDecoratedPrefix();return"string"==typeof e[0]?this.opts.markdown&&s()?(t=o.parse(e[0]),n[0]=n[0]+t.text,n=n.concat(t.styles)):n[0]=n[0]+e[0]:n.push(e[0]),1<e.length&&(n=n.concat(e.slice(1))),n},i._setPrefixRegExps(),e.exports=i},function(e,t,n){var r=n(2);e.exports=function(){function e(t,n){return this instanceof e?e._isPrefixAlreadyInUse(t)?e._getInstanceByPrefix(t):(this.opts=e._normalizeOpts(t,n),this.state=e._getInitialState(this.opts),e._decorateLoggerMethods(this),e._instances.push(this),this):new e(t,n)}return e.transports=[],e._instances=[],e._prefixRegExps=[],e._prepareRegExpForPrefixSearch=function(e){return new RegExp("^"+e.replace(/\*/g,".*?")+"$")},e._isPrefixAlreadyInUse=function(t){return e._instances.some((function(e){return e.opts.prefix===t}))},e._getInstanceByPrefix=function(t){return e._instances.filter((function(e){return e.opts.prefix===t}))[0]},e._normalizeOpts=function(t,n){if("string"!=typeof t)throw new TypeError("prefix must be a string");var r=void 0===(n=n||{}).markdown||Boolean(n.markdown),i=n.prefixColor||e._getNextPrefixColor();return{logger:n.logger||console,markdown:r,plaintext:Boolean(n.plaintext),prefix:t,prefixColor:i}},e._getInitialState=function(t){return{isEnabled:e._getEnableState(t)}},e._getEnableState=function(t){var n=!1;return e._prefixRegExps.forEach((function(e){"enable"===e.type&&e.regExp.test(t.prefix)?n=!0:"disable"===e.type&&e.regExp.test(t.prefix)&&(n=!1)})),n},e._decorateLoggerMethods=function(t){var n=t.opts.logger,i=Object.keys(n).filter((function(e){return"function"==typeof n[e]}));0===i.length&&(i=["debug","log","warn","error","info"]),i.forEach((function(i){t[i]=function(){var t=r(arguments),o=this.opts.prefix;if(e.transports.length){var s="["+o+"] "+t.filter((function(e){return"object"!=typeof e})).join(" ");e.transports.forEach(function(e){e({state:this.state,instance:o,level:i,args:t,msg:s})}.bind(this))}if(this.state.isEnabled){var a=this._prepareOutput(t,i);n[i].apply(n,a)}}}))},e}},function(e,t){e.exports=function(e){return Array.prototype.slice.call(e,0)}},function(e,t,n){var r=[];function i(e){return function(t){return r.push(e),r.push(""),"%c"+t+"%c"}}var o=new(n(4))({renderer:{"*":i("font-weight:bold;"),_:i("font-style:italic;"),"`":i("background-color:rgba(255,204,102, 0.1);color:#FFCC66;padding:2px 5px;border-radius:2px;")}});e.exports={parse:function(e){var t={text:o.parse(e),styles:[].concat(r)};return r.length=0,t}}},function(e,t){var n=/([_*`\\]|[^_*`\\]+)/g,r=/[_*`]/;function i(e){this.renderer=e.renderer}function o(e){return r.test(e)}i.prototype.parse=function(e){if(""===e)return"";var t,r,i,s=e.match(n),a=this.renderer,c="",u=[],d={},l=0;function f(e){for(var n="";t&&t.tag!==e;)n=t.tag+t.text+n,d[t.tag]=!1,t=u.pop();return n}for(;i=s[l];){if(r="",l++,o(i))if(d[i])r=f(i),r=a[t.tag](t.text+r),d[i]=!1,t=u.pop();else{var h="";if("`"===i){var p=s.indexOf(i,l);-1!==p&&(c+=f(),h=s.slice(l,p).join(""),l=p)}t&&u.push(t),d[i]=!0,t={tag:i,text:h}}else if("\\"===(r=i)){var E=s[l];(o(E)||"\\"===E)&&(r=E,l++)}r&&(t?t.text+=r:c+=r,r="")}return c+f()},e.exports=i},function(e,t,n){var r=n(6),i=n(7);e.exports=function(){return r()||i()}},function(e,t){e.exports=function(){try{return"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent)}catch(e){return!1}}},function(e,t){e.exports=function(){try{return/firefox\/(\d+)/i.test(navigator.userAgent)}catch(e){return!1}}},function(e,t,n){(function(t){function n(e,t){return"object"==typeof e&&e.self===e&&e||"object"==typeof t&&t.global===t&&t||this}e.exports=n.bind(this,self,t),e.exports.getGlobal=n}).call(this,n(9))},function(ob,pb){var qb;qb=function(){return this}();try{qb=qb||Function("return this")()||eval("this")}catch(ob){"object"==typeof window&&(qb=window)}ob.exports=qb}])},module.exports=e()},,function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function l(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):E(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function E(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var u=c.length,d=E(c,u);for(n=0;n<u;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.CommonConfig=n(33),i(n(79),t),i(n(84),t)},,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_TABLE_NAME=t.AUTH_COOKIE_KEY=t.AUTH_ACCESS_TOKEN_KEY=void 0,t.AUTH_ACCESS_TOKEN_KEY="access-token",t.AUTH_COOKIE_KEY="cookie",t.AUTH_TABLE_NAME="authentication",i(n(66),t),i(n(67),t),i(n(68),t),i(n(31),t),i(n(76),t),i(n(77),t),i(n(78),t),i(n(32),t),i(n(97),t),i(n(98),t),i(n(99),t),i(n(100),t),i(n(101),t),i(n(102),t)},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],d=!1,l=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):l=-1,u.length&&h())}function h(){if(!d){var e=a(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function E(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||d||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=E,i.addListener=E,i.once=E,i.off=E,i.removeListener=E,i.removeAllListeners=E,i.emit=E,i.prependListener=E,i.prependOnceListener=E,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TeamAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}postTeam(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.TEAMS}`};return(yield this.client.sendJSON(n)).headers.location}))}putTeam(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.TEAMS}/${t}`};yield this.client.sendJSON(r)}))}getTeams(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.TEAMS}`};return(yield this.client.sendJSON(t)).data}))}getTeam(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}`};return(yield this.client.sendJSON(n)).data}))}deleteTeam(t,n){return r(this,void 0,void 0,(function*(){const r={data:{password:n},method:"delete",url:`${e.URL.TEAMS}/${t}`};yield this.client.sendJSON(r)}))}}return e.URL={TEAMS:"/teams"},e})();t.TeamAPI=i},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(177),t),i(n(178),t),i(n(179),t),i(n(180),t),i(n(181),t),i(n(182),t),i(n(183),t),i(n(184),t),i(n(185),t),i(n(186),t),i(n(187),t),i(n(188),t),i(n(189),t),i(n(206),t),i(n(51),t),i(n(207),t),i(n(208),t),i(n(209),t)},function(e,t,n){e.exports=n(190)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Priority=void 0,function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=5]="MEDIUM",e[e.HIGH=9]="HIGH"}(t.Priority||(t.Priority={}))},,,,,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.APIClient=void 0;const o=n(9),s=i(n(7)),a=n(63),c=n(221),u=n(12),d=n(32),l=n(226),f=n(29),h=n(228),p=n(36),E=n(235),v=n(237),O=n(2),_=n(242),S=n(53),y=n(246),m=n(59),g=n(39),b=n(16),{version:R}=n(259);var N;!function(e){e.ACCESS_TOKEN_REFRESH="APIClient.TOPIC.ACCESS_TOKEN_REFRESH",e.COOKIE_REFRESH="APIClient.TOPIC.COOKIE_REFRESH",e.ON_LOGOUT="APIClient.TOPIC.ON_LOGOUT"}(N||(N={}));const T={urls:E.Backend.PRODUCTION};let I=(()=>{class e extends o.EventEmitter{constructor(t){super(),this.config=Object.assign(Object.assign({},T),t),this.accessTokenStore=new u.AccessTokenStore,this.accessTokenStore.on(u.AccessTokenStore.TOPIC.ACCESS_TOKEN_REFRESH,t=>this.emit(e.TOPIC.ACCESS_TOKEN_REFRESH,t)),d.CookieStore.emitter.on(d.CookieStore.TOPIC.COOKIE_REFRESH,t=>this.emit(e.TOPIC.COOKIE_REFRESH,t)),this.logger=s.default("@wireapp/api-client/Client",{logger:console,markdown:!1});const n=new O.HttpClient(this.config.urls.rest,this.accessTokenStore),i=new m.WebSocketClient(this.config.urls.ws,n);i.on(m.WebSocketClient.TOPIC.ON_INVALID_TOKEN,t=>r(this,void 0,void 0,(function*(){this.logger.warn(`Cannot renew access token because cookie is invalid: ${t.message}`,t),yield this.logout(),this.emit(e.TOPIC.ON_LOGOUT,t)}))),this.transport={http:n,ws:i},this.account={api:new a.AccountAPI(this.transport.http)},this.asset={api:new c.AssetAPI(this.transport.http)},this.auth={api:new u.AuthAPI(this.transport.http)},this.broadcast={api:new l.BroadcastAPI(this.transport.http)},this.client={api:new f.ClientAPI(this.transport.http)},this.connection={api:new h.ConnectionAPI(this.transport.http)},this.conversation={api:new p.ConversationAPI(this.transport.http)},this.giphy={api:new v.GiphyAPI(this.transport.http)},this.notification={api:new _.NotificationAPI(this.transport.http)},this.self={api:new y.SelfAPI(this.transport.http)},this.teams={conversation:{api:new g.TeamConversationAPI(this.transport.http)},feature:{api:new g.FeatureAPI(this.transport.http)},identityProvider:{api:new g.IdentityProviderAPI(this.transport.http)},invitation:{api:new g.TeamInvitationAPI(this.transport.http)},legalhold:{api:new g.LegalHoldAPI(this.transport.http)},member:{api:new g.MemberAPI(this.transport.http)},payment:{api:new g.PaymentAPI(this.transport.http)},property:{api:new g.PropertyAPI(this.transport.http)},service:{api:new g.ServiceAPI(this.transport.http)},team:{api:new g.TeamAPI(this.transport.http)}},this.user={api:new b.UserAPI(this.transport.http)}}init(e=f.ClientType.NONE,t){return r(this,void 0,void 0,(function*(){d.CookieStore.setCookie(t);const n=yield this.transport.http.refreshAccessToken(),r=this.createContext(n.user,e);return yield this.accessTokenStore.updateToken(n),r}))}login(e){return r(this,void 0,void 0,(function*(){this.context&&(yield this.logout({ignoreError:!0}));const t=yield this.auth.api.postLogin(e);return this.logger.info(`Saved initial access token. It will expire in "${t.expires_in}" seconds.`,S.ObfuscationUtil.obfuscateAccessToken(t)),yield this.accessTokenStore.updateToken(t),this.createContext(t.user,e.clientType)}))}register(e,t=f.ClientType.PERMANENT){return r(this,void 0,void 0,(function*(){this.context&&(yield this.logout({ignoreError:!0}));const n=yield this.auth.api.postRegister(e);return yield this.createContext(n.id,t),this.init(t,d.CookieStore.getCookie())}))}logout(e={ignoreError:!1}){return r(this,void 0,void 0,(function*(){try{this.disconnect("Closed by client logout"),yield this.auth.api.postLogout()}catch(t){if(!0!==e.ignoreError)throw t;this.logger.error(t)}finally{d.CookieStore.deleteCookie()}yield this.accessTokenStore.delete(),delete this.context}))}connect(e){var t;return this.transport.ws.connect(null===(t=this.context)||void 0===t?void 0:t.clientId,e)}createContext(e,t,n){return this.context=this.context?Object.assign(Object.assign({},this.context),{clientId:n,clientType:t}):{clientId:n,clientType:t,userId:e},this.context}disconnect(e){this.transport.ws.disconnect(e)}get clientId(){var e;return(null===(e=this.context)||void 0===e?void 0:e.clientId)||void 0}get userId(){var e;return(null===(e=this.context)||void 0===e?void 0:e.userId)||void 0}get validatedUserId(){if(this.userId)return this.userId;throw new Error("No valid user ID.")}get validatedClientId(){if(this.clientId)return this.clientId;throw new Error("No valid client ID.")}}return e.BACKEND=E.Backend,e.TOPIC=N,e.VERSION=R,e})();t.APIClient=I},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyntheticErrorLabel=t.BackendErrorLabel=void 0,function(e){e.ACCESS_DENIED="access-denied",e.BAD_REQUEST="bad-request",e.CLIENT_ERROR="client-error",e.INSUFFICIENT_PERMISSIONS="insufficient-permissions",e.INTERNAL_ERROR="internal-error",e.INVALID_OPERATION="invalid-op",e.INVALID_PAYLOAD="invalid-payload",e.INVALID_PERMISSIONS="invalid-permissions",e.NOT_FOUND="not-found",e.OPERATION_DENIED="operation-denied",e.QUEUE_FULL="queue-full",e.UNAUTHORIZED="unauthorized",e.BLACKLISTED_EMAIL="blacklisted-email",e.BLACKLISTED_PHONE="blacklisted-phone",e.INVALID_CODE="invalid-code",e.INVALID_CREDENTIALS="invalid-credentials",e.INVALID_EMAIL="invalid-email",e.INVALID_INVITATION_CODE="invalid-invitation-code",e.INVALID_PHONE="invalid-phone",e.PHONE_EXISTS="phone-exists",e.KEY_EXISTS="key-exists",e.MISSING_AUTH="missing-auth",e.PASSWORD_EXISTS="password-exists",e.PENDING_ACTIVATION="pending-activation",e.PENDING_LOGIN="pending-login",e.SUSPENDED_ACCOUNT="suspended",e.TOO_MANY_CLIENTS="too-many-clients",e.UNKNOWN_CLIENT="unknown-client",e.TOO_MANY_MEMBERS="too-many-members",e.NO_CONVERSATION="no-conversation",e.NO_CONVERSATION_CODE="no-conversation-code",e.NOT_CONNECTED="not-connected",e.HANDLE_EXISTS="handle-exists",e.INVALID_HANDLE="invalid-handle",e.NO_OTHER_OWNER="no-other-owner",e.NO_SELF_DELETE_FOR_TEAM_OWNER="no-self-delete-for-team-owner",e.NO_TEAM="no-team",e.NO_TEAM_MEMBER="no-team-member",e.TOO_MANY_TEAM_MEMBERS="too-many-team-members",e.INVITE_EMAIL_EXISTS="email-exists",e.BINDING_EXISTS="binding-exists",e.BINDING_TEAM="binding-team",e.NON_BINDING_TEAM="non-binding-team",e.NON_BINDING_TEAM_MEMBERS="non-binding-team-members",e.INVALID_TEAM_STATUS_UPDATE="invalid-team-status-update",e.NO_MANAGED_CONVERSATION="no-managed-team-conv",e.NO_ADD_TO_MANAGED="no-add-to-managed",e.EXPIRED_CARD="expired_card",e.CUSTOM_BACKEND_NOT_FOUND="custom-backend-not-found"}(t.BackendErrorLabel||(t.BackendErrorLabel={})),function(e){e.ALREADY_INVITED="already-invited",e.FORBIDDEN_PHONE_NUMBER="forbidden-phone-number",e.HANDLE_TOO_SHORT="handle-too-short",e.INVALID_PHONE_NUMBER="invalid-phone-number",e.REQUEST_CANCELLED="request-cancelled",e.SERVICE_NOT_FOUND="service-not-found",e.SSO_GENERIC_ERROR="generic-sso-error",e.SSO_NO_SSO_CODE="no-sso-code-found",e.SSO_USER_CANCELLED_ERROR="user-cancelled-sso-error",e.UNKNOWN="unknown-error"}(t.SyntheticErrorLabel||(t.SyntheticErrorLabel={}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(69),t),i(n(70),t),i(n(71),t),i(n(72),t),i(n(73),t),i(n(74),t),i(n(75),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendRequestWithCookie=t.retrieveCookie=void 0,t.retrieveCookie=e=>Promise.resolve(e.data),t.sendRequestWithCookie=(e,t)=>e._sendRequest(t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PasswordExistsError=t.ForbiddenPhoneNumberError=t.InvalidPhoneNumberError=t.MissingCookieError=t.InvalidTokenError=t.TokenExpiredError=t.IdentifierExistsError=t.SuspendedAccountError=t.InvalidCredentialsError=t.LoginTooFrequentError=t.AuthenticationError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="AuthenticationError"}}t.AuthenticationError=i;t.LoginTooFrequentError=class extends i{constructor(e,t=r.BackendErrorLabel.CLIENT_ERROR,n=r.StatusCode.TOO_MANY_REQUESTS){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="LoginTooFrequentError"}};t.InvalidCredentialsError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_CREDENTIALS,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvalidCredentialsError"}};t.SuspendedAccountError=class extends i{constructor(e,t=r.BackendErrorLabel.SUSPENDED_ACCOUNT,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="SuspendedAccountError"}};t.IdentifierExistsError=class extends i{constructor(e,t=r.BackendErrorLabel.KEY_EXISTS,n=r.StatusCode.CONFLICT){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="IdentifierExistsError"}};t.TokenExpiredError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_CREDENTIALS,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="TokenExpiredError"}};t.InvalidTokenError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_CREDENTIALS,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvalidTokenError"}};t.MissingCookieError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_CREDENTIALS,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="MissingCookieError"}};t.InvalidPhoneNumberError=class extends i{constructor(e,t=r.SyntheticErrorLabel.INVALID_PHONE_NUMBER,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvalidPhoneNumberError"}};t.ForbiddenPhoneNumberError=class extends i{constructor(e,t=r.SyntheticErrorLabel.FORBIDDEN_PHONE_NUMBER,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ForbiddenPhoneNumberError"}};t.PasswordExistsError=class extends i{constructor(e,t=r.BackendErrorLabel.PASSWORD_EXISTS,n=r.StatusCode.UNAUTHORIZED){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="PasswordExistsError"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CookieStore=void 0;const r=n(10),i=n(9);var o;!function(e){e.COOKIE_REFRESH="CookieStore.TOPIC.COOKIE_REFRESH"}(o||(o={}));let s=(()=>{class e{static getCookie(){return e.cookie}static emit(){r.Runtime.isNode()&&e.emitter.emit(e.TOPIC.COOKIE_REFRESH,e.cookie)}static setCookie(t){e.cookie=t,e.emit()}static deleteCookie(){e.cookie=void 0,e.emit()}}return e.emitter=new i.EventEmitter,e.TOPIC=o,e})();t.CookieStore=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TEAMS_SUPPORTED_LANGUAGES=t.TEAMS_DEFAULT_LANGUAGE=t.WEBSITE_SUPPORTED_LANGUAGES=t.WEBSITE_DEFAULT_LANGUAGE=t.ACCOUNT_PAGES_SUPPORTED_LANGUAGES=t.ACCOUNT_PAGES_DEFAULT_LANGUAGE=t.LANGUAGE_QUERY_PARAMETER=t.WEBAPP_SUPPORTED_BROWSERS=t.BROWSER=void 0,t.BROWSER={CHROME:"chrome",CHROMIUM:"chromium",EDGE:"edge",ELECTRON:"electron",FIREFOX:"firefox",IE:"ie",MS_EDGE:"microsoft edge",OPERA:"opera",SAFARI:"safari"},t.WEBAPP_SUPPORTED_BROWSERS={[t.BROWSER.CHROME]:{major:56,minor:0},[t.BROWSER.CHROMIUM]:{major:56,minor:0},[t.BROWSER.FIREFOX]:{major:60,minor:0},[t.BROWSER.EDGE]:{major:15,minor:0},[t.BROWSER.MS_EDGE]:{major:15,minor:0},[t.BROWSER.ELECTRON]:{major:1,minor:6},[t.BROWSER.OPERA]:{major:43,minor:0}},t.LANGUAGE_QUERY_PARAMETER="hl",t.ACCOUNT_PAGES_DEFAULT_LANGUAGE="en-US",t.ACCOUNT_PAGES_SUPPORTED_LANGUAGES=[t.ACCOUNT_PAGES_DEFAULT_LANGUAGE,"de-DE"],t.WEBSITE_DEFAULT_LANGUAGE="en",t.WEBSITE_SUPPORTED_LANGUAGES=[t.WEBSITE_DEFAULT_LANGUAGE,"de"],t.TEAMS_DEFAULT_LANGUAGE="en",t.TEAMS_SUPPORTED_LANGUAGES=[t.TEAMS_DEFAULT_LANGUAGE,"de"]},function(e,t,n){"use strict";function r(e){return Math.floor(Math.random()*(e+1))}Object.defineProperty(t,"__esModule",{value:!0}),t.randomInt=t.randomArrayElement=void 0,t.randomArrayElement=function(e){return e[r(e.length-1)]},t.randomInt=r},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(103),t),i(n(104),t),i(n(105),t),i(n(107),t),i(n(108),t),i(n(109),t),i(n(110),t),i(n(111),t),i(n(38),t),i(n(112),t),i(n(113),t),i(n(114),t),i(n(115),t),i(n(116),t),i(n(117),t),i(n(118),t),i(n(119),t),i(n(120),t),i(n(121),t)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(106),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultConversationRoleName=void 0,function(e){e.WIRE_ADMIN="wire_admin",e.WIRE_MEMBER="wire_member"}(t.DefaultConversationRoleName||(t.DefaultConversationRoleName={}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(122);Object.defineProperty(t,"TeamInvitationAPI",{enumerable:!0,get:function(){return o.TeamInvitationAPI}});var s=n(132);Object.defineProperty(t,"LegalHoldAPI",{enumerable:!0,get:function(){return s.LegalHoldAPI}});var a=n(137);Object.defineProperty(t,"PropertyAPI",{enumerable:!0,get:function(){return a.PropertyAPI}});var c=n(140);Object.defineProperty(t,"MemberAPI",{enumerable:!0,get:function(){return c.MemberAPI}}),Object.defineProperty(t,"Permissions",{enumerable:!0,get:function(){return c.Permissions}}),Object.defineProperty(t,"Role",{enumerable:!0,get:function(){return c.Role}});var u=n(40);Object.defineProperty(t,"TeamAPI",{enumerable:!0,get:function(){return u.TeamAPI}});var d=n(146);Object.defineProperty(t,"PaymentAPI",{enumerable:!0,get:function(){return d.PaymentAPI}});var l=n(159);Object.defineProperty(t,"ServiceAPI",{enumerable:!0,get:function(){return l.ServiceAPI}});var f=n(165);Object.defineProperty(t,"TeamError",{enumerable:!0,get:function(){return f.TeamError}}),Object.defineProperty(t,"InviteEmailInUseError",{enumerable:!0,get:function(){return f.InviteEmailInUseError}}),Object.defineProperty(t,"InvalidInvitationCodeError",{enumerable:!0,get:function(){return f.InvalidInvitationCodeError}}),Object.defineProperty(t,"ServiceNotFoundError",{enumerable:!0,get:function(){return f.ServiceNotFoundError}}),i(n(166),t),i(n(170),t),i(n(174),t)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(125),t),i(n(15),t),i(n(126),t),i(n(127),t),i(n(128),t),i(n(129),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationPhoneExistsError=t.InvitationEmailExistsError=t.InvitationInvalidPhoneError=t.InvitationInvalidEmailError=t.InvitationError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvitationError"}}t.InvitationError=i;t.InvitationInvalidEmailError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_EMAIL,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvitationInvalidEmailError"}};t.InvitationInvalidPhoneError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_PHONE,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvitationInvalidPhoneError"}};t.InvitationEmailExistsError=class extends i{constructor(e,t=r.BackendErrorLabel.INVITE_EMAIL_EXISTS,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvitationEmailExistsError"}};t.InvitationPhoneExistsError=class extends i{constructor(e,t=r.BackendErrorLabel.PHONE_EXISTS,n=r.StatusCode.CONFLICT){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvitationPhoneExistsError"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combinePermissions=t.hasPermissions=t.Permissions=void 0,function(e){e[e.CREATE_CONVERSATION=1]="CREATE_CONVERSATION",e[e.DELETE_CONVERSATION=2]="DELETE_CONVERSATION",e[e.ADD_TEAM_MEMBER=4]="ADD_TEAM_MEMBER",e[e.REMOVE_TEAM_MEMBER=8]="REMOVE_TEAM_MEMBER",e[e.ADD_CONVERSATION_MEMBER=16]="ADD_CONVERSATION_MEMBER",e[e.REMOVE_CONVERSATION_MEMBER=32]="REMOVE_CONVERSATION_MEMBER",e[e.GET_BILLING=64]="GET_BILLING",e[e.SET_BILLING=128]="SET_BILLING",e[e.SET_TEAM_DATA=256]="SET_TEAM_DATA",e[e.GET_MEMBER_PERMISSIONS=512]="GET_MEMBER_PERMISSIONS",e[e.GET_TEAM_CONVERSATIONS=1024]="GET_TEAM_CONVERSATIONS",e[e.DELETE_TEAM=2048]="DELETE_TEAM",e[e.SET_MEMBER_PERMISSIONS=4096]="SET_MEMBER_PERMISSIONS"}(t.Permissions||(t.Permissions={})),t.hasPermissions=(e,t)=>{return Number.isSafeInteger(e)&&e>0&&(e&t)===t},t.combinePermissions=e=>e.reduce((e,t)=>e|t,0)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(3);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(3),i=n(195),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:("undefined"!=typeof XMLHttpRequest?a=n(47):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(a=n(47)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(o)})),e.exports=c}).call(this,n(14))},function(e,t,n){"use strict";var r=n(3),i=n(196),o=n(44),s=n(198),a=n(201),c=n(202),u=n(48);e.exports=function(e){return new Promise((function(t,d){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var p=e.auth.username||"",E=e.auth.password||"";f.Authorization="Basic "+btoa(p+":"+E)}var v=s(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,d,r),h=null}},h.onabort=function(){h&&(d(u("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){d(u("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),d(u(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var O=n(203),_=(e.withCredentials||c(v))&&e.xsrfCookieName?O.read(e.xsrfCookieName):void 0;_&&(f[e.xsrfHeaderName]=_)}if("setRequestHeader"in h&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),d(e),h=null)})),void 0===l&&(l=null),h.send(l)}))}},function(e,t,n){"use strict";var r=n(197);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){void 0!==t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):void 0!==t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):void 0!==e[i]&&(n[i]=e[i])})),r.forEach(s,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var a=i.concat(o).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return r.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestCancellationError=t.UnconnectedUserError=t.UserIsUnknownError=t.UserError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="UserError"}}t.UserError=i;t.UserIsUnknownError=class extends i{constructor(e,t=r.BackendErrorLabel.CLIENT_ERROR,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="UserIsUnknownError"}};t.UnconnectedUserError=class extends i{constructor(e,t=r.BackendErrorLabel.NOT_CONNECTED,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="UnconnectedUserError"}};t.RequestCancellationError=class extends i{constructor(e,t=r.SyntheticErrorLabel.REQUEST_CANCELLED,n=r.StatusCode.UNKNOWN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="RequestCancellationError"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;const r=n(18);t.Item=class{constructor(){this.fn=()=>{},this.priority=r.Priority.MEDIUM,this.reject=()=>{},this.resolve=()=>{},this.retry=1/0,this.timestamp=0}toString(){return`\n    label=${this.label},\n    priority=${this.priority},\n    timestamp=${this.timestamp},\n    retry=${this.retry},\n    fn=${this.fn.toString().replace(/(\r\n|\n|\r|\s+)/gm," ")},`}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(215),t)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.concatToBuffer=t.base64MD5FromBuffer=t.bufferToString=void 0;const s=o(n(223));t.bufferToString=e=>{let t="";const n=new Uint8Array(e);for(let e=0;e<n.length;e++)t+=String.fromCharCode(n[e]);return t},t.base64MD5FromBuffer=e=>window.btoa(s.ArrayBuffer.hash(e,!0)),t.concatToBuffer=(...e)=>new Blob(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssetRetentionPolicy=void 0,function(e){e.ETERNAL="eternal",e.ETERNAL_INFREQUENT_ACCESS="eternal-infrequent_access",e.EXPIRING="expiring",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(t.AssetRetentionPolicy||(t.AssetRetentionPolicy={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidToken=t.isValidUUID=void 0,t.isValidUUID=e=>/^[A-Za-z0-9-]+$/.test(e),t.isValidToken=e=>/^[A-Za-z0-9+/=_\-]+$/.test(e)},,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(255),t)},,,,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AccountAPI=void 0;const i=n(2),o=n(220);let s=(()=>{class e{constructor(e){this.client=e}postDeleteAccount(t,n){return r(this,void 0,void 0,(function*(){const r={data:{code:n,key:t},method:"post",url:e.URL.DELETE};yield this.client.sendJSON(r)}))}postPasswordReset(t){return r(this,void 0,void 0,(function*(){const n={data:{email:t},method:"post",url:e.URL.PASSWORD_RESET};yield this.client.sendJSON(n)}))}postBotPasswordReset(t){return r(this,void 0,void 0,(function*(){const n={data:{email:t},method:"post",url:`${e.URL.PROVIDER}${e.URL.PASSWORD_RESET}`};yield this.client.sendJSON(n)}))}postPasswordResetComplete(t,n,i){return r(this,void 0,void 0,(function*(){const r={data:{code:i,key:n,password:t},method:"post",url:`${e.URL.PASSWORD_RESET}/${e.URL.PASSWORD_RESET_COMPLETE}`};yield this.client.sendJSON(r)}))}postBotPasswordResetComplete(t,n,i){return r(this,void 0,void 0,(function*(){const r={data:{code:i,key:n,password:t},method:"post",url:`${e.URL.PROVIDER}${e.URL.PASSWORD_RESET}/${e.URL.PASSWORD_RESET_COMPLETE}`};yield this.client.sendJSON(r)}))}getVerifyEmail(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{code:n,key:t},url:e.URL.ACTIVATE};yield this.client.sendJSON(r)}))}getVerifyBot(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{code:n,key:t},url:`${e.URL.PROVIDER}${e.URL.ACTIVATE}`};yield this.client.sendJSON(r)}))}getDomain(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CUSTOM_BACKEND}/${e.URL.BY_DOMAIN}/${t}`};try{return(yield this.client.sendJSON(n)).data}catch(e){switch(e.label){case i.BackendErrorLabel.CUSTOM_BACKEND_NOT_FOUND:throw new o.CustomBackendNotFoundError(e.message)}throw e}}))}getSSOSettings(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.SSO}/${e.URL.SETTINGS}`};return(yield this.client.sendJSON(t)).data}))}getCallConfig(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:{limit:t},url:`${e.URL.CALLS}/${e.URL.CALLS_CONFIG}/${e.URL.CALLS_CONFIG_V2}`};return(yield this.client.sendJSON(n)).data}))}getConfig(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.BACKEND_CONFIG}`};return(yield this.client.sendJSON(t)).data}))}}return e.URL={ACTIVATE:"/activate",BACKEND_CONFIG:"/config.json",BY_DOMAIN:"by-domain",CALLS:"/calls",CALLS_CONFIG:"config",CALLS_CONFIG_V2:"v2",CUSTOM_BACKEND:"/custom-backend",DELETE:"/delete",PASSWORD_RESET:"/password-reset",PASSWORD_RESET_COMPLETE:"complete",PROVIDER:"/provider",SETTINGS:"settings",SSO:"/sso"},e})();t.AccountAPI=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackendError=void 0;const r=n(2),i=n(28);class o extends Error{constructor(e,t=i.SyntheticErrorLabel.UNKNOWN,n=r.StatusCode.UNKNOWN){super(e),this.code=n,this.label=t,this.message=e,Object.setPrototypeOf(this,new.target.prototype)}}t.BackendError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackendErrorMapper=void 0;const r=n(12),i=n(36),o=n(39),s=n(16),a=n(2);class c{static get ERRORS(){return{[a.StatusCode.BAD_REQUEST]:{[a.BackendErrorLabel.CLIENT_ERROR]:{"Error in $: Failed reading: satisfy":new a.BackendError("Wrong set of parameters."),"[path] 'cnv' invalid: Failed reading: Invalid UUID":new i.ConversationIsUnknownError("Conversation ID is unknown."),"[path] 'usr' invalid: Failed reading: Invalid UUID":new s.UserIsUnknownError("User ID is unknown.")},[a.BackendErrorLabel.INVALID_INVITATION_CODE]:{"Invalid invitation code.":new o.InvalidInvitationCodeError("Invalid invitation code.")}},[a.StatusCode.FORBIDDEN]:{[a.BackendErrorLabel.INVALID_CREDENTIALS]:{"Authentication failed.":new r.InvalidCredentialsError("Authentication failed because of invalid credentials."),"Invalid token":new r.InvalidTokenError("Authentication failed because the token is invalid."),"Missing cookie":new r.MissingCookieError("Authentication failed because the cookie is missing."),"Token expired":new r.TokenExpiredError("Authentication failed because the token is expired.")},[a.BackendErrorLabel.NOT_CONNECTED]:{"Users are not connected":new s.UnconnectedUserError("Users are not connected.")},[a.BackendErrorLabel.INVALID_OPERATION]:{"invalid operation for 1:1 conversations":new i.ConversationOperationError("Cannot leave 1:1 conversation.")},[a.BackendErrorLabel.SUSPENDED_ACCOUNT]:{"Account suspended.":new r.SuspendedAccountError("Account suspended.")}},[a.StatusCode.TOO_MANY_REQUESTS]:{[a.BackendErrorLabel.CLIENT_ERROR]:{"Logins too frequent":new r.LoginTooFrequentError("Logins too frequent. User login temporarily disabled.")}},[a.StatusCode.CONFLICT]:{[a.BackendErrorLabel.INVITE_EMAIL_EXISTS]:{"The given e-mail address is in use.":new o.InviteEmailInUseError("The given e-mail address is in use.")},[a.BackendErrorLabel.KEY_EXISTS]:{"The given e-mail address or phone number is in use.":new r.IdentifierExistsError("The given e-mail address or phone number is in use.")}},[a.StatusCode.NOT_FOUND]:{[a.BackendErrorLabel.NOT_FOUND]:{"Service not found":new o.ServiceNotFoundError("Service not found")}}}}static map(e){try{const t=c.ERRORS[Number(e.code)][e.label][e.message];return t||e}catch(t){return e}}}t.BackendErrorMapper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenStore=void 0;const o=n(9),s=i(n(7));var a;!function(e){e.ACCESS_TOKEN_REFRESH="AccessTokenStore.TOPIC.ACCESS_TOKEN_REFRESH"}(a||(a={}));let c=(()=>{class e extends o.EventEmitter{constructor(){super(),this.logger=s.default("@wireapp/api-client/AccessTokenStore",{logger:console,markdown:!1})}delete(){return r(this,void 0,void 0,(function*(){this.logger.log("Deleting local access token"),this.accessToken=void 0}))}updateToken(t){return r(this,void 0,void 0,(function*(){return this.accessToken!==t&&(this.logger.log("Saving local access token"),this.accessToken=t,this.emit(e.TOPIC.ACCESS_TOKEN_REFRESH,this.accessToken)),this.accessToken}))}}return e.TOPIC=a,e})();t.AccessTokenStore=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthAPI=void 0;const i=n(29),o=n(2),s=n(30),a=n(31);let c=(()=>{class e{constructor(e){this.client=e}getCookies(t){const n={method:"get",params:{},url:e.URL.COOKIES};return t&&(n.params.labels=t.join(",")),this.client.sendRequest(n)}postCookiesRemove(t,n,i){return r(this,void 0,void 0,(function*(){const r={data:{ids:i,labels:n,password:t},method:"post",url:`${e.URL.COOKIES}/remove`,withCredentials:!0};yield this.client.sendJSON(r)}))}postLogin(t){return r(this,void 0,void 0,(function*(){const n={data:Object.assign(Object.assign({},t),{clientType:void 0,password:t.password?String(t.password):void 0}),method:"post",params:{persist:t.clientType===i.ClientType.PERMANENT},url:e.URL.LOGIN,withCredentials:!0},r=yield this.client.sendJSON(n);return s.retrieveCookie(r)}))}postLoginSend(t){return r(this,void 0,void 0,(function*(){const n={data:Object.assign(Object.assign({},{force:!1}),t),method:"post",url:`${e.URL.LOGIN}/${e.URL.SEND}`};try{return(yield this.client.sendJSON(n)).data}catch(e){switch(e.label){case o.BackendErrorLabel.BAD_REQUEST:throw new a.InvalidPhoneNumberError(e.message);case o.BackendErrorLabel.INVALID_PHONE:case o.BackendErrorLabel.UNAUTHORIZED:throw new a.ForbiddenPhoneNumberError(e.message);case o.BackendErrorLabel.PASSWORD_EXISTS:throw new a.PasswordExistsError(e.message)}throw e}}))}postLogout(){return r(this,void 0,void 0,(function*(){const t={method:"post",url:`${e.URL.ACCESS}/${e.URL.LOGOUT}`,withCredentials:!0};yield s.sendRequestWithCookie(this.client,t)}))}postRegister(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.REGISTER,withCredentials:!0},r=yield this.client.sendJSON(n);return s.retrieveCookie(r)}))}headInitiateLogin(t){return r(this,void 0,void 0,(function*(){const n={method:"head",url:`${e.URL.SSO}/${e.URL.INITIATE_LOGIN}/${t}`};yield this.client.sendJSON(n)}))}headInitiateBind(t){return r(this,void 0,void 0,(function*(){const n={method:"head",url:`${e.URL.INITIATE_BIND}/${t}`};yield this.client.sendJSON(n)}))}}return e.URL={ACCESS:"/access",COOKIES:"/cookies",INITIATE_BIND:"/sso-initiate-bind",INITIATE_LOGIN:"initiate-login",LOGIN:"/login",LOGOUT:"logout",REGISTER:"/register",SEND:"send",SSO:"/sso"},e})();t.AuthAPI=c},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ClientAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}postClient(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.CLIENTS};return(yield this.client.sendJSON(n)).data}))}putClient(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CLIENTS}/${t}`};yield this.client.sendJSON(r)}))}deleteClient(t,n){return r(this,void 0,void 0,(function*(){const r={data:{password:n},method:"delete",url:`${e.URL.CLIENTS}/${t}`};yield this.client.sendJSON(r)}))}getClient(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CLIENTS}/${t}`};return(yield this.client.sendJSON(n)).data}))}getClients(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:e.URL.CLIENTS};return(yield this.client.sendJSON(t)).data}))}getClientPreKeys(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CLIENTS}/${t}/prekeys`};return(yield this.client.sendJSON(n,!0)).data}))}}return e.URL={CLIENTS:"/clients"},e})();t.ClientAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientClassification=void 0,function(e){e.DESKTOP="desktop",e.LEGAL_HOLD="legalhold",e.PHONE="phone",e.TABLET="tablet"}(t.ClientClassification||(t.ClientClassification={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientType=void 0,function(e){e.NONE="none",e.PERMANENT="permanent",e.TEMPORARY="temporary"}(t.ClientType||(t.ClientType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Cookie=void 0;t.Cookie=class{constructor(e,t){this.expiration="0",this.zuid="",this.expiration=t,this.zuid=e}get isExpired(){return new Date>new Date(this.expiration)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LogFactory=void 0;const i=n(80),o=n(81),s=n(7),a=n(82),c=n(83);let u=(()=>{class e{static getColor(){return e.COLOR_CODE.R=(e.COLOR_CODE.R+e.COLOR_STEP.R)%256,e.COLOR_CODE.G=(e.COLOR_CODE.G+e.COLOR_STEP.G)%256,e.COLOR_CODE.B=(e.COLOR_CODE.B+e.COLOR_STEP.B)%256,`#${Number(e.COLOR_CODE.R).toString(16).padStart(2,"0")}${e.COLOR_CODE.G.toString(16).padStart(2,"0")}${e.COLOR_CODE.B.toString(16).padStart(2,"0")}`}static addTimestamp(e){const t=(new Date).toISOString().split(".")[0].replace("T"," ");e.args.unshift(`[${t}]`)}static writeTransport(t){return r(this,void 0,void 0,(function*(){const[n]=t.args,r=`${n} ${t.msg}`;this.logFilePath&&(yield e.writeMessage(r,this.logFilePath))}))}static writeMessage(e,t){return r(this,void 0,void 0,(function*(){const n=e.replace(i(),"");yield o.outputFile(t,`${n}${a.EOL}`,{flag:"a"})}))}static createLoggerName(e,t,n){return"undefined"==typeof window&&(e=c.basename(e,c.extname(e))),[t,e].filter(Boolean).join(n)}static getLogger(t,n){const r={color:e.getColor(),forceEnable:!1,logFilePath:"",namespace:"",separator:"::"},i=Object.assign(Object.assign({},r),n);0===s.transports.length&&(s.transports.push(e.addTimestamp.bind({namespace:i.namespace})),s.transports.push(e.writeTransport.bind({logFilePath:i.logFilePath})));const o=this.createLoggerName(t,i.namespace,i.separator),a=s(o,{logger:console,markdown:!1,prefixColor:i.color});return i.forceEnable&&(a.state.isEnabled=!0),a}}return e.logFilePath=void 0,e.COLOR_STEP={B:97,G:79,R:31},e.COLOR_CODE={B:0,G:0,R:0},e})();t.LogFactory=u},function(e,t,n){"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},function(e,t){e.exports={}},function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var u=[];for(c=a;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(14))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.AccentColor=n(85),t.ArrayUtil=n(86),t.DateUtil=n(87),t.RandomUtil=n(34),t.StringUtil=n(88),t.TimeUtil=n(89),t.TypeUtil=n(90),t.UrlUtil=n(91),t.ValidationUtil=n(93),i(n(94),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_getById=t.DEPRECATED_ACCENT_COLORS=t.getRandom=t.getById=t.ACCENT_COLORS=t.VIOLET=t.SOFT_PINK=t.BRIGHT_ORANGE=t.VIVID_RED=t.DEPRECATED_YELLOW=t.STRONG_LIME_GREEN=t.STRONG_BLUE=t.AccentColorID=void 0;const r=n(34);var i;!function(e){e[e.BRIGHT_ORANGE=5]="BRIGHT_ORANGE",e[e.SOFT_PINK=6]="SOFT_PINK",e[e.STRONG_BLUE=1]="STRONG_BLUE",e[e.STRONG_LIME_GREEN=2]="STRONG_LIME_GREEN",e[e.VIOLET=7]="VIOLET",e[e.VIVID_RED=4]="VIVID_RED",e[e.YELLOW=3]="YELLOW"}(i=t.AccentColorID||(t.AccentColorID={})),t.STRONG_BLUE={color:"#2391d3",id:i.STRONG_BLUE,name:"StrongBlue"},t.STRONG_LIME_GREEN={color:"#00c800",id:i.STRONG_LIME_GREEN,name:"StrongLimeGreen"},t.DEPRECATED_YELLOW={color:"#febf02",id:i.YELLOW,name:"Yellow"},t.VIVID_RED={color:"#fb0807",id:i.VIVID_RED,name:"VividRed"},t.BRIGHT_ORANGE={color:"#ff8900",id:i.BRIGHT_ORANGE,name:"BrightOrange"},t.SOFT_PINK={color:"#fe5ebd",id:i.SOFT_PINK,name:"SoftPink"},t.VIOLET={color:"#9c00fe",id:i.VIOLET,name:"Violet"},t.ACCENT_COLORS=[t.BRIGHT_ORANGE,t.SOFT_PINK,t.STRONG_BLUE,t.STRONG_LIME_GREEN,t.VIOLET,t.VIVID_RED],t.getById=e=>t.ACCENT_COLORS.find(t=>t.id===e),t.getRandom=()=>r.randomArrayElement(t.ACCENT_COLORS),t.DEPRECATED_ACCENT_COLORS=[t.BRIGHT_ORANGE,t.DEPRECATED_YELLOW,t.SOFT_PINK,t.STRONG_BLUE,t.STRONG_LIME_GREEN,t.VIOLET,t.VIVID_RED],t.DEPRECATED_getById=e=>t.DEPRECATED_ACCENT_COLORS.find(t=>t.id===e)},function(e,t,n){"use strict";function r(e){return Array.from(new Set(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.flatten=t.removeDuplicates=t.getIntersection=t.getDifference=t.getDeduplicatedUnion=t.chunk=void 0,t.chunk=function(e,t){const n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.slice(r,r+t));return n},t.getDeduplicatedUnion=function(e,t){return r(e.concat(t))},t.getDifference=function(e,t){return e.filter(e=>!t.includes(e))},t.getIntersection=function(e,t){return e.filter(e=>t.includes(e))},t.removeDuplicates=r,t.flatten=e=>[].concat(...e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isoFormat=void 0,t.isoFormat=function(e){const t=e.toISOString(),[,n,r]=/(.+)T(.+)\./.exec(t);return{date:n,time:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluralize=t.capitalize=void 0,t.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.pluralize=function(e,t,n){const r=(null==n?void 0:n.postfix)||"s";return`${e}${1===t?"":r}`}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInMillis=void 0,function(e){e[e.SECOND=1e3]="SECOND",e[e.MINUTE=6e4]="MINUTE",e[e.HOUR=36e5]="HOUR",e[e.DAY=864e5]="DAY",e[e.WEEK=6048e5]="WEEK",e[e.YEAR=31536e6]="YEAR"}(t.TimeInMillis||(t.TimeInMillis={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";function r(e){const t={};return new URLSearchParams(e).forEach((e,n)=>{t[n]=e}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.hasURLParameter=t.getURLParameter=t.paramsToRecord=t.pathWithParams=void 0,n(92),t.pathWithParams=function(e,t,n,i=window.location.search){const o=r(i);t&&Object.assign(o,t),n&&Object.keys(o).forEach(e=>{n.includes(e)||delete o[e]});const s=new URLSearchParams(o).toString();return`${e}${s?`?${s}`:""}`},t.paramsToRecord=r,t.getURLParameter=function(e,t=window.location.search){return new URLSearchParams(t).get(e)||""},t.hasURLParameter=function(e,t=window.location.search){return!!new URLSearchParams(t).has(e)}},function(e,t,n){(function(e){!function(e){"use strict";var t,n=function(){try{if(e.URLSearchParams&&"bar"===new e.URLSearchParams("foo=bar").get("foo"))return e.URLSearchParams}catch(e){}return null}(),r=n&&"a=1"===new n({a:1}).toString(),i=n&&"+"===new n("s=%2B").get("s"),o="__URLSearchParams__",s=!n||((t=new n).append("s"," &"),"s=+%26"===t.toString()),a=l.prototype,c=!(!e.Symbol||!e.Symbol.iterator);if(!(n&&r&&i&&s)){a.append=function(e,t){v(this[o],e,t)},a.delete=function(e){delete this[o][e]},a.get=function(e){var t=this[o];return this.has(e)?t[e][0]:null},a.getAll=function(e){var t=this[o];return this.has(e)?t[e].slice(0):[]},a.has=function(e){return _(this[o],e)},a.set=function(e,t){this[o][e]=[""+t]},a.toString=function(){var e,t,n,r,i=this[o],s=[];for(t in i)for(n=f(t),e=0,r=i[t];e<r.length;e++)s.push(n+"="+f(r[e]));return s.join("&")};var u=!!i&&n&&!r&&e.Proxy;Object.defineProperty(e,"URLSearchParams",{value:u?new Proxy(n,{construct:function(e,t){return new e(new l(t[0]).toString())}}):l});var d=e.URLSearchParams.prototype;d.polyfill=!0,d.forEach=d.forEach||function(e,t){var n=E(this.toString());Object.getOwnPropertyNames(n).forEach((function(r){n[r].forEach((function(n){e.call(t,n,r,this)}),this)}),this)},d.sort=d.sort||function(){var e,t,n,r=E(this.toString()),i=[];for(e in r)i.push(e);for(i.sort(),t=0;t<i.length;t++)this.delete(i[t]);for(t=0;t<i.length;t++){var o=i[t],s=r[o];for(n=0;n<s.length;n++)this.append(o,s[n])}},d.keys=d.keys||function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},d.values=d.values||function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},d.entries=d.entries||function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},c&&(d[e.Symbol.iterator]=d[e.Symbol.iterator]||d.entries)}function l(e){((e=e||"")instanceof URLSearchParams||e instanceof l)&&(e=e.toString()),this[o]=E(e)}function f(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'\(\)~]|%20|%00/g,(function(e){return t[e]}))}function h(e){return e.replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}function p(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return c&&(n[e.Symbol.iterator]=function(){return n}),n}function E(e){var t={};if("object"==typeof e)if(O(e))for(var n=0;n<e.length;n++){var r=e[n];if(!O(r)||2!==r.length)throw new TypeError("Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements");v(t,r[0],r[1])}else for(var i in e)e.hasOwnProperty(i)&&v(t,i,e[i]);else{0===e.indexOf("?")&&(e=e.slice(1));for(var o=e.split("&"),s=0;s<o.length;s++){var a=o[s],c=a.indexOf("=");-1<c?v(t,h(a.slice(0,c)),h(a.slice(c+1))):a&&v(t,h(a),"")}}return t}function v(e,t,n){var r="string"==typeof n?n:null!=n&&"function"==typeof n.toString?n.toString():JSON.stringify(n);_(e,t)?e[t].push(r):e[t]=[r]}function O(e){return!!e&&"[object Array]"===Object.prototype.toString.call(e)}function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(void 0!==e?e:"undefined"!=typeof window?window:this)}).call(this,n(35))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNewPasswordPattern=t.DEFAULT_PASSWORD_MAX_LENGTH=t.DEFAULT_PASSWORD_MIN_LENGTH=t.isValidEmail=t.isUUIDv4=t.PATTERN=void 0,t.PATTERN={EMAIL:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',UUID_V4:"[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}"},t.isUUIDv4=function(e){return new RegExp(`^${t.PATTERN.UUID_V4}$`,"i").test(e)},t.isValidEmail=function(e){return new RegExp(`^${t.PATTERN.EMAIL}$`,"i").test(e)},t.DEFAULT_PASSWORD_MIN_LENGTH=8,t.DEFAULT_PASSWORD_MAX_LENGTH=120,t.getNewPasswordPattern=function(e=t.DEFAULT_PASSWORD_MIN_LENGTH,n=t.DEFAULT_PASSWORD_MAX_LENGTH){return`(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[^0-9a-zA-Z]).{${e},${n}}$`}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Runtime=t.OperatingSystem=void 0;const r=n(95),i=n(33),o="unknown";var s;!function(e){e.ANDROID="OperatingSystem.ANDROID",e.IOS="OperatingSystem.IOS",e.LINUX="OperatingSystem.LINUX",e.MAC="OperatingSystem.MAC",e.WINDOWS="OperatingSystem.WINDOWS"}(s=t.OperatingSystem||(t.OperatingSystem={}));class a{static getPlatform(){return r||{}}static getOSFamily(){const e=a.getOS().family.toLowerCase();return e.includes("windows")?s.WINDOWS:e.includes("android")?s.ANDROID:e.includes("ios")?s.IOS:["os x","mac os"].includes(e)?s.MAC:s.LINUX}static getBrowserName(){return(a.getPlatform().name||o).toLowerCase()}static getBrowserVersion(){const[e,t]=(a.getPlatform().version||o).split(".");return{major:parseInt(e,10),minor:parseInt(t,10)}}static getUserAgent(){return(a.getPlatform().ua||o).toLowerCase()}static isWebappSupportedBrowser(){return!a.isFranz()&&Object.entries(i.WEBAPP_SUPPORTED_BROWSERS).some(([e,t])=>{const n=a.getBrowserName()===e,r=a.getBrowserVersion(),i=r.major>=t.major,o=r.major>t.major||r.minor>=t.minor;return n&&i&&o})}static getOS(){return Object.assign({architecture:o,family:o,version:o},r.os)}static isChrome(){return a.getBrowserName()===i.BROWSER.CHROME}static isEdge(){return a.getBrowserName()===i.BROWSER.MS_EDGE}static isFirefox(){return a.getBrowserName()===i.BROWSER.FIREFOX}static isInternetExplorer(){return a.getBrowserName()===i.BROWSER.IE}static isOpera(){return a.getBrowserName()===i.BROWSER.OPERA}static isSafari(){return a.getBrowserName()===i.BROWSER.SAFARI}static isDesktopOS(){return a.isMacOS()||a.isWindows()||a.isLinux()}static isElectron(){return a.getBrowserName()===i.BROWSER.ELECTRON}static isNode(){return"object"==typeof e}static isDesktopApp(){return a.isElectron()&&a.getUserAgent().includes("wire")}static isFranz(){return a.isElectron()&&a.getUserAgent().includes("franz")}static isMacOS(){return a.getOSFamily()===s.MAC}static isWindows(){return a.getOSFamily()===s.WINDOWS}static isLinux(){return a.getOSFamily()===s.LINUX}static isMobileOS(){return a.isAndroid()||a.isIOS()}static isAndroid(){return a.getOSFamily()===s.ANDROID}static isIOS(){return a.getOSFamily()===s.IOS}}t.Runtime=a}).call(this,n(14))},function(e,t,n){(function(e,r){var i;
/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */(function(){"use strict";var o={function:!0,object:!0},s=o[typeof window]&&window||this,a=o[typeof t]&&t,c=o[typeof e]&&e&&!e.nodeType&&e,u=a&&c&&"object"==typeof r&&r;!u||u.global!==u&&u.window!==u&&u.self!==u||(s=u);var d=Math.pow(2,53)-1,l=/\bOpera/,f=Object.prototype,h=f.hasOwnProperty,p=f.toString;function E(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:E(e)}function O(e,t){for(var n in e)h.call(e,n)&&t(e[n],n,e)}function _(e){return null==e?E(e):p.call(e).slice(8,-1)}function S(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function y(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=d)for(;++n<r;)t(e[n],n,e);else O(e,t)}(e,(function(r,i){n=t(n,r,i,e)})),n}function m(e){return String(e).replace(/^ +| +$/g,"")}var g=function e(t){var n=s,r=t&&"object"==typeof t&&"String"!=_(t);r&&(n=t,t=null);var i=n.navigator||{},o=i.userAgent||"";t||(t=o);var a,c,u,d,f,h=r?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),E=r?"Object":"ScriptBridgingProxyObject",g=r?"Object":"Environment",b=r&&n.java?"JavaPackage":_(n.java),R=r?"Object":"RuntimeObject",N=/\bJava/.test(b)&&n.java,T=N&&_(n.environment)==g,I=N?"a":"",A=N?"b":"",P=n.document||{},L=n.operamini||n.opera,C=l.test(C=r&&L?L["[[Class]]"]:_(L))?C:L=null,w=t,U=[],M=null,D=t==o,x=D&&L&&"function"==typeof L.version&&L.version(),j=y([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||S(n))+"\\b","i").exec(t)&&(n.label||n)})),k=function(e){return y(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||S(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),$=F([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),B=function(e){return y(e,(function(e,n,r){return e||(n[$]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+S(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),G=function(e){return y(e,(function(e,n){var r=n.pattern||S(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),e=v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function F(e){return y(e,(function(e,n){var r=n.pattern||S(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=v(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}if(j&&(j=[j]),B&&!$&&($=F([B])),(a=/\bGoogle TV\b/.exec($))&&($=a[0]),/\bSimulator\b/i.test(t)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==k&&/\bOPiOS\b/.test(t)&&U.push("running in Turbo/Uncompressed mode"),"IE"==k&&/\blike iPhone OS\b/.test(t)?(B=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,$=a.product):/^iP/.test($)?(k||(k="Safari"),G="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"!=k||/buntu/i.test(G)?B&&"Google"!=B&&(/Chrome/.test(k)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test($))||/\bAndroid\b/.test(G)&&/^Chrome/.test(k)&&/\bVersion\//i.test(t)?(k="Android Browser",G=/\bAndroid\b/.test(G)?G:"Android"):"Silk"==k?(/\bMobi/i.test(t)||(G="Android",U.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&U.unshift("accelerated")):"PaleMoon"==k&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?U.push("identifying as Firefox "+a[1]):"Firefox"==k&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(G||(G="Firefox OS"),$||($=a[1])):!k||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(k))?(k&&!$&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(k=null),(a=$||B||G)&&($||B||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(G))&&(k=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(G)?G:a)+" Browser")):"Electron"==k&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&U.push("Chromium "+a):G="Kubuntu",x||(x=y(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",S(k),"(?:Firefox|Minefield|NetFront)"],(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))),(a=("iCab"==j&&parseFloat(x)>3?"WebKit":/\bOpera\b/.test(k)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==G?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(k)&&"NetFront")&&(j=[a]),"IE"==k&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(k+=" Mobile",G="Windows Phone "+(/\+$/.test(a)?a:a+".x"),U.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(k="IE Mobile",G="Windows Phone 8.x",U.unshift("desktop mode"),x||(x=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=k&&"Trident"==j&&(a=/\brv:([\d.]+)/.exec(t))&&(k&&U.push("identifying as "+k+(x?" "+x:"")),k="IE",x=a[1]),D){if(d="global",f=null!=(u=n)?typeof u[d]:"number",/^(?:boolean|number|string|undefined)$/.test(f)||"object"==f&&!u[d])_(a=n.runtime)==E?(k="Adobe AIR",G=a.flash.system.Capabilities.os):_(a=n.phantom)==R?(k="PhantomJS",x=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof P.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(x=[x,P.documentMode],(a=+a[1]+4)!=x[1]&&(U.push("IE "+x[1]+" mode"),j&&(j[1]=""),x[1]=a),x="IE"==k?String(x[1].toFixed(1)):x[0]):"number"==typeof P.documentMode&&/^(?:Chrome|Firefox)\b/.test(k)&&(U.push("masking as "+k+" "+x),k="IE",x="11.0",j=["Trident"],G="Windows");else if(N&&(w=(a=N.lang.System).getProperty("os.arch"),G=G||a.getProperty("os.name")+" "+a.getProperty("os.version")),T){try{x=n.require("ringo/engine").version.join("."),k="RingoJS"}catch(e){(a=n.system)&&a.global.system==n.system&&(k="Narwhal",G||(G=a[0].os||null))}k||(k="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(a=n.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(U.push("Node "+a.versions.node),k="Electron",x=a.versions.electron):"string"==typeof a.versions.nw&&(U.push("Chromium "+x,"Node "+a.versions.node),k="NW.js",x=a.versions.nw)),k||(k="Node.js",w=a.arch,G=a.platform,x=(x=/[\d.]+/.exec(a.version))?x[0]:null));G=G&&v(G)}if(x&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(x)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(D&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(M=/b/i.test(a)?"beta":"alpha",x=x.replace(RegExp(a+"\\+?$"),"")+("beta"==M?A:I)+(/\d+\+?/.exec(a)||"")),"Fennec"==k||"Firefox"==k&&/\b(?:Android|Firefox OS)\b/.test(G))k="Firefox Mobile";else if("Maxthon"==k&&x)x=x.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(G=null),"Xbox 360"==$&&/\bIEMobile\b/.test(t)&&U.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(k)&&(!k||$||/Browser|Mobi/.test(k))||"Windows CE"!=G&&!/Mobi/i.test(t))if("IE"==k&&D)try{null===n.external&&U.unshift("platform preview")}catch(e){U.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(t))&&(a=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||x)?(G=((a=[a,/BB10/.test(t)])[1]?($=null,B="BlackBerry"):"Device Software")+" "+a[0],x=null):this!=O&&"Wii"!=$&&(D&&L||/Opera/.test(k)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==k&&/\bOS X (?:\d+\.){2,}/.test(G)||"IE"==k&&(G&&!/^Win/.test(G)&&x>5.5||/\bWindows XP\b/.test(G)&&x>8||8==x&&!/\bTrident\b/.test(t)))&&!l.test(a=e.call(O,t.replace(l,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),l.test(k)?(/\bIE\b/.test(a)&&"Mac OS"==G&&(G=null),a="identify"+a):(a="mask"+a,k=C?v(C.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(G=null),D||(x=null)),j=["Presto"],U.push(a));else k+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==k&&"+"==a[1].slice(-1)?(k="WebKit Nightly",M="alpha",x=a[1].slice(0,-1)):x!=a[1]&&x!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(x=null),a[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==j&&(j=["Blink"]),D&&(h||a[1])?(j&&(j[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:"8"),j&&(j[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==k&&(!x||parseInt(x)>45)&&(x=a)),"Opera"==k&&(a=/\bzbov|zvav$/.exec(G))?(k+=" ",U.unshift("desktop mode"),"zvav"==a?(k+="Mini",x=null):k+="Mobile",G=G.replace(RegExp(" *"+a+"$"),"")):"Safari"==k&&/\bChrome\b/.exec(j&&j[1])&&(U.unshift("desktop mode"),k="Chrome Mobile",x=null,/\bOS X\b/.test(G)?(B="Apple",G="iOS 4.3+"):G=null),x&&0==x.indexOf(a=/[\d.]+$/.exec(G))&&t.indexOf("/"+a+"-")>-1&&(G=m(G.replace(a,""))),j&&!/\b(?:Avant|Nook)\b/.test(k)&&(/Browser|Lunascape|Maxthon/.test(k)||"Safari"!=k&&/^iOS/.test(G)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(k)&&j[1])&&(a=j[j.length-1])&&U.push(a),U.length&&(U=["("+U.join("; ")+")"]),B&&$&&$.indexOf(B)<0&&U.push("on "+B),$&&U.push((/^on /.test(U[U.length-1])?"":"on ")+$),G&&(a=/ ([\d.+]+)$/.exec(G),c=a&&"/"==G.charAt(G.length-a[0].length-1),G={architecture:32,family:a&&!c?G.replace(a[0],""):G,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(w))&&!/\bi686\b/i.test(w)?(G&&(G.architecture=64,G.family=G.family.replace(RegExp(" *"+a),"")),k&&(/\bWOW64\b/i.test(t)||D&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&U.unshift("32-bit")):G&&/^OS X/.test(G.family)&&"Chrome"==k&&parseFloat(x)>=39&&(G.architecture=64),t||(t=null);var V={};return V.description=t,V.layout=j&&j[0],V.manufacturer=B,V.name=k,V.prerelease=M,V.product=$,V.ua=t,V.version=k&&x,V.os=G||{architecture:null,family:null,version:null,toString:function(){return"null"}},V.parse=e,V.toString=function(){return this.description||""},V.version&&U.unshift(x),V.name&&U.unshift(k),G&&k&&(G!=String(G).split(" ")[0]||G!=k.split(" ")[0]&&!$)&&U.push($?"("+G+")":"on "+G),U.length&&(V.description=U.join(" ")),V}();s.platform=g,void 0===(i=function(){return g}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(96)(e),n(35))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONVERSATION_ACCESS=t.CONVERSATION_ACCESS_ROLE=t.CONVERSATION_TYPE=void 0,function(e){e[e.REGULAR=0]="REGULAR",e[e.SELF=1]="SELF",e[e.ONE_TO_ONE=2]="ONE_TO_ONE",e[e.CONNECT=3]="CONNECT"}(t.CONVERSATION_TYPE||(t.CONVERSATION_TYPE={})),function(e){e.ACTIVATED="activated",e.NON_ACTIVATED="non_activated",e.PRIVATE="private",e.TEAM="team"}(t.CONVERSATION_ACCESS_ROLE||(t.CONVERSATION_ACCESS_ROLE={})),function(e){e.CODE="code",e.INVITE="invite",e.LINK="link",e.PRIVATE="private"}(t.CONVERSATION_ACCESS||(t.CONVERSATION_ACCESS={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationAPI=void 0;const i=n(37),o=n(38);let s=(()=>{class e{constructor(e){this.client=e}deleteConversationCode(t){return r(this,void 0,void 0,(function*(){const n={method:"delete",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.CODE}`};return(yield this.client.sendJSON(n)).data}))}deleteBot(t,n){return r(this,void 0,void 0,(function*(){const r={method:"delete",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.BOTS}/${n}`};yield this.client.sendJSON(r)}))}deleteMember(t,n){return r(this,void 0,void 0,(function*(){const r={method:"delete",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.MEMBERS}/${n}`};return(yield this.client.sendJSON(r)).data}))}getAllConversations(){let t=[];const n=i=>r(this,void 0,void 0,(function*(){const{conversations:r,has_more:o}=yield this.getConversations(i,e.MAX_CHUNK_SIZE);if(r.length&&(t=t.concat(r)),o){const e=r.pop();if(e)return n(e.id)}return t}));return n()}getConversationCode(t){return r(this,void 0,void 0,(function*(){const n={method:"GET",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.CODE}`};return(yield this.client.sendJSON(n)).data}))}getConversation(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CONVERSATIONS}/${t}`};return(yield this.client.sendJSON(n)).data}))}getConversationIds(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:t,start:n},url:`${e.URL.CONVERSATIONS}/ids`};return(yield this.client.sendJSON(r)).data}))}getConversations(t,n=e.MAX_CHUNK_SIZE){return this._getConversations(t,void 0,n)}getConversationsByIds(t){return r(this,void 0,void 0,(function*(){let n=[];const i=t=>r(this,void 0,void 0,(function*(){const{conversations:n}=yield this._getConversations(void 0,t,e.MAX_CHUNK_SIZE);return n}));for(let r=0;r<t.length;r+=e.MAX_CHUNK_SIZE){const o=t.slice(r,r+e.MAX_CHUNK_SIZE);if(o.length){const e=yield i(o);e.length&&(n=n.concat(e))}}return n}))}_getConversations(t,n,i=e.MAX_CHUNK_SIZE){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:i,start:t},url:`${e.URL.CONVERSATIONS}`};return n&&(r.params.ids=n.join(",")),(yield this.client.sendJSON(r)).data}))}getRoles(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.ROLES}`};return(yield this.client.sendJSON(n)).data}))}getMembershipProperties(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CONVERSATIONS}/${t}/self`};return(yield this.client.sendJSON(n)).data}))}post1to1(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.CONVERSATIONS}/one2one`};yield this.client.sendJSON(n)}))}postAddMembers(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"post",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.MEMBERS}`};return(yield this.client.sendJSON(r)).data}))}postBot(t,n,i){return r(this,void 0,void 0,(function*(){const r={data:{provider:n,service:i},method:"post",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.BOTS}`};return(yield this.client.sendJSON(r)).data}))}postConversation(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.CONVERSATIONS};return(yield this.client.sendJSON(n)).data}))}postConversationCodeRequest(t){return r(this,void 0,void 0,(function*(){const n={method:"post",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.CODE}`};return(yield this.client.sendJSON(n)).data}))}postConversationCodeCheck(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.CONVERSATIONS}${e.URL.CODE_CHECK}`};yield this.client.sendJSON(n)}))}postJoinByCode(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.CONVERSATIONS}${e.URL.JOIN}`};return(yield this.client.sendJSON(n)).data}))}postJoin(t){return r(this,void 0,void 0,(function*(){const n={method:"post",url:`${e.URL.CONVERSATIONS}/${t}`};return(yield this.client.sendJSON(n)).data}))}postOTRMessage(t,n,o,s){return r(this,void 0,void 0,(function*(){if(!t)throw new i.ValidationError("Unable to send OTR message without client ID.");o||(o={recipients:{},sender:t});const r={data:o,method:"post",params:Object.assign({ignore_missing:!!o.data},s),url:`${e.URL.CONVERSATIONS}/${n}/${e.URL.OTR}/${e.URL.MESSAGES}`};return("object"==typeof o.recipients?yield this.client.sendJSON(r,!0):yield this.client.sendProtocolBuffer(r,!0)).data}))}postForClients(e,t){return r(this,void 0,void 0,(function*(){try{throw yield this.postOTRMessage(e,t),new Error("Expected backend to throw error.")}catch(e){return e.response.data}}))}postSelf(){return r(this,void 0,void 0,(function*(){const t={method:"post",url:`${e.URL.CONVERSATIONS}/self`};return(yield this.client.sendJSON(t)).data}))}postTyping(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"post",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.TYPING}`};yield this.client.sendJSON(r)}))}putAccess(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.ACCESS}`};return(yield this.client.sendJSON(r)).data}))}putConversation(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.NAME}`};return(yield this.client.sendJSON(r)).data}))}putConversationMessageTimer(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.MESSAGE_TIMER}`};return(yield this.client.sendJSON(r)).data}))}putConversationReceiptMode(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.RECEIPT_MODE}`};return(yield this.client.sendJSON(r)).data}))}postMembers(t,n){return r(this,void 0,void 0,(function*(){const r={data:{conversation_role:o.DefaultConversationRoleName.WIRE_MEMBER,users:n},method:"post",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.MEMBERS}`};return(yield this.client.sendJSON(r)).data}))}putOtherMember(t,n,i){return r(this,void 0,void 0,(function*(){const r={data:i,method:"put",url:`${e.URL.CONVERSATIONS}/${n}/${e.URL.MEMBERS}/${t}`};yield this.client.sendJSON(r)}))}putMembershipProperties(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONVERSATIONS}/${t}/${e.URL.SELF}`};yield this.client.sendJSON(r)}))}}return e.MAX_CHUNK_SIZE=500,e.URL={ACCESS:"access",BOTS:"bots",CLIENTS:"/clients",CODE:"code",CODE_CHECK:"/code-check",CONVERSATIONS:"/conversations",JOIN:"/join",MEMBERS:"members",MESSAGES:"messages",MESSAGE_TIMER:"message-timer",NAME:"name",OTR:"otr",RECEIPT_MODE:"receipt-mode",ROLES:"roles",SELF:"self",TYPING:"typing"},e})();t.ConversationAPI=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class r extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,new.target.prototype)}}t.ValidationError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationOperationError=t.ConversationIsUnknownError=t.ConversationError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ConversationError"}}t.ConversationError=i;t.ConversationIsUnknownError=class extends i{constructor(e,t=r.BackendErrorLabel.CLIENT_ERROR,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ConversationIsUnknownError"}};t.ConversationOperationError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_OPERATION,n=r.StatusCode.FORBIDDEN){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ConversationOperationError"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutedStatus=void 0,function(e){e[e.ALL_NOTIFICATIONS=0]="ALL_NOTIFICATIONS",e[e.ONLY_MENTIONS=1]="ONLY_MENTIONS",e[e.NO_NOTIFICATIONS=3]="NO_NOTIFICATIONS"}(t.MutedStatus||(t.MutedStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(123),t),i(n(124),t),i(n(41),t),i(n(130),t),i(n(131),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TeamInvitationAPI=void 0;const i=n(2),o=n(40),s=n(41);let a=(()=>{class e{constructor(e){this.client=e}getInvitation(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${o.TeamAPI.URL.TEAMS}/${t}/${e.URL.INVITATIONS}/${n}`};return(yield this.client.sendJSON(r)).data}))}getAllInvitations(e){return r(this,void 0,void 0,(function*(){let t=[],n=yield this.getInvitations(e,void 0);for(t=t.concat(n.invitations);n.has_more;){const r=n.invitations,i=(r[r.length-1]||{}).id;n=yield this.getInvitations(e,i),t=t.concat(n.invitations)}return t}))}getInvitations(t,n,i=e.MAX_CHUNK_SIZE){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:i,start:n},url:`${o.TeamAPI.URL.TEAMS}/${t}/${e.URL.INVITATIONS}`};return(yield this.client.sendJSON(r)).data}))}deleteInvitation(t,n){return r(this,void 0,void 0,(function*(){const r={method:"delete",url:`${o.TeamAPI.URL.TEAMS}/${t}/${e.URL.INVITATIONS}/${n}`};yield this.client.sendJSON(r)}))}postInvitation(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"post",url:`${o.TeamAPI.URL.TEAMS}/${t}/${e.URL.INVITATIONS}`};try{return(yield this.client.sendJSON(r)).data}catch(e){switch(e.label){case i.BackendErrorLabel.INVITE_EMAIL_EXISTS:throw new s.InvitationEmailExistsError(e.message);case i.BackendErrorLabel.BAD_REQUEST:throw new s.InvitationInvalidPhoneError(e.message);case i.BackendErrorLabel.INVALID_EMAIL:throw new s.InvitationInvalidEmailError(e.message);case i.BackendErrorLabel.PHONE_EXISTS:throw new s.InvitationPhoneExistsError(e.message)}throw e}}))}getInvitationFromCode(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:{code:t},url:`${o.TeamAPI.URL.TEAMS}/${e.URL.INVITATIONS}/${e.URL.INFO}`};return(yield this.client.sendJSON(n)).data}))}}return e.MAX_CHUNK_SIZE=100,e.URL={INFO:"info",INVITATIONS:"invitations"},e})();t.TeamInvitationAPI=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(133),t),i(n(134),t),i(n(135),t),i(n(136),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LegalHoldAPI=void 0;const i=n(15);let o=(()=>{class e{constructor(e){this.client=e}getMemberLegalHold(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${n}`};return(yield this.client.sendJSON(r)).data}))}deleteMemberLegalHold(t,n,o){return r(this,void 0,void 0,(function*(){const r={data:{password:o},method:"delete",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${n}`};yield this.client.sendJSON(r)}))}postMemberLegalHold(t,n){return r(this,void 0,void 0,(function*(){const r={method:"post",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${n}`};yield this.client.sendJSON(r)}))}putMemberApproveLegalHold(t,n,o){return r(this,void 0,void 0,(function*(){const r={data:{password:o},method:"put",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${n}/${e.URL.APPROVE_LEGAL_HOLD}`};yield this.client.sendJSON(r)}))}getSettings(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${e.URL.SETTINGS_LEGAL_HOLD}`};return(yield this.client.sendJSON(n)).data}))}deleteSettings(t,n){return r(this,void 0,void 0,(function*(){const r={data:{password:n},method:"delete",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${e.URL.SETTINGS_LEGAL_HOLD}`};yield this.client.sendJSON(r)}))}postSettings(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"post",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.LEGAL_HOLD}/${e.URL.SETTINGS_LEGAL_HOLD}`};return(yield this.client.sendJSON(r)).data}))}}return e.URL={APPROVE_LEGAL_HOLD:"approve",LEGAL_HOLD:"legalhold",SETTINGS_LEGAL_HOLD:"settings"},e})();t.LegalHoldAPI=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegalHoldStatus=void 0,function(e){e.DISABLED="disabled",e.ENABLED_CONFIGURED="configured",e.ENABLED_NOT_CONFIGURED="not_configured"}(t.LegalHoldStatus||(t.LegalHoldStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LegalHoldMemberStatus=void 0,function(e){e.DISABLED="disabled",e.ENABLED="enabled",e.PENDING="pending"}(t.LegalHoldMemberStatus||(t.LegalHoldMemberStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(138),t),i(n(139),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getPropertyData(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.SIGNATURES}/${t}/${e.URL.PROPERTIES}`};return(yield this.client.sendJSON(n)).data}))}}return e.URL={PROPERTIES:"properties",SIGNATURES:"/signatures"},e})();t.PropertyAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(141),t),i(n(142),t),i(n(143),t),i(n(42),t),i(n(144),t),i(n(145),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MemberAPI=void 0;const i=n(15),o=n(10);let s=(()=>{class e{constructor(e){this.client=e}getMember(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS}/${n}`};return(yield this.client.sendJSON(r)).data}))}deleteMember(t,n,o){return r(this,void 0,void 0,(function*(){const r={data:{password:o},method:"delete",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS}/${n}`};yield this.client.sendJSON(r)}))}postMembers(t,n){return r(this,void 0,void 0,(function*(){const r={data:{member:n},method:"post",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS}`};yield this.client.sendJSON(r)}))}putMembers(t,n){return r(this,void 0,void 0,(function*(){const r={data:{member:n},method:"put",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS}`};yield this.client.sendJSON(r)}))}getAllMembers(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS}`};return(yield this.client.sendJSON(n)).data}))}getMembers(t,n,i=e.DEFAULT_MEMBERS_CHUNK_SIZE){return r(this,void 0,void 0,(function*(){const{ids:e}=n;if(e.length){const n=o.ArrayUtil.removeDuplicates(e),s=o.ArrayUtil.chunk(n,i),a=yield Promise.all(s.map(e=>r(this,void 0,void 0,(function*(){return(yield this._getMembers(t,{ids:e})).members}))));return o.ArrayUtil.flatten(a)}return[]}))}_getMembers(t,n){return r(this,void 0,void 0,(function*(){const r={data:{user_ids:n.ids},method:"post",url:`${i.TeamAPI.URL.TEAMS}/${t}/${e.URL.MEMBERS_BY_ID_LIST}`};return(yield this.client.sendJSON(r)).data}))}}return e.DEFAULT_MEMBERS_CHUNK_SIZE=1600,e.URL={MEMBERS:"members",MEMBERS_BY_ID_LIST:"get-members-by-ids-using-post"},e})();t.MemberAPI=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAtLeastEqual=t.isAtLeastAdmin=t.isAtLeastMember=t.isAtLeastPartner=t.isOwner=t.isAdmin=t.isMember=t.isPartner=t.permissionsToRole=t.roleToPermissions=t.Role=void 0;const r=n(42);var i;!function(e){e.ADMIN="admin",e.EXTERNAL="partner",e.MEMBER="member",e.OWNER="owner"}(i=t.Role||(t.Role={})),t.roleToPermissions=e=>{switch(e.toLowerCase()){case i.OWNER:return r.combinePermissions([t.roleToPermissions(i.ADMIN),r.Permissions.DELETE_TEAM,r.Permissions.GET_BILLING,r.Permissions.SET_BILLING]);case i.ADMIN:return r.combinePermissions([t.roleToPermissions(i.MEMBER),r.Permissions.ADD_TEAM_MEMBER,r.Permissions.REMOVE_TEAM_MEMBER,r.Permissions.SET_MEMBER_PERMISSIONS,r.Permissions.SET_TEAM_DATA]);case i.MEMBER:return r.combinePermissions([t.roleToPermissions(i.EXTERNAL),r.Permissions.ADD_CONVERSATION_MEMBER,r.Permissions.DELETE_CONVERSATION,r.Permissions.GET_MEMBER_PERMISSIONS,r.Permissions.REMOVE_CONVERSATION_MEMBER]);case i.EXTERNAL:return r.combinePermissions([r.Permissions.CREATE_CONVERSATION,r.Permissions.GET_TEAM_CONVERSATIONS]);default:return 0}},t.permissionsToRole=e=>r.hasPermissions(e.self,t.roleToPermissions(i.OWNER))?i.OWNER:r.hasPermissions(e.self,t.roleToPermissions(i.ADMIN))?i.ADMIN:r.hasPermissions(e.self,t.roleToPermissions(i.MEMBER))?i.MEMBER:r.hasPermissions(e.self,t.roleToPermissions(i.EXTERNAL))?i.EXTERNAL:void 0,t.isPartner=e=>!(!e||t.permissionsToRole(e)!==i.EXTERNAL),t.isMember=e=>!(!e||t.permissionsToRole(e)!==i.MEMBER),t.isAdmin=e=>!(!e||t.permissionsToRole(e)!==i.ADMIN),t.isOwner=e=>!(!e||t.permissionsToRole(e)!==i.OWNER),t.isAtLeastPartner=e=>t.isPartner(e)||t.isMember(e)||t.isAdmin(e)||t.isOwner(e),t.isAtLeastMember=e=>t.isMember(e)||t.isAdmin(e)||t.isOwner(e),t.isAtLeastAdmin=e=>t.isAdmin(e)||t.isOwner(e),t.isAtLeastEqual=(e,n)=>t.isOwner(e)&&t.isOwner(n)||t.isAtLeastAdmin(e)&&t.isAdmin(n)||t.isAtLeastMember(e)&&t.isMember(n)||t.isAtLeastPartner(e)&&t.isPartner(n)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(147),t),i(n(148),t),i(n(149),t),i(n(150),t),i(n(151),t),i(n(152),t),i(n(153),t),i(n(154),t),i(n(155),t),i(n(156),t),i(n(157),t),i(n(158),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}putPaymentData(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}`};return(yield this.client.sendJSON(r)).data}))}getPaymentData(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}`};return(yield this.client.sendJSON(n)).data}))}deletePaymentData(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"delete",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}`};return(yield this.client.sendJSON(r)).data}))}putPaymentBilling(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.INFO}`};return(yield this.client.sendJSON(r)).data}))}getPaymentBilling(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.INFO}`};return(yield this.client.sendJSON(n)).data}))}putPaymentPlan(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.PLAN}/${n.id}`};yield this.client.sendJSON(r)}))}getPlans(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.PLANS}`};return(yield this.client.sendJSON(n)).data}))}getCharges(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.CHARGES}`};return(yield this.client.sendJSON(n)).data}))}getInvoices(t,n=e.DEFAULT_INVOICES_CHUNK_SIZE,i){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:n,start:i},url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.INVOICES}`};return(yield this.client.sendJSON(r)).data}))}getSupportedCurrencies(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.BILLING}/${e.URL.CURRENCIES}`};return(yield this.client.sendJSON(n)).data}))}}return e.DEFAULT_INVOICES_CHUNK_SIZE=10,e.URL={BILLING:"billing",CHARGES:"charges",CURRENCIES:"currencies",INFO:"info",INVOICES:"invoices",PLAN:"plan",PLANS:"plans",TEAMS:"/teams"},e})();t.PaymentAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentStatus=void 0,function(e){e.ACTIVE="active",e.CANCELED="canceled",e.PAST_DUE="past_due",e.TRAILING="trialing",e.UNPAID="unpaid"}(t.PaymentStatus||(t.PaymentStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentInterval=void 0,function(e){e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year"}(t.PaymentInterval||(t.PaymentInterval={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentPlanID=void 0,function(e){e.ANNUAL="wire_annual_plan",e.MONTHLY="wire_monthly_plan"}(t.PaymentPlanID||(t.PaymentPlanID={}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FAILED="failed",e.PENDING="pending",e.SUCCEEDED="succeeded"}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SupportedCurrency=void 0,function(e){e.CHF="CHF",e.EUR="EUR",e.USD="USD"}(t.SupportedCurrency||(t.SupportedCurrency={}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(160),t),i(n(161),t),i(n(162),t),i(n(163),t),i(n(164),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getServices(t=100,n,i){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:t,start:n,tags:i},url:`/${e.URL.SERVICES}`};return(yield this.client.sendJSON(r)).data}))}getTeamServices(t,n=100){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{prefix:void 0,size:n,start:void 0},url:`${e.URL.TEAMS}/${t}/${e.URL.SERVICES}/${e.URL.WHITELISTED}`};return(yield this.client.sendJSON(r)).data}))}getProvider(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.PROVIDERS}/${t}`};return(yield this.client.sendJSON(n)).data}))}getProviderServices(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.PROVIDERS}/${t}/${e.URL.SERVICES}`};return(yield this.client.sendJSON(n)).data}))}getService(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${e.URL.PROVIDERS}/${t}/${e.URL.SERVICES}/${n}`};return(yield this.client.sendJSON(r)).data}))}postServiceWhitelist(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"post",url:`${e.URL.TEAMS}/${t}/${e.URL.SERVICES}/${e.URL.WHITELIST}`};return(yield this.client.sendJSON(r)).data}))}}return e.URL={PROVIDERS:"/providers",SERVICES:"services",TEAMS:"/teams",WHITELIST:"whitelist",WHITELISTED:"whitelisted"},e})();t.ServiceAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceNotFoundError=t.InvalidInvitationCodeError=t.InviteEmailInUseError=t.TeamError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ConversationError"}}t.TeamError=i;t.InviteEmailInUseError=class extends i{constructor(e,t=r.BackendErrorLabel.INVITE_EMAIL_EXISTS,n=r.StatusCode.CONFLICT){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InviteEmailInUseError"}};t.InvalidInvitationCodeError=class extends i{constructor(e,t=r.BackendErrorLabel.INVALID_INVITATION_CODE,n=r.StatusCode.BAD_REQUEST){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="InvalidInvitationCodeError"}};t.ServiceNotFoundError=class extends i{constructor(e,t=r.SyntheticErrorLabel.SERVICE_NOT_FOUND,n=r.StatusCode.NOT_FOUND){super(e,t,n),Object.setPrototypeOf(this,new.target.prototype),this.name="ServiceNotFoundError"}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(167),t),i(n(168),t),i(n(169),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IdentityProviderAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getIdentityProvider(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.PROVIDER}/${t}`};return(yield this.client.sendJSON(n)).data}))}getIdentityProviders(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.PROVIDER}`};return(yield this.client.sendJSON(t)).data}))}deleteIdentityProvider(t){return r(this,void 0,void 0,(function*(){const n={method:"delete",url:`${e.URL.PROVIDER}/${t}`};yield this.client.sendJSON(n)}))}postIdentityProvider(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.PROVIDER}`};return(yield this.client.sendXML(n)).data}))}getMetadata(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.SSO}/${e.URL.METADATA}`};return(yield this.client.sendJSON(t)).data}))}}return e.URL={METADATA:"metadata",PROVIDER:"/identity-providers",SSO:"/sso"},e})();t.IdentityProviderAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(171),t),i(n(172),t),i(n(173),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getIdentityProviderStatus(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.FEATURES}/${e.URL.SSO}`};return(yield this.client.sendJSON(n)).data}))}}return e.URL={FEATURES:"features",SSO:"sso",TEAMS:"/teams"},e})();t.FeatureAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureStatus=void 0,function(e){e.DISABLED="disabled",e.ENABLED="enabled"}(t.FeatureStatus||(t.FeatureStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(175),t),i(n(176),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TeamConversationAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}deleteConversation(t,n){return r(this,void 0,void 0,(function*(){const r={method:"delete",url:`${e.URL.TEAMS}/${t}/${e.URL.CONVERSATIONS}/${n}`};yield this.client.sendJSON(r)}))}getConversation(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.CONVERSATIONS}/${n}`};return(yield this.client.sendJSON(r)).data}))}getConversations(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.CONVERSATIONS}`};return(yield this.client.sendJSON(n)).data}))}getRoles(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.TEAMS}/${t}/${e.URL.CONVERSATIONS}/${e.URL.ROLES}`};return(yield this.client.sendJSON(n)).data}))}}return e.URL={CONVERSATIONS:"conversations",ROLES:"roles",TEAMS:"/teams"},e})();t.TeamConversationAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserAPI=void 0;const o=i(n(17)),s=n(10),a=n(2),c=n(51);let u=(()=>{class e{constructor(e){this.client=e}deleteProperties(){return r(this,void 0,void 0,(function*(){const t={method:"delete",url:e.URL.PROPERTIES};yield this.client.sendJSON(t)}))}deleteProperty(t){return r(this,void 0,void 0,(function*(){const n={method:"delete",url:`${e.URL.PROPERTIES}/${t}`};yield this.client.sendJSON(n)}))}getActivation(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{code:t,key:n},url:e.URL.ACTIVATE};return(yield this.client.sendJSON(r)).data}))}getCallsConfiguration(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.CALLS}/config`};return(yield this.client.sendJSON(t)).data}))}getClient(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${e.URL.USERS}/${t}/${e.URL.CLIENTS}/${n}`};return(yield this.client.sendJSON(r)).data}))}getClientPreKey(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",url:`${e.URL.USERS}/${t}/${e.URL.PRE_KEYS}/${n}`};return(yield this.client.sendJSON(r)).data}))}getClients(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${t}/${e.URL.CLIENTS}`};return(yield this.client.sendJSON(n)).data}))}getHandle(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${e.URL.HANDLES}/${t}`};return(yield this.client.sendJSON(n)).data}))}getProperties(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:e.URL.PROPERTIES};return(yield this.client.sendJSON(t)).data}))}getProperty(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.PROPERTIES}/${t}`};return(yield this.client.sendJSON(n)).data}))}getSearchContacts(t,n){return r(this,void 0,void 0,(function*(){const i=o.default.CancelToken.source(),s={cancelToken:i.token,method:"get",params:{q:t},url:`${e.URL.SEARCH}/${e.URL.CONTACTS}`};n&&(s.params.size=n);return{cancel:()=>i.cancel(a.SyntheticErrorLabel.REQUEST_CANCELLED),response:(()=>r(this,void 0,void 0,(function*(){try{return(yield this.client.sendJSON(s)).data}catch(e){if(e.message===a.SyntheticErrorLabel.REQUEST_CANCELLED)throw new c.RequestCancellationError("Search request got cancelled");throw e}})))()}}))}getUser(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${t}`};return(yield this.client.sendJSON(n)).data}))}getUserPreKeys(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${t}/${e.URL.PRE_KEYS}`};return(yield this.client.sendJSON(n,!0)).data}))}getUsers(t,n=e.DEFAULT_USERS_CHUNK_SIZE){return r(this,void 0,void 0,(function*(){const{handles:e,ids:r}=t;if(null==e?void 0:e.length){const t=s.ArrayUtil.removeDuplicates(e),r=s.ArrayUtil.chunk(t,n),i=yield Promise.all(r.map(e=>this._getUsers({handles:e})));return s.ArrayUtil.flatten(i)}if(null==r?void 0:r.length){const e=s.ArrayUtil.removeDuplicates(r),t=s.ArrayUtil.chunk(e,n),i=yield Promise.all(t.map(e=>this._getUsers({ids:e})));return s.ArrayUtil.flatten(i)}return[]}))}_getUsers(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:{},url:e.URL.USERS};return t.handles?n.params.handles=t.handles.join(","):t.ids&&(n.params.ids=t.ids.join(",")),(yield this.client.sendJSON(n)).data}))}getUsersByIds(e){return r(this,void 0,void 0,(function*(){return this.getUsers({ids:e},100)}))}postActivation(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.ACTIVATE};return(yield this.client.sendJSON(n)).data}))}postActivationCode(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.ACTIVATE}/${e.URL.SEND}`};yield this.client.sendJSON(n)}))}postDelete(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.DELETE};yield this.client.sendJSON(n)}))}postHandles(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.USERS}/${e.URL.HANDLES}`};return(yield this.client.sendJSON(n)).data}))}headHandle(t){return r(this,void 0,void 0,(function*(){const n={method:"head",url:`${e.URL.USERS}/${e.URL.HANDLES}/${t}`};yield this.client.sendJSON(n)}))}getUserByHandle(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${e.URL.HANDLES}/${t}`};return(yield this.client.sendJSON(n)).data}))}_postMultiPreKeyBundlesChunk(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:`${e.URL.USERS}/${e.URL.PRE_KEYS}`};return(yield this.client.sendJSON(n,!0)).data}))}postMultiPreKeyBundles(t,n=e.DEFAULT_USERS_PREKEY_BUNDLE_CHUNK_SIZE){return r(this,void 0,void 0,(function*(){const e=s.ArrayUtil.chunk(Object.keys(t),n);return(yield Promise.all(e.map(e=>this._postMultiPreKeyBundlesChunk(e.reduce((e,n)=>Object.assign(Object.assign({},e),{[n]:t[n]}),{}))))).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})}))}postPasswordReset(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.PASSWORDRESET};yield this.client.sendJSON(n)}))}putProperty(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.PROPERTIES}/${t}`};yield this.client.sendJSON(r)}))}getRichInfo(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.USERS}/${t}/${e.URL.RICH_INFO}`};return(yield this.client.sendJSON(n)).data}))}}return e.DEFAULT_USERS_CHUNK_SIZE=50,e.DEFAULT_USERS_PREKEY_BUNDLE_CHUNK_SIZE=128,e.URL={ACTIVATE:"/activate",CALLS:"/calls",CLIENTS:"clients",CONTACTS:"contacts",DELETE:"/delete",HANDLES:"handles",PASSWORDRESET:"/password-reset",PRE_KEYS:"prekeys",PROPERTIES:"/properties",RICH_INFO:"rich-info",SEARCH:"/search",SEND:"send",USERS:"/users"},e})();t.UserAPI=u},function(e,t,n){"use strict";var r=n(3),i=n(43),o=n(191),s=n(49);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(n(46));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=n(50),c.CancelToken=n(204),c.isCancel=n(45),c.all=function(e){return Promise.all(e)},c.spread=n(205),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";var r=n(3),i=n(44),o=n(192),s=n(193),a=n(49);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t,n){"use strict";var r=n(3);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(194),o=n(45),s=n(46);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(48);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(199),i=n(200);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(3),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(3);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(50);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserAssetType=void 0,function(e){e.COMPLETE="complete",e.PREVIEW="preview"}(t.UserAssetType||(t.UserAssetType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,function(e){e.CONNECTED="NetworkState.CONNECTED",e.CONNECTING="NetworkState.CONNECTING",e.DISCONNECTED="NetworkState.DISCONNECTED",e.UNDEFINED="NetworkState.UNDEFINED"}(t.ConnectionState||(t.ConnectionState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=void 0,function(e){e.APPLICATION_JSON="application/json;charset=UTF-8",e.APPLICATION_PROTOBUF="application/x-protobuf",e.APPLICATION_XML="application/xml"}(t.ContentType||(t.ContentType={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;const o=n(10),s=n(213),a=i(n(17)),c=n(9),u=i(n(7)),d=n(12),l=n(2),f=n(53),h=n(30);var p;!function(e){e.ON_CONNECTION_STATE_CHANGE="HttpClient.TOPIC.ON_CONNECTION_STATE_CHANGE"}(p||(p={}));let E=(()=>{class e extends c.EventEmitter{constructor(e,t){super(),this.baseUrl=e,this.accessTokenStore=t,this.connectionState=l.ConnectionState.UNDEFINED,this.logger=u.default("@wireapp/api-client/http/HttpClient",{logger:console,markdown:!1}),this.requestQueue=new s.PriorityQueue({maxRetries:0,retryDelay:o.TimeUtil.TimeInMillis.SECOND}),a.default.interceptors.response.use(void 0,e=>{let t="";if(e.response)try{t=JSON.stringify(e.response.data)}finally{this.logger.error(`HTTP Error (${e.response.status}) on '${e.response.config.url}': ${e.message} (${t})`)}return Promise.reject(e)})}updateConnectionState(t){this.connectionState!==t&&(this.connectionState=t,this.emit(e.TOPIC.ON_CONNECTION_STATE_CHANGE,this.connectionState))}_sendRequest(e,t=!1,n=!0){var i;return r(this,void 0,void 0,(function*(){if(e.baseURL=this.baseUrl,this.accessTokenStore.accessToken){const{token_type:n,access_token:r}=this.accessTokenStore.accessToken;t?e.params=Object.assign(Object.assign({},e.params),{access_token:r}):e.headers=Object.assign(Object.assign({},e.headers),{Authorization:`${n} ${r}`})}try{const t=yield a.default.request(Object.assign(Object.assign({},e),{maxContentLength:104857600}));return this.updateConnectionState(l.ConnectionState.CONNECTED),t}catch(r){const{response:o,request:s}=r;if(!o&&s&&!Object.keys(s).length){const e=`Cannot do "${r.config.method}" request to "${r.config.url}".`,t=new l.NetworkError(e);throw this.updateConnectionState(l.ConnectionState.DISCONNECTED),t}if(o){const{data:s,status:a}=o;if((null==s?void 0:s.code)&&(null==s?void 0:s.label)&&(null==s?void 0:s.message))r=l.BackendErrorMapper.map(s);else{const r=a===l.StatusCode.UNAUTHORIZED,o=!!(null===(i=this.accessTokenStore)||void 0===i?void 0:i.accessToken);if(r&&o&&n)return yield this.refreshAccessToken(),this._sendRequest(e,t,!1)}}throw r}}))}refreshAccessToken(){var e;return r(this,void 0,void 0,(function*(){let t;(null===(e=this.accessTokenStore.accessToken)||void 0===e?void 0:e.access_token)&&(t=this.accessTokenStore.accessToken);const n=yield this.postAccess(t);return this.logger.info(`Received updated access token. It will expire in "${n.expires_in}" seconds.`,f.ObfuscationUtil.obfuscateAccessToken(n)),this.accessTokenStore.updateToken(n)}))}postAccess(e){return r(this,void 0,void 0,(function*(){const t={headers:{},method:"post",url:`${d.AuthAPI.URL.ACCESS}`,withCredentials:!0};return(null==e?void 0:e.access_token)&&(t.headers.Authorization=`${e.token_type} ${decodeURIComponent(e.access_token)}`),(yield h.sendRequestWithCookie(this,t)).data}))}sendRequest(e,t=!1,n=!1){return r(this,void 0,void 0,(function*(){return n?this.requestQueue.add(()=>this._sendRequest(e,t)):this._sendRequest(e,t)}))}sendJSON(e,t=!1){return e.headers=Object.assign(Object.assign({},e.headers),{"Content-Type":l.ContentType.APPLICATION_JSON}),this.sendRequest(e,t)}sendXML(e,t=!1){return e.headers=Object.assign(Object.assign({},e.headers),{"Content-Type":l.ContentType.APPLICATION_XML}),this.sendRequest(e,t)}sendProtocolBuffer(e,t=!1){return e.headers["Content-Type"]=l.ContentType.APPLICATION_PROTOBUF,this.sendRequest(e,t)}}return e.TOPIC=p,e})();t.HttpClient=E},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(52),t),i(n(18),t),i(n(214),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PriorityQueue=void 0;const o=i(n(7)),s=n(52),a=n(18);t.PriorityQueue=class{constructor(e){this.logger=o.default("@wireapp/priority-queue/PriorityQueue",{logger:console,markdown:!1}),this.config={comparator:(e,t)=>e.priority===t.priority?e.timestamp-t.timestamp:t.priority-e.priority,maxRetries:0,maxRetryDelay:Number.MAX_SAFE_INTEGER,retryDelay:1e3,retryGrowthFactor:1.3},this.isRunning=!1,this.queue=[],this.config=Object.assign(Object.assign({},this.config),e)}add(e,t=a.Priority.MEDIUM,n){return new Promise((r,i)=>{const o=new s.Item;o.fn=e,o.label=n,o.priority=t,o.reject=i,o.resolve=r,o.retry=0,o.timestamp=Date.now()+this.size,this.queue.push(o),this.queue.sort(this.config.comparator),this.isRunning||(this.isRunning=!0,this.processList())})}delete(e){this.queue=this.queue.filter(t=>t.label!==e)}deleteAll(){this.queue=[]}get all(){return this.queue}get first(){return this.queue[0]}get last(){return this.queue[this.queue.length-1]}get size(){return this.queue.length}processList(){return r(this,void 0,void 0,(function*(){const e=this.first;if(e)try{e.resolve(yield e.fn()),this.queue.shift(),this.processList()}catch(t){e.retry>=this.config.maxRetries?(this.queue.shift(),e.reject(t),this.processList()):(this.logger.log(`Retrying item "${e}"`),setTimeout(()=>this.processList(),this.getGrowingDelay(e.retry)),e.retry++)}else this.isRunning=!1}))}getGrowingDelay(e){const t=e<1?this.config.retryDelay:this.config.retryDelay*e*this.config.retryGrowthFactor;return Math.min(t,this.config.maxRetryDelay)}toString(){return this.queue.map((e,t)=>`"${t}": ${e.toString()}`).join("\r\n")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObfuscationUtil=void 0;t.ObfuscationUtil={obfuscateAccessToken:(e,t=!0)=>t?Object.assign(Object.assign({},e),{access_token:`${e.access_token.substr(0,20)}...`}):e,obfuscateCookie:(e,t=!0)=>{if(t){const t=e.clone();return t.value=`${e.value.substr(0,20)}...`,t}return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkError=void 0;class r extends Error{constructor(e){super(e),this.message=e,Object.setPrototypeOf(this,new.target.prototype),this.name="NetworkError",this.stack=(new Error).stack}}t.NetworkError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusCode=void 0,function(e){e[e.ACCEPTED=202]="ACCEPTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.CONFLICT=409]="CONFLICT",e[e.CONNECTIVITY_PROBLEM=0]="CONNECTIVITY_PROBLEM",e[e.CREATED=201]="CREATED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.OK=200]="OK",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.REQUEST_TOO_LARGE=413]="REQUEST_TOO_LARGE",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.UNKNOWN=-1]="UNKNOWN"}(t.StatusCode||(t.StatusCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleProgressEvent=void 0,t.handleProgressEvent=e=>e&&(t=>{e(t.loaded/t.total)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomBackendNotFoundError=t.AccountError=void 0;const r=n(2);class i extends r.BackendError{constructor(e,t,n){super(e,t,n),Object.setPrototypeOf(this,i.prototype),this.name="AccountError"}}t.AccountError=i;class o extends i{constructor(e,t=r.BackendErrorLabel.CUSTOM_BACKEND_NOT_FOUND,n=r.StatusCode.NOT_FOUND){super(e,t,n),Object.setPrototypeOf(this,o.prototype),this.name="CustomBackendNotFoundError"}}t.CustomBackendNotFoundError=o},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(222),t),i(n(55),t),i(n(225),t),i(n(56),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AssetAPI=void 0;const o=i(n(17)),s=n(2),a=n(54),c=n(224),u=n(16),d=n(55),l=n(56);let f=(()=>{class e{constructor(e){this.client=e}getAssetV1(t,n,i=!1,a){return r(this,void 0,void 0,(function*(){if(!l.isValidUUID(t))throw new TypeError(`Expected asset ID "${t}" to only contain alphanumeric values and dashes.`);if(!l.isValidUUID(n))throw new TypeError(`Expected conversation ID "${n}" to only contain alphanumeric values and dashes.`);const c=o.default.CancelToken.source(),d={cancelToken:c.token,method:"get",onDownloadProgress:s.handleProgressEvent(a),onUploadProgress:s.handleProgressEvent(a),params:{conv_id:n},responseType:"arraybuffer",url:`${e.ASSET_V1_URL}/${t}`};i&&(d.params.forceCaching=i);return{cancel:()=>c.cancel(s.SyntheticErrorLabel.REQUEST_CANCELLED),response:(()=>r(this,void 0,void 0,(function*(){try{const e=yield this.client.sendRequest(d,!0);return{buffer:e.data,mimeType:e.headers["content-type"]}}catch(e){if(e.message===s.SyntheticErrorLabel.REQUEST_CANCELLED)throw new u.RequestCancellationError("Asset download got cancelled.");throw e}})))()}}))}getAssetV2(t,n,i=!1,a){return r(this,void 0,void 0,(function*(){if(!l.isValidUUID(t))throw new TypeError(`Expected asset ID "${t}" to only contain alphanumeric values and dashes.`);if(!l.isValidUUID(n))throw new TypeError(`Expected conversation ID "${n}" to only contain alphanumeric values and dashes.`);const c=o.default.CancelToken.source(),d={cancelToken:c.token,method:"get",onDownloadProgress:s.handleProgressEvent(a),onUploadProgress:s.handleProgressEvent(a),params:{},responseType:"arraybuffer",url:`${e.ASSET_V2_CONVERSATION_URL}/${n}${e.ASSET_V2_URL}/${t}`};i&&(d.params.forceCaching=i);return{cancel:()=>c.cancel(s.SyntheticErrorLabel.REQUEST_CANCELLED),response:(()=>r(this,void 0,void 0,(function*(){try{const e=yield this.client.sendRequest(d,!0);return{buffer:e.data,mimeType:e.headers["content-type"]}}catch(e){if(e.message===s.SyntheticErrorLabel.REQUEST_CANCELLED)throw new u.RequestCancellationError("Asset download got cancelled.");throw e}})))()}}))}getAssetV3(t,n,i=!1,a){return r(this,void 0,void 0,(function*(){if(!l.isValidUUID(t))throw new TypeError(`Expected asset ID "${t}" to only contain alphanumeric values and dashes.`);if(n&&!l.isValidToken(n))throw new TypeError(`Expected token "${n.substr(0,5)}..." (redacted) to be base64 encoded string.`);const c=o.default.CancelToken.source(),d={cancelToken:c.token,method:"get",onDownloadProgress:s.handleProgressEvent(a),onUploadProgress:s.handleProgressEvent(a),params:{},responseType:"arraybuffer",url:`${e.ASSET_V3_URL}/${t}`};n&&(d.params.asset_token=n),i&&(d.params.forceCaching=i);return{cancel:()=>c.cancel(s.SyntheticErrorLabel.REQUEST_CANCELLED),response:(()=>r(this,void 0,void 0,(function*(){try{const e=yield this.client.sendRequest(d,!0);return{buffer:e.data,mimeType:e.headers["content-type"]}}catch(e){if(e.message===s.SyntheticErrorLabel.REQUEST_CANCELLED)throw new u.RequestCancellationError("Asset download got cancelled.");throw e}})))()}}))}postAsset(t,n,i){return r(this,void 0,void 0,(function*(){const l=`Frontier${c.unsafeAlphanumeric()}`,f=JSON.stringify(Object.assign({public:!0,retention:d.AssetRetentionPolicy.PERSISTENT},n));let h="";h+=`--${l}\r\n`,h+="Content-Type: application/json;charset=utf-8\r\n",h+=`Content-length: ${f.length}\r\n`,h+="\r\n",h+=`${f}\r\n`,h+=`--${l}\r\n`,h+="Content-Type: application/octet-stream\r\n",h+=`Content-length: ${t.length}\r\n`,h+=`Content-MD5: ${a.base64MD5FromBuffer(t.buffer)}\r\n`,h+="\r\n";const p=`\r\n--${l}--\r\n`,E=o.default.CancelToken.source(),v={cancelToken:E.token,data:a.concatToBuffer(h,t,p),headers:{"Content-Type":`multipart/mixed; boundary=${l}`},method:"post",onDownloadProgress:s.handleProgressEvent(i),onUploadProgress:s.handleProgressEvent(i),url:e.ASSET_V3_URL};return{cancel:()=>E.cancel(s.SyntheticErrorLabel.REQUEST_CANCELLED),response:(()=>r(this,void 0,void 0,(function*(){try{return(yield this.client.sendRequest(v)).data}catch(e){if(e.message===s.SyntheticErrorLabel.REQUEST_CANCELLED)throw new u.RequestCancellationError("Asset upload got cancelled.");throw e}})))()}}))}}return e.ASSET_V3_URL="/assets/v3",e.ASSET_V2_URL="/otr/assets",e.ASSET_V2_CONVERSATION_URL="/conversations",e.ASSET_V1_URL="/assets",e})();t.AssetAPI=f},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,s,a,c,u=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(d,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,c=this.byteLength,u=t(n,c),d=c;return r!==e&&(d=t(r,c)),u>d?new ArrayBuffer(0):(i=d-u,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,u,i),s.set(a),o)}}(),d.prototype.append=function(e){return this.appendBinary(c(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=u(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var r,i,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},d.hash=function(e,t){return d.hashBinary(c(e),t)},d.hashBinary=function(e,t){var n=a(o(e));return t?u(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,r,o,s,a,c=(r=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),a.set(new Uint8Array(o),r.byteLength),s?a:a.buffer),u=c.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,i(c.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=u(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e,t=d.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},d.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var r=a(function(e){var t,r,o,s,a,c,u=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(d,i(e.subarray(t-64,t)));for(e=t-64<u?e.subarray(t-64):new Uint8Array(0),r=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}(new Uint8Array(e)));return t?u(r):r},d}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeAlphanumeric=void 0,t.unsafeAlphanumeric=(e=32)=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from(Array(e).keys()).reduce((e,n)=>e+t[Math.floor(Math.random()*t.length)],"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(227),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastAPI=void 0;const i=n(37);let o=(()=>{class e{constructor(e){this.client=e}postBroadcastMessage(t,n,o){return r(this,void 0,void 0,(function*(){if(!t)throw new i.ValidationError("Unable to send OTR message without client ID.");const r={data:n,method:"post",url:e.URL.BROADCAST};return"boolean"==typeof o&&(r.params={ignore_missing:o}),("object"==typeof n.recipients?yield this.client.sendJSON(r):yield this.client.sendProtocolBuffer(r)).data}))}}return e.URL={BROADCAST:"/broadcast/otr/messages"},e})();t.BroadcastAPI=o},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(229),t),i(n(230),t),i(n(231),t),i(n(232),t),i(n(233),t),i(n(234),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getConnection(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.CONNECTIONS}/${t}`};return(yield this.client.sendJSON(n)).data}))}getConnections(t,n=100){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{size:n,start:t},url:e.URL.CONNECTIONS};return(yield this.client.sendJSON(r)).data}))}getAllConnections(){let e=[];const t=n=>r(this,void 0,void 0,(function*(){const{connections:r,has_more:i}=yield this.getConnections(n,500);if(r.length&&(e=e.concat(r)),i){const e=r.pop();if(e)return t(e.to)}return e}));return t()}postConnection(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"post",url:e.URL.CONNECTIONS};return(yield this.client.sendJSON(n)).data}))}putConnection(t,n){return r(this,void 0,void 0,(function*(){const r={data:n,method:"put",url:`${e.URL.CONNECTIONS}/${t}`};return(yield this.client.sendJSON(r)).data}))}}return e.URL={CONNECTIONS:"/connections"},e})();t.ConnectionAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionStatus=void 0,function(e){e.ACCEPTED="accepted",e.BLOCKED="blocked",e.CANCELLED="cancelled",e.IGNORED="ignored",e.PENDING="pending",e.SENT="sent",e.UNKNOWN="unknown"}(t.ConnectionStatus||(t.ConnectionStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(236),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Backend=void 0;t.Backend={PRODUCTION:{name:"production",rest:"https://prod-nginz-https.wire.com",ws:"wss://prod-nginz-ssl.wire.com"},STAGING:{name:"staging",rest:"https://staging-nginz-https.zinfra.io",ws:"wss://staging-nginz-ssl.zinfra.io"}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(238),t),i(n(239),t),i(n(240),t),i(n(241),t)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GiphyAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}getGiphyByIds(t){return r(this,void 0,void 0,(function*(){const n=t.ids.join(",");delete t.ids;const r={method:"get",params:t,url:`${e.URL.PROXY}/${e.URL.GIPHY}/${n}`};return(yield this.client.sendJSON(r)).data}))}getGiphyById(t){return r(this,void 0,void 0,(function*(){const n={method:"get",url:`${e.URL.PROXY}/${e.URL.GIPHY}/${t}`};return(yield this.client.sendJSON(n)).data}))}getGiphyRandom(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:t,url:`${e.URL.PROXY}/${e.URL.GIPHY}/${e.URL.RANDOM}`};return(yield this.client.sendJSON(n)).data}))}getGiphySearch(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:t,url:`${e.URL.PROXY}/${e.URL.GIPHY}/${e.URL.SEARCH}`};return(yield this.client.sendJSON(n)).data}))}getGiphyTrending(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:t,url:`${e.URL.PROXY}/${e.URL.GIPHY}/${e.URL.TRENDING}`};return(yield this.client.sendJSON(n)).data}))}}return e.URL={GIPHY:"giphy/v1/gifs",PROXY:"/proxy",RANDOM:"random",SEARCH:"search",TRENDING:"trending"},e})();t.GiphyAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIPHY_RATING=void 0,function(e){e.ALL_AGES_AND_PEOPLE="g",e.MILD_SUBSTANCE="pg-13",e.REQUIRE_PARENTAL_PREVIEW="pg",e.STRONG_LANGUAGE="r"}(t.GIPHY_RATING||(t.GIPHY_RATING={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(243),t),i(n(244),t),i(n(245),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationAPI=t.NOTIFICATION_SIZE_MAXIMUM=void 0,t.NOTIFICATION_SIZE_MAXIMUM=1e4;let i=(()=>{class e{constructor(e){this.client=e}getLastNotification(t){return r(this,void 0,void 0,(function*(){const n={method:"get",params:{client:t},url:`${e.URL.NOTIFICATION}/${e.URL.LAST}`};return(yield this.client.sendJSON(n)).data}))}getNotifications(n,i=t.NOTIFICATION_SIZE_MAXIMUM,o){return r(this,void 0,void 0,(function*(){const t={method:"get",params:{client:n,since:o,size:i},url:e.URL.NOTIFICATION};return(yield this.client.sendJSON(t)).data}))}getAllNotifications(e,n){return r(this,void 0,void 0,(function*(){let i=[];const o=(e,n)=>r(this,void 0,void 0,(function*(){const{notifications:r,has_more:s}=yield this.getNotifications(e,t.NOTIFICATION_SIZE_MAXIMUM,n);if(r.length&&(i=i.concat(r)),s){const t=r[r.length-1];if(t)return o(e,t.id)}return i}));return o(e,n)}))}getNotification(t,n){return r(this,void 0,void 0,(function*(){const r={method:"get",params:{client:n},url:`${e.URL.NOTIFICATION}/${t}`};return(yield this.client.sendJSON(r)).data}))}}return e.URL={LAST:"last",NOTIFICATION:"/notifications"},e})();t.NotificationAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(247),t),i(n(248),t),i(n(249),t),i(n(250),t),i(n(251),t),i(n(252),t),i(n(253),t),i(n(254),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentType=void 0,function(e){e[e.TERMS_OF_USE=1]="TERMS_OF_USE",e[e.MARKETING=2]="MARKETING"}(t.ConsentType||(t.ConsentType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ManagedSource=void 0,function(e){e.SCIM="scim",e.WIRE="wire"}(t.ManagedSource||(t.ManagedSource={}))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SelfAPI=void 0;let i=(()=>{class e{constructor(e){this.client=e}deleteEmail(){return r(this,void 0,void 0,(function*(){const t={method:"delete",url:`${e.URL.SELF}/${e.URL.EMAIL}`};yield this.client.sendJSON(t)}))}deletePhone(){return r(this,void 0,void 0,(function*(){const t={method:"delete",url:`${e.URL.SELF}/${e.URL.PHONE}`};yield this.client.sendJSON(t)}))}deleteSelf(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"delete",url:e.URL.SELF};yield this.client.sendJSON(n)}))}getName(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.SELF}/${e.URL.NAME}`};return(yield this.client.sendJSON(t)).data}))}getConsents(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:`${e.URL.SELF}/${e.URL.CONSENT}`};return(yield this.client.sendJSON(t)).data}))}putConsent(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.CONSENT}`};yield this.client.sendJSON(n)}))}getSelf(){return r(this,void 0,void 0,(function*(){const t={method:"get",url:e.URL.SELF};return(yield this.client.sendJSON(t)).data}))}putEmail(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.EMAIL}`};yield this.client.sendJSON(n)}))}putHandle(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.HANDLE}`};yield this.client.sendJSON(n)}))}putLocale(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.LOCALE}`};yield this.client.sendJSON(n)}))}putPassword(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.PASSWORD}`};yield this.client.sendJSON(n)}))}putPhone(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:`${e.URL.SELF}/${e.URL.PHONE}`};yield this.client.sendJSON(n)}))}putSelf(t){return r(this,void 0,void 0,(function*(){const n={data:t,method:"put",url:e.URL.SELF};yield this.client.sendJSON(n)}))}headPassword(){const t={method:"head",url:`${e.URL.SELF}/${e.URL.PASSWORD}`};return this.client.sendJSON(t)}}return e.URL={CONSENT:"consent",EMAIL:"email",HANDLE:"handle",LOCALE:"locale",NAME:"name",PASSWORD:"password",PHONE:"phone",SELF:"/self"},e})();t.SelfAPI=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocketClient=void 0;const o=n(9),s=i(n(7)),a=n(12),c=n(2),u=n(256);var d;!function(e){e.ON_ERROR="WebSocketClient.TOPIC.ON_ERROR",e.ON_INVALID_TOKEN="WebSocketClient.TOPIC.ON_INVALID_TOKEN",e.ON_MESSAGE="WebSocketClient.TOPIC.ON_MESSAGE",e.ON_STATE_CHANGE="WebSocketClient.TOPIC.ON_STATE_CHANGE"}(d||(d={}));let l=(()=>{class e extends o.EventEmitter{constructor(t,n){super(),this.onBeforeConnect=()=>Promise.resolve(),this.onMessage=t=>{if(this.isLocked())this.bufferedMessages.push(t);else{const n=JSON.parse(t);this.emit(e.TOPIC.ON_MESSAGE,n)}},this.onError=t=>r(this,void 0,void 0,(function*(){this.onStateChange(this.socket.getState()),this.emit(e.TOPIC.ON_ERROR,t),yield this.refreshAccessToken()})),this.onReconnect=()=>r(this,void 0,void 0,(function*(){try{this.lock(),this.logger.info('Calling "onBeforeConnect"'),yield this.onBeforeConnect()}catch(t){this.logger.warn('Error during execution of "beforeReconnect"',t),this.emit(e.TOPIC.ON_ERROR,t)}finally{this.unlock()}return this.onStateChange(this.socket.getState()),this.buildWebSocketUrl()})),this.onOpen=e=>{this.onStateChange(this.socket.getState())},this.onClose=e=>{this.onStateChange(this.socket.getState())},this.unlock=()=>{this.logger.info(`Unlocking WebSocket - Emitting "${this.bufferedMessages.length}" unprocessed messages`),this.isSocketLocked=!1;for(const e of this.bufferedMessages)this.onMessage(e);this.bufferedMessages=[]},this.lock=()=>{this.logger.info("Locking WebSocket"),this.isSocketLocked=!0},this.bufferedMessages=[],this.isSocketLocked=!1,this.baseUrl=t,this.client=n,this.isRefreshingAccessToken=!1,this.socket=new u.ReconnectingWebsocket(this.onReconnect),this.websocketState=this.socket.getState(),this.logger=s.default("@wireapp/api-client/tcp/WebSocketClient",{logger:console,markdown:!1})}onStateChange(t){t!==this.websocketState&&(this.websocketState=t,this.emit(e.TOPIC.ON_STATE_CHANGE,this.websocketState))}connect(e,t){return r(this,void 0,void 0,(function*(){return t&&(this.onBeforeConnect=t),this.clientId=e,this.socket.setOnMessage(this.onMessage),this.socket.setOnError(this.onError),this.socket.setOnOpen(this.onOpen),this.socket.setOnClose(this.onClose),this.socket.connect(),this}))}refreshAccessToken(){return r(this,void 0,void 0,(function*(){if(!this.isRefreshingAccessToken){this.isRefreshingAccessToken=!0;try{yield this.client.refreshAccessToken()}catch(t){if(t instanceof c.NetworkError)this.logger.warn(t);else{const n=c.BackendErrorMapper.map(t);this.emit(t instanceof a.InvalidTokenError?e.TOPIC.ON_INVALID_TOKEN:e.TOPIC.ON_ERROR,n)}}finally{this.isRefreshingAccessToken=!1}}}))}disconnect(e,t=!0){this.socket&&this.socket.disconnect(e,t)}isLocked(){return this.isSocketLocked}buildWebSocketUrl(){const e=this.client.accessTokenStore.accessToken,t=e&&e.access_token?e.access_token:"";t||this.logger.warn("Reconnecting WebSocket with unset token");let n=`${this.baseUrl}/await?access_token=${t}`;return this.clientId&&(n+=`&client=${this.clientId}`),n}}return e.TOPIC=d,e})();t.WebSocketClient=l},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReconnectingWebsocket=t.PingMessage=t.WEBSOCKET_STATE=t.CloseEventCode=void 0;const c=n(10),u=a(n(7)),d=a(n(257)),l=n(258),f=o(n(54));var h,p,E;!function(e){e[e.NORMAL_CLOSURE=1e3]="NORMAL_CLOSURE",e[e.GOING_AWAY=1001]="GOING_AWAY",e[e.PROTOCOL_ERROR=1002]="PROTOCOL_ERROR",e[e.UNSUPPORTED_DATA=1003]="UNSUPPORTED_DATA"}(h=t.CloseEventCode||(t.CloseEventCode={})),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(p=t.WEBSOCKET_STATE||(t.WEBSOCKET_STATE={})),function(e){e.PING="ping",e.PONG="pong"}(E=t.PingMessage||(t.PingMessage={}));let v=(()=>{class e{constructor(e,t={}){this.onReconnect=e,this.PING_INTERVAL=20*c.TimeUtil.TimeInMillis.SECOND,this.internalOnError=e=>{this.logger.warn("WebSocket connection error",e),this.onError&&this.onError(e)},this.internalOnMessage=e=>{this.logger.debug("Incoming message");const t=f.bufferToString(e.data);t===E.PONG?(this.logger.debug("Received pong from WebSocket"),this.hasUnansweredPing=!1):this.onMessage&&this.onMessage(t)},this.internalOnOpen=e=>{this.logger.debug("WebSocket opened"),this.socket&&(this.socket.binaryType="arraybuffer"),this.onOpen&&this.onOpen(e)},this.internalOnReconnect=()=>s(this,void 0,void 0,(function*(){return this.logger.debug("Connecting to WebSocket"),this.startPinging(),this.onReconnect()})),this.internalOnClose=e=>{this.logger.debug("WebSocket closed"),this.stopPinging(),this.onClose&&this.onClose(e)},this.sendPing=()=>{if(this.socket){if(this.hasUnansweredPing)return this.logger.warn("Ping interval check failed"),void this.stopPinging();this.hasUnansweredPing=!0,this.send(E.PING)}},this.logger=u.default("@wireapp/api-client/tcp/ReconnectingWebsocket",{logger:console,markdown:!1}),t.pingInterval&&(this.PING_INTERVAL=t.pingInterval),this.hasUnansweredPing=!1}connect(){this.socket=this.getReconnectingWebsocket(),this.socket.onmessage=this.internalOnMessage,this.socket.onerror=this.internalOnError,this.socket.onopen=this.internalOnOpen,this.socket.onclose=this.internalOnClose}send(e){this.socket&&this.socket.send(e)}startPinging(){this.stopPinging(),this.hasUnansweredPing=!1,this.pingerId=setInterval(this.sendPing,this.PING_INTERVAL)}stopPinging(){this.pingerId&&clearInterval(this.pingerId)}getState(){return this.socket?this.socket.readyState:p.CLOSED}disconnect(e="Closed by client",t=!0){this.socket&&(this.logger.info(`Disconnecting from WebSocket (reason: "${e}")`),this.socket.close(h.NORMAL_CLOSURE,e,{delay:0,fastClose:!0,keepClosed:t}))}getReconnectingWebsocket(){return new d.default(this.internalOnReconnect,void 0,e.RECONNECTING_OPTIONS)}setOnOpen(e){this.onOpen=e}setOnMessage(e){this.onMessage=e}setOnError(e){this.onError=e}setOnClose(e){this.onClose=e}}return e.RECONNECTING_OPTIONS={WebSocket:"undefined"!=typeof window?WebSocket:l,connectionTimeout:4*c.TimeUtil.TimeInMillis.SECOND,debug:!1,maxReconnectionDelay:10*c.TimeUtil.TimeInMillis.SECOND,maxRetries:1/0,minReconnectionDelay:4*c.TimeUtil.TimeInMillis.SECOND,reconnectionDelayGrowFactor:1.3},e})();t.ReconnectingWebsocket=v},function(e,t,n){"use strict";n.r(t);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function s(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var a=function(e,t){this.target=t,this.type=e},c=function(e){function t(t,n){var r=e.call(this,"error",n)||this;return r.message=t.message,r.error=t,r}return i(t,e),t}(a),u=function(e){function t(t,n,r){void 0===t&&(t=1e3),void 0===n&&(n="");var i=e.call(this,"close",r)||this;return i.wasClean=!0,i.code=t,i.reason=n,i}return i(t,e),t}(a),d=function(){if("undefined"!=typeof WebSocket)return WebSocket},l={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},f=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(e){r._debug("open event");var t=r._options.minUptime,n=void 0===t?l.minUptime:t;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(e){return r._ws.send(e)})),r._messageQueue=[],r.onopen&&r.onopen(e),r._listeners.open.forEach((function(t){return r._callEventListener(e,t)}))},this._handleMessage=function(e){r._debug("message event"),r.onmessage&&r.onmessage(e),r._listeners.message.forEach((function(t){return r._callEventListener(e,t)}))},this._handleError=function(e){r._debug("error event",e.message),r._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),r.onerror&&r.onerror(e),r._debug("exec error listeners"),r._listeners.error.forEach((function(t){return r._callEventListener(e,t)})),r._connect()},this._handleClose=function(e){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(e),r._listeners.close.forEach((function(t){return r._callEventListener(e,t)}))},this._url=e,this._protocols=t,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,n=void 0===t?l.maxEnqueuedMessages:t;this._messageQueue.length<n&&(this._debug("enqueue",e),this._messageQueue.push(e))}},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.dispatchEvent=function(e){var t,n,r=this._listeners[e.type];if(r)try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),o=i.next();!o.done;o=i.next()){var s=o.value;this._callEventListener(e,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t})))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,s(["RWS>"],e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?l.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,i=void 0===r?l.minReconnectionDelay:r,o=e.maxReconnectionDelay,s=void 0===o?l.maxReconnectionDelay:o,a=0;return this._retryCount>0&&(a=i*Math.pow(n,this._retryCount-1))>s&&(a=s),this._debug("next delay",a),a},e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))},e.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){var t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,r=void 0===n?l.maxRetries:n,i=t.connectionTimeout,o=void 0===i?l.connectionTimeout:i,s=t.WebSocket,a=void 0===s?d():s;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(c=a)||!c||2!==c.CLOSING)throw Error("No valid WebSocket class provided");var c;this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){e._closeCalled||(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new a(t,e._protocols):new a(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),o))}))}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new c(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new u(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}();t.default=f},function(e,t,n){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e){e.exports=JSON.parse('{"browser":{"./dist/shims/node/buffer":"./dist/shims/browser/buffer.js","./dist/shims/node/cookie":"./dist/shims/browser/cookie.js"},"dependencies":{"@types/node":"~12","@types/spark-md5":"3.0.2","@types/tough-cookie":"4.0.0","@wireapp/commons":"3.6.2","@wireapp/priority-queue":"1.6.6","axios":"0.19.2","logdown":"3.3.1","reconnecting-websocket":"4.4.0","spark-md5":"3.0.1","tough-cookie":"4.0.0","ws":"7.3.1"},"devDependencies":{"@babel/core":"7.9.0","@babel/plugin-proposal-class-properties":"7.10.4","@babel/plugin-proposal-object-rest-spread":"7.10.1","@babel/plugin-proposal-optional-chaining":"7.9.0","@babel/preset-react":"7.10.4","@babel/preset-typescript":"7.10.4","@types/jasmine":"3.5.10","@types/karma":"4.4.0","@types/react":"16.9.19","@types/react-dom":"16.9.8","@types/ws":"7.2.6","@wireapp/react-ui-kit":"7.36.1","@wireapp/store-engine":"4.5.8","@wireapp/store-engine-fs":"2.2.11","babel-loader":"8.1.0","browser-sync":"2.26.7","concurrently":"5.2.0","cross-env":"7.0.2","dotenv":"8.2.0","istanbul":"1.1.0-alpha.1","jasmine":"3.5.0","karma":"5.1.0","karma-chrome-launcher":"3.1.0","karma-jasmine":"3.1.1","karma-jasmine-diff-reporter":"2.0.0","karma-sourcemap-loader":"0.3.7","karma-spec-reporter":"0.0.32","karma-webpack":"4.0.2","nock":"12.0.3","nyc":"15.1.0","react":"16.13.1","react-dom":"16.13.1","react-hot-loader":"4.12.21","rimraf":"3.0.2","sinon":"9.0.0","sinon-har-server":"0.3.0","ts-node":"8.6.2","typescript":"3.9.2","webpack":"4.43.0","webpack-cli":"3.3.12","webpack-dev-server":"3.11.0","ws":"7.3.1"},"description":"Wire API Client to send and receive data.","files":["dist","src"],"license":"GPL-3.0","main":"dist/APIClient.js","name":"@wireapp/api-client","repository":"https://github.com/wireapp/wire-web-packages/tree/master/packages/api-client","scripts":{"build":"yarn build:node && yarn build:browser","build:browser":"webpack --config ./webpack.browser.js","build:node":"tsc","clean":"rimraf dist","coverage":"istanbul cover --report html ./node_modules/jasmine/bin/jasmine.js","dist":"yarn clean && yarn build","start":"yarn build:node && concurrently \\"tsc -w\\" \\"webpack -w\\" \\"browser-sync start -c bs-config.js\\"","start:node":"cross-env NODE_DEBUG=@wireapp* ts-node demo.ts","test":"yarn test:node && yarn test:browser","test:project":"yarn dist && yarn test","test:browser":"karma start","test:node":"cross-env NODE_DEBUG=@wireapp/api-client* nyc jasmine --config=jasmine.json","watch":"webpack-dev-server --config webpack.browser.js"},"version":"11.21.2"}')}]);
//# sourceMappingURL=api-client.bundle.js.map