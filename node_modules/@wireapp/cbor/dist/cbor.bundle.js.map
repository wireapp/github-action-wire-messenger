{"version":3,"sources":["webpack://CBOR/webpack/bootstrap","webpack://CBOR/./dist/cbor/Type.js","webpack://CBOR/./dist/cbor/BaseError.js","webpack://CBOR/./dist/cbor/DecodeError.js","webpack://CBOR/./dist/index.js","webpack://CBOR/./dist/cbor/Decoder.js","webpack://CBOR/./dist/cbor/Encoder.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Type","type","ARRAY","BOOL","BREAK","BYTES","FLOAT16","FLOAT32","FLOAT64","UINT8","UINT16","UINT32","UINT64","INT8","INT16","INT32","INT64","NULL","OBJECT","TAGGED","TEXT","UNDEFINED","TypeError","BaseError","Error","message","super","this","setPrototypeOf","DecodeError","BaseError_1","extra","INT_OVERFLOW","INVALID_TYPE","TOO_LONG","TOO_NESTED","UNEXPECTED_EOF","UNEXPECTED_TYPE","DecodeError_1","Decoder_1","Decoder","Encoder_1","Encoder","Type_1","DEFAULT_CONFIG","max_array_length","max_bytes_length","max_nesting","max_object_size","max_text_length","buffer","config","view","DataView","int","overflow","bytes","byteOffset","byteLength","closure","_available","_advance","_read","getUint8","getUint16","getUint32","Math","pow","getFloat32","getFloat64","minor","_u8","_u16","_u32","_check_overflow","_u64","Number","MAX_SAFE_INTEGER","max_len","len","_read_length","slice","expected","_read_type_info","Array","isArray","some","expectedType","_read_unsigned","level","_skip_until_break","_skip_value","_type_info_with_assert","_read_signed","u64","i64","half","exp","mant","ldexp","significand","exponent","val","POSITIVE_INFINITY","NaN","_f32","_f64","_bytes","utf8","Uint8Array","reduce","previousValue","char","String","fromCharCode","decodeURIComponent","escape","error","ArrayBuffer","need_nbytes","max","new_len","_new_buffer_length","new_buf","set","_grow_buffer","callback","_ensure","major","RangeError","_write","setUint8","setUint16","setUint32","low","high","setFloat32","setFloat64","nbytes","_write_type_and_len","unescape","encodeURIComponent","length","split","map","charCodeAt"],"mappings":"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","file":"cbor.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Type = void 0;\nlet Type = /** @class */ (() => {\n    class Type {\n        static major(type) {\n            switch (type) {\n                case Type.ARRAY:\n                    return 4;\n                case Type.BOOL:\n                    return 7;\n                case Type.BREAK:\n                    return 7;\n                case Type.BYTES:\n                    return 2;\n                case Type.FLOAT16:\n                    return 7;\n                case Type.FLOAT32:\n                    return 7;\n                case Type.FLOAT64:\n                    return 7;\n                case Type.UINT8:\n                    return 0;\n                case Type.UINT16:\n                    return 0;\n                case Type.UINT32:\n                    return 0;\n                case Type.UINT64:\n                    return 0;\n                case Type.INT8:\n                    return 1;\n                case Type.INT16:\n                    return 1;\n                case Type.INT32:\n                    return 1;\n                case Type.INT64:\n                    return 1;\n                case Type.NULL:\n                    return 7;\n                case Type.OBJECT:\n                    return 5;\n                case Type.TAGGED:\n                    return 6;\n                case Type.TEXT:\n                    return 3;\n                case Type.UNDEFINED:\n                    return 7;\n                default:\n                    throw new TypeError('Invalid CBOR type');\n            }\n        }\n    }\n    Type.ARRAY = 1;\n    Type.BOOL = 2;\n    Type.BREAK = 3;\n    Type.BYTES = 4;\n    Type.FLOAT16 = 5;\n    Type.FLOAT32 = 6;\n    Type.FLOAT64 = 7;\n    Type.UINT8 = 8;\n    Type.UINT16 = 9;\n    Type.UINT32 = 10;\n    Type.UINT64 = 11;\n    Type.INT8 = 12;\n    Type.INT16 = 13;\n    Type.INT32 = 14;\n    Type.INT64 = 15;\n    Type.NULL = 16;\n    Type.OBJECT = 17;\n    Type.TAGGED = 18;\n    Type.TEXT = 19;\n    Type.UNDEFINED = 20;\n    return Type;\n})();\nexports.Type = Type;\n//# sourceMappingURL=Type.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseError = void 0;\nclass BaseError extends Error {\n    constructor(message) {\n        super(message);\n        this.message = message;\n        Object.setPrototypeOf(this, new.target.prototype);\n    }\n}\nexports.BaseError = BaseError;\n//# sourceMappingURL=BaseError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DecodeError = void 0;\nconst BaseError_1 = require(\"./BaseError\");\nlet DecodeError = /** @class */ (() => {\n    class DecodeError extends BaseError_1.BaseError {\n        constructor(message, extra) {\n            super(message);\n            this.message = message;\n            this.extra = extra;\n            Object.setPrototypeOf(this, new.target.prototype);\n        }\n    }\n    DecodeError.INT_OVERFLOW = 'Integer overflow';\n    DecodeError.INVALID_TYPE = 'Invalid type';\n    DecodeError.TOO_LONG = 'Field too long';\n    DecodeError.TOO_NESTED = 'Object nested too deep';\n    DecodeError.UNEXPECTED_EOF = 'Unexpected end-of-buffer';\n    DecodeError.UNEXPECTED_TYPE = 'Unexpected type';\n    return DecodeError;\n})();\nexports.DecodeError = DecodeError;\n//# sourceMappingURL=DecodeError.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BaseError_1 = require(\"./cbor/BaseError\");\nObject.defineProperty(exports, \"BaseError\", { enumerable: true, get: function () { return BaseError_1.BaseError; } });\nvar DecodeError_1 = require(\"./cbor/DecodeError\");\nObject.defineProperty(exports, \"DecodeError\", { enumerable: true, get: function () { return DecodeError_1.DecodeError; } });\nvar Decoder_1 = require(\"./cbor/Decoder\");\nObject.defineProperty(exports, \"Decoder\", { enumerable: true, get: function () { return Decoder_1.Decoder; } });\nvar Encoder_1 = require(\"./cbor/Encoder\");\nObject.defineProperty(exports, \"Encoder\", { enumerable: true, get: function () { return Encoder_1.Encoder; } });\nvar Type_1 = require(\"./cbor/Type\");\nObject.defineProperty(exports, \"Type\", { enumerable: true, get: function () { return Type_1.Type; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = void 0;\nconst DecodeError_1 = require(\"./DecodeError\");\nconst Type_1 = require(\"./Type\");\nconst BYTES_IN_MEGABYTE = 0x100000;\nconst DEFAULT_CONFIG = {\n    max_array_length: 1000,\n    max_bytes_length: 5 * BYTES_IN_MEGABYTE,\n    max_nesting: 16,\n    max_object_size: 1000,\n    max_text_length: 5 * BYTES_IN_MEGABYTE,\n};\nclass Decoder {\n    constructor(buffer, config = DEFAULT_CONFIG) {\n        this.buffer = buffer;\n        this.config = config;\n        this.view = new DataView(this.buffer);\n    }\n    static _check_overflow(int, overflow) {\n        if (int > overflow) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.INT_OVERFLOW);\n        }\n        return int;\n    }\n    _advance(bytes) {\n        this.view = new DataView(this.buffer, this.view.byteOffset + bytes);\n    }\n    get _available() {\n        return this.view.byteLength;\n    }\n    _read(bytes, closure) {\n        if (this._available < bytes) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_EOF);\n        }\n        const value = closure();\n        this._advance(bytes);\n        return value;\n    }\n    /*\n     * reader-like interface for @buffer\n     */\n    _u8() {\n        return this._read(1, () => this.view.getUint8(0));\n    }\n    _u16() {\n        return this._read(2, () => this.view.getUint16(0));\n    }\n    _u32() {\n        return this._read(4, () => this.view.getUint32(0));\n    }\n    _u64() {\n        const r64 = () => this.view.getUint32(0) * Math.pow(2, 32) + this.view.getUint32(4);\n        return this._read(8, r64);\n    }\n    _f32() {\n        return this._read(4, () => this.view.getFloat32(0));\n    }\n    _f64() {\n        return this._read(8, () => this.view.getFloat64(0));\n    }\n    _read_length(minor) {\n        if (0 <= minor && minor <= 23) {\n            return minor;\n        }\n        switch (minor) {\n            case 24:\n                return this._u8();\n            case 25:\n                return this._u16();\n            case 26:\n                return this._u32();\n            case 27:\n                return Decoder._check_overflow(this._u64(), Number.MAX_SAFE_INTEGER);\n        }\n        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n    }\n    _bytes(minor, max_len) {\n        const len = this._read_length(minor);\n        if (len > max_len) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.TOO_LONG);\n        }\n        const callback = () => this.buffer.slice(this.view.byteOffset, this.view.byteOffset + len);\n        return this._read(len, callback);\n    }\n    _read_type_info() {\n        const type = this._u8();\n        const major = (type & 0xe0) >> 5;\n        const minor = type & 0x1f;\n        switch (major) {\n            case 0: {\n                if (0 <= minor && minor <= 24) {\n                    return [Type_1.Type.UINT8, minor];\n                }\n                switch (minor) {\n                    case 25:\n                        return [Type_1.Type.UINT16, minor];\n                    case 26:\n                        return [Type_1.Type.UINT32, minor];\n                    case 27:\n                        return [Type_1.Type.UINT64, minor];\n                    default:\n                        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.INVALID_TYPE);\n                }\n            }\n            case 1: {\n                if (0 <= minor && minor <= 24) {\n                    return [Type_1.Type.INT8, minor];\n                }\n                switch (minor) {\n                    case 25:\n                        return [Type_1.Type.INT16, minor];\n                    case 26:\n                        return [Type_1.Type.INT32, minor];\n                    case 27:\n                        return [Type_1.Type.INT64, minor];\n                    default:\n                        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.INVALID_TYPE);\n                }\n            }\n            case 2:\n                return [Type_1.Type.BYTES, minor];\n            case 3:\n                return [Type_1.Type.TEXT, minor];\n            case 4:\n                return [Type_1.Type.ARRAY, minor];\n            case 5:\n                return [Type_1.Type.OBJECT, minor];\n            case 7:\n                switch (minor) {\n                    case 20:\n                    case 21:\n                        return [Type_1.Type.BOOL, minor];\n                    case 22:\n                        return [Type_1.Type.NULL, minor];\n                    case 23:\n                        return [Type_1.Type.UNDEFINED, minor];\n                    case 25:\n                        return [Type_1.Type.FLOAT16, minor];\n                    case 26:\n                        return [Type_1.Type.FLOAT32, minor];\n                    case 27:\n                        return [Type_1.Type.FLOAT64, minor];\n                    case 31:\n                        return [Type_1.Type.BREAK, minor];\n                }\n                break;\n        }\n        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.INVALID_TYPE);\n    }\n    _type_info_with_assert(expected) {\n        const [type, minor] = this._read_type_info();\n        if (!Array.isArray(expected)) {\n            expected = [expected];\n        }\n        const hasExpectedType = expected.some(expectedType => type === expectedType);\n        if (!hasExpectedType) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE, [type, minor]);\n        }\n        return [type, minor];\n    }\n    _read_unsigned(type, minor) {\n        switch (type) {\n            case Type_1.Type.UINT8:\n                return minor <= 23 ? minor : this._u8();\n            case Type_1.Type.UINT16:\n                return this._u16();\n            case Type_1.Type.UINT32:\n                return this._u32();\n            case Type_1.Type.UINT64:\n                return this._u64();\n        }\n        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE, [type, minor]);\n    }\n    _read_signed(overflow, type, minor) {\n        switch (type) {\n            case Type_1.Type.INT8:\n                if (minor <= 23) {\n                    return -1 - minor;\n                }\n                return -1 - Decoder._check_overflow(this._u8(), overflow);\n            case Type_1.Type.INT16:\n                return -1 - Decoder._check_overflow(this._u16(), overflow);\n            case Type_1.Type.INT32:\n                return -1 - Decoder._check_overflow(this._u32(), overflow);\n            case Type_1.Type.INT64:\n                return -1 - Decoder._check_overflow(this._u64(), overflow);\n            case Type_1.Type.UINT8:\n            case Type_1.Type.UINT16:\n            case Type_1.Type.UINT32:\n            case Type_1.Type.UINT64:\n                return Decoder._check_overflow(this._read_unsigned(type, minor), overflow);\n        }\n        throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE, [type, minor]);\n    }\n    _skip_until_break(type) {\n        for (;;) {\n            const [t, minor] = this._read_type_info();\n            if (t === Type_1.Type.BREAK) {\n                return;\n            }\n            if (t !== type || minor === 31) {\n                throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n            }\n            const len = this._read_length(minor);\n            this._advance(len);\n        }\n    }\n    _skip_value(level) {\n        if (level === 0) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.TOO_NESTED);\n        }\n        const [type, minor] = this._read_type_info();\n        let len;\n        switch (type) {\n            case Type_1.Type.UINT8:\n            case Type_1.Type.UINT16:\n            case Type_1.Type.UINT32:\n            case Type_1.Type.UINT64:\n            case Type_1.Type.INT8:\n            case Type_1.Type.INT16:\n            case Type_1.Type.INT32:\n            case Type_1.Type.INT64:\n                this._read_length(minor);\n                return true;\n            case Type_1.Type.BOOL:\n            case Type_1.Type.NULL:\n            case Type_1.Type.UNDEFINED:\n                return true;\n            case Type_1.Type.BREAK:\n                return false;\n            case Type_1.Type.FLOAT16:\n                this._advance(2);\n                return true;\n            case Type_1.Type.FLOAT32:\n                this._advance(4);\n                return true;\n            case Type_1.Type.FLOAT64:\n                this._advance(8);\n                return true;\n            case Type_1.Type.BYTES:\n            case Type_1.Type.TEXT:\n                if (minor === 31) {\n                    this._skip_until_break(type);\n                    return true;\n                }\n                len = this._read_length(minor);\n                this._advance(len);\n                return true;\n            case Type_1.Type.ARRAY:\n            case Type_1.Type.OBJECT:\n                if (minor === 31) {\n                    while (this._skip_value(level - 1)) {\n                        // do nothing\n                    }\n                    return true;\n                }\n                len = this._read_length(minor);\n                while (len--) {\n                    this._skip_value(level - 1);\n                }\n                return true;\n            default:\n                return false;\n        }\n    }\n    u8() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.UINT8]);\n        return this._read_unsigned(type, minor);\n    }\n    u16() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.UINT8, Type_1.Type.UINT16]);\n        return this._read_unsigned(type, minor);\n    }\n    u32() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.UINT8, Type_1.Type.UINT16, Type_1.Type.UINT32]);\n        return this._read_unsigned(type, minor);\n    }\n    u64() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.UINT8, Type_1.Type.UINT16, Type_1.Type.UINT32, Type_1.Type.UINT64]);\n        return this._read_unsigned(type, minor);\n    }\n    i8() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.INT8, Type_1.Type.UINT8]);\n        return this._read_signed(127, type, minor);\n    }\n    i16() {\n        const [type, minor] = this._type_info_with_assert([Type_1.Type.INT8, Type_1.Type.INT16, Type_1.Type.UINT8, Type_1.Type.UINT16]);\n        return this._read_signed(32767, type, minor);\n    }\n    i32() {\n        const [type, minor] = this._type_info_with_assert([\n            Type_1.Type.INT8,\n            Type_1.Type.INT16,\n            Type_1.Type.INT32,\n            Type_1.Type.UINT8,\n            Type_1.Type.UINT16,\n            Type_1.Type.UINT32,\n        ]);\n        return this._read_signed(2147483647, type, minor);\n    }\n    i64() {\n        const [type, minor] = this._type_info_with_assert([\n            Type_1.Type.INT8,\n            Type_1.Type.INT16,\n            Type_1.Type.INT32,\n            Type_1.Type.INT64,\n            Type_1.Type.UINT8,\n            Type_1.Type.UINT16,\n            Type_1.Type.UINT32,\n            Type_1.Type.UINT64,\n        ]);\n        return this._read_signed(Number.MAX_SAFE_INTEGER, type, minor);\n    }\n    unsigned() {\n        return this.u64();\n    }\n    int() {\n        return this.i64();\n    }\n    f16() {\n        this._type_info_with_assert(Type_1.Type.FLOAT16);\n        const half = this._u16();\n        const exp = (half >> 10) & 0x1f;\n        const mant = half & 0x3ff;\n        const ldexp = (significand, exponent) => significand * Math.pow(2, exponent);\n        let val;\n        switch (exp) {\n            case 0:\n                val = ldexp(mant, -24);\n                break;\n            case 31:\n                val = mant === 0 ? Number.POSITIVE_INFINITY : Number.NaN;\n                break;\n            default:\n                val = ldexp(mant + 1024, exp - 25);\n                break;\n        }\n        return half & 0x8000 ? -val : val;\n    }\n    f32() {\n        this._type_info_with_assert(Type_1.Type.FLOAT32);\n        return this._f32();\n    }\n    f64() {\n        this._type_info_with_assert(Type_1.Type.FLOAT64);\n        return this._f64();\n    }\n    bool() {\n        const minor = this._type_info_with_assert(Type_1.Type.BOOL)[1];\n        switch (minor) {\n            case 20:\n                return false;\n            case 21:\n                return true;\n            default:\n                throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n        }\n    }\n    bytes() {\n        const minor = this._type_info_with_assert(Type_1.Type.BYTES)[1];\n        if (minor === 31) {\n            // XXX: handle indefinite encoding\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n        }\n        return this._bytes(minor, this.config.max_bytes_length);\n    }\n    text() {\n        const minor = this._type_info_with_assert(Type_1.Type.TEXT)[1];\n        if (minor === 31) {\n            // XXX: handle indefinite encoding\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n        }\n        const array = new Uint8Array(this._bytes(minor, this.config.max_text_length));\n        const utf8 = array.reduce((previousValue, char) => previousValue + String.fromCharCode(char), '');\n        // http://ecmanaut.blogspot.de/2006/07/encoding-decoding-utf8-in-javascript.html\n        return decodeURIComponent(escape(utf8));\n    }\n    optional(closure) {\n        try {\n            const result = closure();\n            return result;\n        }\n        catch (error) {\n            if (error instanceof DecodeError_1.DecodeError && error.extra) {\n                const type = error.extra[0];\n                if (type === Type_1.Type.NULL) {\n                    return null;\n                }\n                else if (type === Type_1.Type.UNDEFINED) {\n                    return undefined;\n                }\n            }\n            throw error;\n        }\n    }\n    array() {\n        const minor = this._type_info_with_assert(Type_1.Type.ARRAY)[1];\n        if (minor === 31) {\n            // XXX: handle indefinite encoding\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n        }\n        const len = this._read_length(minor);\n        if (len > this.config.max_array_length) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.TOO_LONG);\n        }\n        return len;\n    }\n    object() {\n        const minor = this._type_info_with_assert(Type_1.Type.OBJECT)[1];\n        if (minor === 31) {\n            // XXX: handle indefinite encoding\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.UNEXPECTED_TYPE);\n        }\n        const len = this._read_length(minor);\n        if (len > this.config.max_object_size) {\n            throw new DecodeError_1.DecodeError(DecodeError_1.DecodeError.TOO_LONG);\n        }\n        return len;\n    }\n    skip() {\n        return this._skip_value(this.config.max_nesting);\n    }\n}\nexports.Decoder = Decoder;\n//# sourceMappingURL=Decoder.js.map","\"use strict\";\n/*\n * Wire\n * Copyright (C) 2018 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Encoder = void 0;\nconst Type_1 = require(\"./Type\");\nclass Encoder {\n    constructor() {\n        this.buffer = new ArrayBuffer(4);\n        this.view = new DataView(this.buffer);\n    }\n    get_buffer() {\n        return this.buffer.slice(0, this.view.byteOffset);\n    }\n    _new_buffer_length(need_nbytes) {\n        return ~~Math.max(this.buffer.byteLength * 1.5, this.buffer.byteLength + need_nbytes);\n    }\n    _grow_buffer(need_nbytes) {\n        const new_len = this._new_buffer_length(need_nbytes);\n        const new_buf = new ArrayBuffer(new_len);\n        new Uint8Array(new_buf).set(new Uint8Array(this.buffer));\n        this.buffer = new_buf;\n        this.view = new DataView(this.buffer, this.view.byteOffset);\n    }\n    _ensure(bytes) {\n        if (!(this.view.byteLength < bytes)) {\n            return;\n        }\n        return this._grow_buffer(bytes);\n    }\n    _advance(bytes) {\n        this.view = new DataView(this.buffer, this.view.byteOffset + bytes);\n    }\n    _write(bytes, callback) {\n        this._ensure(bytes);\n        callback();\n        return this._advance(bytes);\n    }\n    _write_type_and_len(type, len) {\n        const major = Type_1.Type.major(type) << 5;\n        if (0 <= len && len <= 23) {\n            return this._u8(major | len);\n        }\n        else if (24 <= len && len <= 255) {\n            this._u8(major | 24);\n            return this._u8(len);\n        }\n        else if (0x100 <= len && len <= 0xffff) {\n            this._u8(major | 25);\n            return this._u16(len);\n        }\n        else if (0x10000 <= len && len <= 0xffffffff) {\n            this._u8(major | 26);\n            return this._u32(len);\n        }\n        else if (len <= Number.MAX_SAFE_INTEGER) {\n            this._u8(major | 27);\n            return this._u64(len);\n        }\n        throw new RangeError('Invalid size for CBOR object');\n    }\n    /*\n     * writer-like interface over our ArrayBuffer\n     */\n    _u8(value) {\n        return this._write(1, () => this.view.setUint8(0, value));\n    }\n    _u16(value) {\n        return this._write(2, () => this.view.setUint16(0, value));\n    }\n    _u32(value) {\n        return this._write(4, () => this.view.setUint32(0, value));\n    }\n    _u64(value) {\n        const low = value % Math.pow(2, 32);\n        const high = (value - low) / Math.pow(2, 32);\n        const w64 = () => {\n            this.view.setUint32(0, high);\n            return this.view.setUint32(4, low);\n        };\n        return this._write(8, w64);\n    }\n    _f32(value) {\n        return this._write(4, () => this.view.setFloat32(0, value));\n    }\n    _f64(value) {\n        return this._write(8, () => this.view.setFloat64(0, value));\n    }\n    _bytes(value) {\n        const nbytes = value.byteLength;\n        this._ensure(nbytes);\n        new Uint8Array(this.buffer, this.view.byteOffset).set(value);\n        return this._advance(nbytes);\n    }\n    u8(value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else {\n            throw new RangeError('Invalid u8');\n        }\n        return this;\n    }\n    u16(value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else {\n            throw new RangeError('Invalid u16');\n        }\n        return this;\n    }\n    u32(value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(26);\n            this._u32(value);\n        }\n        else {\n            throw new RangeError('Invalid u32');\n        }\n        return this;\n    }\n    u64(value) {\n        if (0 <= value && value <= 23) {\n            this._u8(value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(26);\n            this._u32(value);\n        }\n        else if (value <= Number.MAX_SAFE_INTEGER) {\n            this._u8(27);\n            this._u64(value);\n        }\n        else {\n            throw new RangeError('Invalid unsigned integer');\n        }\n        return this;\n    }\n    i8(value) {\n        if (value >= 0) {\n            this._u8(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else {\n            throw new RangeError('Invalid i8');\n        }\n        return this;\n    }\n    i16(value) {\n        if (value >= 0) {\n            this._u16(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else {\n            throw new RangeError('Invalid i16');\n        }\n        return this;\n    }\n    i32(value) {\n        if (value >= 0) {\n            this._u32(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(0x20 | 26);\n            this._u32(value);\n        }\n        else {\n            throw new RangeError('Invalid i32');\n        }\n        return this;\n    }\n    i64(value) {\n        if (value >= 0) {\n            this._u64(value);\n            return this;\n        }\n        value = -1 - value;\n        if (0 <= value && value <= 23) {\n            this._u8(0x20 | value);\n        }\n        else if (24 <= value && value <= 255) {\n            this._u8(0x20 | 24);\n            this._u8(value);\n        }\n        else if (0x100 <= value && value <= 0xffff) {\n            this._u8(0x20 | 25);\n            this._u16(value);\n        }\n        else if (0x10000 <= value && value <= 0xffffffff) {\n            this._u8(0x20 | 26);\n            this._u32(value);\n        }\n        else if (value <= Number.MAX_SAFE_INTEGER) {\n            this._u8(0x20 | 27);\n            this._u64(value);\n        }\n        else {\n            throw new RangeError('Invalid i64');\n        }\n        return this;\n    }\n    f32(value) {\n        this._u8(0xe0 | 26);\n        this._f32(value);\n        return this;\n    }\n    f64(value) {\n        this._u8(0xe0 | 27);\n        this._f64(value);\n        return this;\n    }\n    bool(value) {\n        this._u8(0xe0 | (value ? 21 : 20));\n        return this;\n    }\n    bytes(value) {\n        this._write_type_and_len(Type_1.Type.BYTES, value.byteLength);\n        this._bytes(value);\n        return this;\n    }\n    text(value) {\n        // http://ecmanaut.blogspot.de/2006/07/encoding-decoding-utf8-in-javascript.html\n        const utf8 = unescape(encodeURIComponent(value));\n        this._write_type_and_len(Type_1.Type.TEXT, utf8.length);\n        this._bytes(new Uint8Array(utf8.split('').map(char => char.charCodeAt(0))));\n        return this;\n    }\n    null() {\n        this._u8(0xe0 | 22);\n        return this;\n    }\n    undefined() {\n        this._u8(0xe0 | 23);\n        return this;\n    }\n    array(len) {\n        this._write_type_and_len(Type_1.Type.ARRAY, len);\n        return this;\n    }\n    array_begin() {\n        this._u8(0x9f);\n        return this;\n    }\n    array_end() {\n        this._u8(0xff);\n        return this;\n    }\n    object(len) {\n        this._write_type_and_len(Type_1.Type.OBJECT, len);\n        return this;\n    }\n    object_begin() {\n        this._u8(0xbf);\n        return this;\n    }\n    object_end() {\n        this._u8(0xff);\n        return this;\n    }\n}\nexports.Encoder = Encoder;\n//# sourceMappingURL=Encoder.js.map"],"sourceRoot":""}