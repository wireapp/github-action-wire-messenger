"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IdentityKey = void 0;
const DecodeError_1 = require("../errors/DecodeError");
const PublicKey_1 = require("./PublicKey");
class IdentityKey {
    constructor(publicKey) {
        this.public_key = publicKey;
    }
    fingerprint() {
        return this.public_key.fingerprint();
    }
    static encode(encoder, identityKey) {
        encoder.object(IdentityKey.propertiesLength);
        encoder.u8(0);
        return PublicKey_1.PublicKey.encode(encoder, identityKey.public_key);
    }
    static decode(decoder) {
        const propertiesLength = decoder.object();
        if (propertiesLength === IdentityKey.propertiesLength) {
            decoder.u8();
            const publicKey = PublicKey_1.PublicKey.decode(decoder);
            return new IdentityKey(publicKey);
        }
        throw new DecodeError_1.DecodeError(`Unexpected number of properties: "${propertiesLength}"`);
    }
}
exports.IdentityKey = IdentityKey;
IdentityKey.propertiesLength = 1;
//# sourceMappingURL=IdentityKey.js.map